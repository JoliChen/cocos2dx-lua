{"version":3,"sources":["../../../../../../../../../pal/input/web/touch.ts"],"names":["TEST","Rect","Vec2","EventTarget","legacyCC","SystemEventType","TouchInputSource","support","_canvas","_eventTarget","document","documentElement","ontouchstart","undefined","navigator","msPointerEnabled","getElementById","console","warn","_registerEvent","addEventListener","_createCallback","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","eventType","event","canvasRect","_getCanvasRect","touchDataList","length","changedTouches","i","touch","location","_getLocation","x","y","height","view","_isRotated","tmp","touchData","identifier","force","push","inputEvent","type","timestamp","performance","now","stopPropagation","target","preventDefault","focus","emit","canvas","box","getBoundingClientRect","width","clientX","clientY","onStart","cb","on","onMove","onEnd","onCancel"],"mappings":"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"}