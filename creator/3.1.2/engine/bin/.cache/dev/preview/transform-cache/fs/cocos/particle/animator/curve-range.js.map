{"version":3,"sources":["../../../../../../../../../cocos/particle/animator/curve-range.ts"],"names":["evaluateCurve","cr","time","index","mode","Mode","Constant","constant","Curve","curve","evaluate","multiplier","TwoCurves","curveMin","curveMax","TwoConstants","constantMin","constantMax","evaluateHeight","packTexture","data","width","height","image","ImageAsset","_data","_compressed","format","PixelFormat","RGBA32F","texture","Texture2D","setFilters","Filter","NEAREST","setMipFilter","NONE","setWrapMode","WrapMode","CLAMP_TO_EDGE","packCurveRangeZ","samples","discrete","Float32Array","interval","sum","average","offset","h","j","value","packCurveRangeN","packCurveRangeXY","x","y","Math","max","curves","i","packCurveRangeXYZ","z","packCurveRangeXYZW","w","ccclass","type","serializable","editable","EDITOR","lerp","Enum","AnimationCurve","SerializableTable","CurveRange","rndRatio","getMax","_onBeforeSerialize","props"],"mappings":"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"}