{"version":3,"sources":["../../../../../../../../../../cocos/physics/cannon/shapes/cannon-cylinder-shape.ts"],"names":["CANNON","CannonShape","EAxisDirection","commitShapeUpdates","CannonCylinderShape","setRadius","v","updateProperties","collider","radius","height","CC_CONFIG","numSegmentsCylinder","direction","node","worldScale","_index","_body","setHeight","setDirection","Y_AXIS","_shape","Cylinder","onLoad","setScale","scale","numSegments","wh","wr","cos","Math","sin","abs","max","y","x","z","N","hH","vertices","indices","axes","theta","PI","bf","tf","i","push","Vec3","temp","length","impl","faces","uniqueAxes","worldVerticesNeedsUpdate","worldFaceNormalsNeedsUpdate","computeNormals","computeEdges","updateBoundingSphereRadius","_collider"],"mappings":"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"}