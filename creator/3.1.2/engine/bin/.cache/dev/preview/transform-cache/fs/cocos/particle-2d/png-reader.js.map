{"version":3,"sources":["../../../../../../../../cocos/particle-2d/png-reader.ts"],"names":["getError","zlib","PNGReader","data","pos","palette","imgData","text","width","height","bits","colorType","compressionMethod","filterMethod","interlaceMethod","colors","hasAlphaChannel","pixelBitlength","transparency","indexed","rgb","grayscale","frame","i","_i","_j","chunkSize","readUInt32","section","_results","push","String","fromCharCode","call","join","animation","numFrames","numPlays","Infinity","frames","read","xOffset","yOffset","delayNum","readUInt16","delayDen","delay","disposeOp","blendOp","ccshort","length","index","indexOf","key","apply","slice","_ref","colorSpace","Uint8Array","Error","bytes","b1","b2","b3","b4","decodePixels","inflate","Inflate","verify","decompress","pixelBytes","scanlineLength","pixels","row","c","ccbyte","col","_k","_l","_m","left","p","pa","paeth","pb","pc","upper","upperLeft","Math","floor","abs","copyToImageData","imageData","alpha","_decodedPalette","decodePalette","input","j","k","v","ret","_ref1","render","canvas","ctx","getContext","createImageData","putImageData"],"mappings":"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"}