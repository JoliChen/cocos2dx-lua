{"version":3,"sources":["../../../../../../../../../../../cocos/2d/assembler/graphics/webgl/earcut.ts"],"names":["linkedList","datas","start","end","dim","clockwise","i","last","signedArea","insertNode","equals","next","removeNode","filterPoints","p","again","steiner","area","prev","earcutLinked","ear","triangles","minX","minY","size","pass","indexCurve","stop","isEarHashed","isEar","push","cureLocalIntersections","splitEarcut","a","b","c","pointInTriangle","x","y","minTX","minTY","maxTX","maxTY","minZ","zOrder","maxZ","nextZ","z","prevZ","intersects","locallyInside","isValidDiagonal","splitPolygon","eliminateHoles","holeIndices","outerNode","queue","len","list","length","getLeftmost","sort","compareX","eliminateHole","hole","findHoleBridge","hx","hy","qx","Infinity","m","mx","my","tanMin","tan","Math","abs","sortLinked","q","e","tail","numMerges","pSize","qSize","inSize","leftmost","ax","ay","bx","by","cx","cy","px","py","intersectsPolygon","middleInside","r","p1","p2","q1","q2","inside","a2","Aim","b2","an","bp","sum","j","earcut","hasHoles","outerLen","maxX","maxY","max"],"mappings":"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ACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;oBA5FgBwF,M;;;;;AAloBhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEMN,MAAAA,G,GACF;AAGA;AAIA;AAIA;AACA;AAGA;AAIA;AAGA,mBAAajG,CAAb,EAAwB+B,CAAxB,EAAmCC,CAAnC,EAA8C;AAAA,aArBvChC,CAqBuC;AAAA,aAlBvC+B,CAkBuC;AAAA,aAjBvCC,CAiBuC;AAAA,aAdvCpB,IAcuC,GAdpB,IAcoB;AAAA,aAbvCP,IAauC,GAbpB,IAaoB;AAAA,aATvCoC,CASuC,GATnC,CASmC;AAAA,aANvCC,KAMuC,GANnB,IAMmB;AAAA,aALvCF,KAKuC,GALnB,IAKmB;AAAA,aAFvC9B,OAEuC,GAF7B,KAE6B;AAC1C,aAAKV,CAAL,GAASA,CAAT;AACA,aAAK+B,CAAL,GAASA,CAAT;AACA,aAAKC,CAAL,GAASA,CAAT;AACH,O"}