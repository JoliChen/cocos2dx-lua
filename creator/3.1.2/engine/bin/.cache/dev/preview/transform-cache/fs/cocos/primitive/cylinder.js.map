{"version":3,"sources":["../../../../../../../../cocos/primitive/cylinder.ts"],"names":["cylinder","radiusTop","radiusBottom","height","opts","halfHeight","radialSegments","heightSegments","capped","undefined","arc","Math","PI","cntCap","vertCount","indexCount","indices","Array","positions","normals","uvs","maxRadius","max","minPos","Vec3","maxPos","boundingRadius","sqrt","index","indexOffset","generateTorso","generateCap","indexArray","r","slope","sign","y","indexRow","v","radius","x","u","theta","sinTheta","sin","cosTheta","cos","normalize","temp1","set","temp2","z","push","i1","i2","i3","i4","top","centerIndexStart","centerIndexEnd","c","i"],"mappings":"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"}