{"version":3,"sources":["../../../../../../../../../cocos/particle/animator/texture-animation.ts"],"names":["ccclass","tooltip","displayOrder","type","formerlySerializedAs","serializable","lerp","pseudoRandom","repeat","Enum","ParticleModuleBase","PARTICLE_MODULE_NAME","CurveRange","ModuleRandSeed","TEXTURE_ANIMATION_RAND_OFFSET","TEXTURE","Mode","Grid","Animation","WholeSheet","SingleRow","TextureAnimationModule","name","init","p","startRow","Math","floor","random","numTilesY","animate","dt","normalizedTime","remainingLifetime","startLifetime","startFrame","evaluate","randomSeed","numTilesX","animation","frameIndex","cycleCount","frameOverTime","rowLength","randomRow","f","from","to","rowIndex","_enable","val","target","updateMaterialParams","enableModule","_mode","console","error","_numTilesX","_numTilesY","_flipU","_flipV","_uvChannelMask"],"mappings":"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"}