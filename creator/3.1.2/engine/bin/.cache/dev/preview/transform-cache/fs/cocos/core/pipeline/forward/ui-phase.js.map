{"version":3,"sources":["../../../../../../../../../../cocos/core/pipeline/forward/ui-phase.ts"],"names":["PipelineStateManager","SetIndex","IAPool","DSPool","ShaderPool","BatchPool2D","BatchView2D","getPhaseID","UIPhase","_phaseID","activate","pipeline","_pipeline","render","camera","renderPass","device","cmdBuff","commandBuffers","scene","batches","i","length","batch","visible","visibility","visFlags","handle","count","get","PASS_COUNT","j","pass","passes","phase","shaderHandle","SHADER_0","shader","inputAssembler","hInputAssembler","ds","hDescriptorSet","pso","getOrCreatePipelineState","bindPipelineState","bindDescriptorSet","MATERIAL","descriptorSet","LOCAL","bindInputAssembler","draw"],"mappings":";;;;;;AA0BSA,MAAAA,oB,2BAAAA,oB;;AACAC,MAAAA,Q,aAAAA,Q;;AACAC,MAAAA,M,8BAAAA,M;AAAQC,MAAAA,M,8BAAAA,M;AAAQC,MAAAA,U,8BAAAA,U;AAAYC,MAAAA,W,8BAAAA,W;AAAaC,MAAAA,W,8BAAAA,W;;AAIzCC,MAAAA,U,gBAAAA,U;;;AAhCT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;yBAWaC,O;;eACDC,Q,GAAWF,UAAU,CAAC,SAAD,C;;;;;eAGtBG,Q,GAAP,kBAAiBC,QAAjB,EAA2C;AACvC,eAAKC,SAAL,GAAiBD,QAAjB;AACH,S;;eAEME,M,GAAP,gBAAeC,MAAf,EAA+BC,UAA/B,EAAuD;AACnD,cAAMJ,QAAQ,GAAG,KAAKC,SAAtB;AACA,cAAMI,MAAM,GAAGL,QAAQ,CAACK,MAAxB;AACA,cAAMC,OAAO,GAAGN,QAAQ,CAACO,cAAT,CAAwB,CAAxB,CAAhB;AACA,cAAMC,KAAK,GAAGL,MAAM,CAACK,KAArB;AACA,cAAMC,OAAO,GAAGD,KAAK,CAACC,OAAtB;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,OAAO,CAACE,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,gBAAME,KAAK,GAAGH,OAAO,CAACC,CAAD,CAArB;AACA,gBAAIG,OAAO,GAAG,KAAd;;AACA,gBAAIV,MAAM,CAACW,UAAP,GAAoBF,KAAK,CAACG,QAA9B,EAAwC;AACpCF,cAAAA,OAAO,GAAG,IAAV;AACH;;AAED,gBAAI,CAACA,OAAL,EAAc;AACd,gBAAMG,MAAM,GAAGJ,KAAK,CAACI,MAArB;AACA,gBAAMC,KAAK,GAAGvB,WAAW,CAACwB,GAAZ,CAAgBF,MAAhB,EAAwBrB,WAAW,CAACwB,UAApC,CAAd;;AACA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAApB,EAA2BG,CAAC,EAA5B,EAAgC;AAC5B,kBAAMC,IAAI,GAAGT,KAAK,CAACU,MAAN,CAAaF,CAAb,CAAb;AACA,kBAAIC,IAAI,CAACE,KAAL,KAAe,KAAKzB,QAAxB,EAAkC;AAClC,kBAAM0B,YAAY,GAAG9B,WAAW,CAACwB,GAAZ,CAAgBF,MAAhB,EAAwBrB,WAAW,CAAC8B,QAAZ,GAAuBL,CAA/C,CAArB;AACA,kBAAMM,MAAM,GAAGjC,UAAU,CAACyB,GAAX,CAAeM,YAAf,CAAf;AACA,kBAAMG,cAAc,GAAGpC,MAAM,CAAC2B,GAAP,CAAWN,KAAK,CAACgB,eAAjB,CAAvB;AACA,kBAAMC,EAAE,GAAGrC,MAAM,CAAC0B,GAAP,CAAWN,KAAK,CAACkB,cAAjB,CAAX;AACA,kBAAMC,GAAG,GAAG1C,oBAAoB,CAAC2C,wBAArB,CAA8C3B,MAA9C,EAAsDgB,IAAtD,EAA4DK,MAA5D,EAAoEtB,UAApE,EAAgFuB,cAAhF,CAAZ;AACArB,cAAAA,OAAO,CAAC2B,iBAAR,CAA0BF,GAA1B;AACAzB,cAAAA,OAAO,CAAC4B,iBAAR,CAA0B5C,QAAQ,CAAC6C,QAAnC,EAA6Cd,IAAI,CAACe,aAAlD;AACA9B,cAAAA,OAAO,CAAC4B,iBAAR,CAA0B5C,QAAQ,CAAC+C,KAAnC,EAA0CR,EAA1C;AACAvB,cAAAA,OAAO,CAACgC,kBAAR,CAA2BX,cAA3B;AACArB,cAAAA,OAAO,CAACiC,IAAR,CAAaZ,cAAb;AACH;AACJ;AACJ,S"}