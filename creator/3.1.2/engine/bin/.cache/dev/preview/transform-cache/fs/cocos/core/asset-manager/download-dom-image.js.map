{"version":3,"sources":["../../../../../../../../../cocos/core/asset-manager/download-dom-image.ts"],"names":["downloadDomImage","url","options","onComplete","img","Image","window","location","protocol","crossOrigin","loadCallback","removeEventListener","errorCallback","Error","getError","addEventListener","src"],"mappings":";;;;;AAiCe,WAASA,gBAAT,CACXC,GADW,EAEXC,OAFW,EAGXC,UAHW,EAIK;AAChB,QAAMC,GAAG,GAAG,IAAIC,KAAJ,EAAZ;;AAEA,QAAIC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,OAAjC,EAA0C;AACtCJ,MAAAA,GAAG,CAACK,WAAJ,GAAkB,WAAlB;AACH;;AAED,aAASC,YAAT,GAAyB;AACrBN,MAAAA,GAAG,CAACO,mBAAJ,CAAwB,MAAxB,EAAgCD,YAAhC;AACAN,MAAAA,GAAG,CAACO,mBAAJ,CAAwB,OAAxB,EAAiCC,aAAjC;;AACA,UAAIT,UAAJ,EAAgB;AAAEA,QAAAA,UAAU,CAAC,IAAD,EAAOC,GAAP,CAAV;AAAwB;AAC7C;;AAED,aAASQ,aAAT,GAA0B;AACtBR,MAAAA,GAAG,CAACO,mBAAJ,CAAwB,MAAxB,EAAgCD,YAAhC;AACAN,MAAAA,GAAG,CAACO,mBAAJ,CAAwB,OAAxB,EAAiCC,aAAjC;;AACA,UAAIT,UAAJ,EAAgB;AAAEA,QAAAA,UAAU,CAAC,IAAIU,KAAJ,CAAUC,QAAQ,CAAC,IAAD,EAAOb,GAAP,CAAlB,CAAD,CAAV;AAA6C;AAClE;;AAEDG,IAAAA,GAAG,CAACW,gBAAJ,CAAqB,MAArB,EAA6BL,YAA7B;AACAN,IAAAA,GAAG,CAACW,gBAAJ,CAAqB,OAArB,EAA8BH,aAA9B;AACAR,IAAAA,GAAG,CAACY,GAAJ,GAAUf,GAAV;AACA,WAAOG,GAAP;AACH;;qBA3BuBJ,gB;;;;AAHfc,MAAAA,Q,oBAAAA,Q"}