{"version":3,"sources":["../../../../../../../../../cocos/core/asset-manager/download-script.ts"],"names":["downloadScript","url","options","onComplete","downloaded","script","document","createElement","window","location","protocol","crossOrigin","async","scriptAsyncLoading","src","loadHandler","parentNode","removeChild","removeEventListener","errorHandler","Error","getError","addEventListener","body","appendChild"],"mappings":";;;;;AAiCe,WAASA,cAAT,CACXC,GADW,EAEXC,OAFW,EAGXC,UAHW,EAIY;AACvB;AACA,QAAIC,UAAU,CAACH,GAAD,CAAd,EAAqB;AACjB,UAAIE,UAAJ,EAAgB;AAAEA,QAAAA,UAAU,CAAC,IAAD,CAAV;AAAmB;;AACrC,aAAO,IAAP;AACH;;AAED,QAAME,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;;AAEA,QAAIC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,OAAjC,EAA0C;AACtCL,MAAAA,MAAM,CAACM,WAAP,GAAqB,WAArB;AACH;;AAEDN,IAAAA,MAAM,CAACO,KAAP,GAAeV,OAAO,CAACW,kBAAR,IAA8B,KAA7C;AACAR,IAAAA,MAAM,CAACS,GAAP,GAAab,GAAb;;AACA,aAASc,WAAT,GAAwB;AACpBV,MAAAA,MAAM,CAACW,UAAP,CAAmBC,WAAnB,CAA+BZ,MAA/B;AACAA,MAAAA,MAAM,CAACa,mBAAP,CAA2B,MAA3B,EAAmCH,WAAnC,EAAgD,KAAhD;AACAV,MAAAA,MAAM,CAACa,mBAAP,CAA2B,OAA3B,EAAoCC,YAApC,EAAkD,KAAlD;AACAf,MAAAA,UAAU,CAACH,GAAD,CAAV,GAAkB,IAAlB;;AACA,UAAIE,UAAJ,EAAgB;AAAEA,QAAAA,UAAU,CAAC,IAAD,CAAV;AAAmB;AACxC;;AAED,aAASgB,YAAT,GAAyB;AACrBd,MAAAA,MAAM,CAACW,UAAP,CAAmBC,WAAnB,CAA+BZ,MAA/B;AACAA,MAAAA,MAAM,CAACa,mBAAP,CAA2B,MAA3B,EAAmCH,WAAnC,EAAgD,KAAhD;AACAV,MAAAA,MAAM,CAACa,mBAAP,CAA2B,OAA3B,EAAoCC,YAApC,EAAkD,KAAlD;;AACA,UAAIhB,UAAJ,EAAgB;AAAEA,QAAAA,UAAU,CAAC,IAAIiB,KAAJ,CAAUC,QAAQ,CAAC,IAAD,EAAOpB,GAAP,CAAlB,CAAD,CAAV;AAA6C;AAClE;;AAEDI,IAAAA,MAAM,CAACiB,gBAAP,CAAwB,MAAxB,EAAgCP,WAAhC,EAA6C,KAA7C;AACAV,IAAAA,MAAM,CAACiB,gBAAP,CAAwB,OAAxB,EAAiCH,YAAjC,EAA+C,KAA/C;AACAb,IAAAA,QAAQ,CAACiB,IAAT,CAAcC,WAAd,CAA0BnB,MAA1B;AACA,WAAOA,MAAP;AACH;;qBAtCuBL,c;;;;AALfqB,MAAAA,Q,oBAAAA,Q;;;AA5BT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAIMjB,MAAAA,U,GAAa,E"}