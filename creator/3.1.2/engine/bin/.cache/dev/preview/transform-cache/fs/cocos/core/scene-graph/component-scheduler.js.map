{"version":3,"sources":["../../../../../../../../../cocos/core/scene-graph/component-scheduler.ts"],"names":["sortedIndex","array","comp","order","constructor","_executionOrder","id","_id","l","h","length","m","test","testOrder","testId","stableRemoveInactive","iterator","flagToClear","next","i","node","_activeInHierarchy","removeAt","_objFlags","compareOrder","a","b","enableInEditor","IsEditorOnEnableCalled","legacyCC","engine","emit","uuid","GAME_VIEW","createInvokeImplJit","code","useDt","ensureFlag","body","fastPath","Function","singleInvoke","createInvokeImpl","dt","e","_throw","EDITOR","SUPPORT_JIT","DEV","TEST","CCObject","MutableForwardIterator","tryCatchFunctor_EDITOR","error","assert","fastRemoveAt","IsStartCalled","Flags","IsOnEnableCalled","callerFunctor","callOnEnableInTryCatch","callOnDisableInTryCatch","LifeCycleInvoker","invokeFunc","_zero","_neg","_pos","_invoke","Iterator","OneOffInvoker","add","push","remove","fastRemove","cancelInactive","invoke","compsNeg","sort","compsPos","ReusableInvoker","splice","invokeStart","c","start","invokeUpdate","update","invokeLateUpdate","lateUpdate","invokeOnEnable","compScheduler","director","_compScheduler","_enabled","deactivatedDuringOnEnable","_onEnabled","onEnable","ComponentScheduler","_deferredComps","unscheduleAll","startInvoker","updateInvoker","lateUpdateInvoker","_updating","getScheduler","resumeTarget","_scheduleImmediate","_onDisabled","pauseTarget","index","indexOf","enableComp","invoker","disableComp","onDisable","startPhase","_startForNewComps","updatePhase","lateUpdatePhase","_deferredSchedule","comps","len","prototype","_executeInEditMode"],"mappings":"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"}