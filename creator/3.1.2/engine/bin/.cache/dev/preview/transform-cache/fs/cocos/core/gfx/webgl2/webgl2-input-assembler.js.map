{"version":3,"sources":["../../../../../../../../../../cocos/core/gfx/webgl2/webgl2-input-assembler.ts"],"names":["InputAssembler","WebGL2CmdFuncCreateInputAssember","WebGL2CmdFuncDestroyInputAssembler","WebGL2InputAssembler","_gpuInputAssembler","initialize","info","vertexBuffers","length","console","error","_attributes","attributes","_attributesHash","computeAttributesHash","_vertexBuffers","indexBuffer","_indexBuffer","_indexCount","size","stride","_firstIndex","vertBuff","_vertexCount","_firstVertex","_vertexOffset","_instanceCount","_firstInstance","_indirectBuffer","indirectBuffer","gpuVertexBuffers","Array","i","vb","gpuBuffer","gpuIndexBuffer","glIndexType","gpuIndirectBuffer","glAttribs","glVAOs","Map","_device","destroy","webgl2Dev","useVAO"],"mappings":"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"}