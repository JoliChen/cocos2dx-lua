{"version":3,"sources":["../../../../../../../../../cocos/3d/misc/buffer.ts"],"names":["_getDataViewType","info","type","_typeMap","bytes","size","count","writeBuffer","target","data","format","offset","stride","Format","R32F","FormatInfos","writer","componentBytesLength","nSeg","Math","floor","length","isLittleEndian","sys","iSeg","x","iComponent","y","readBuffer","out","byteLength","reader","mapBuffer","callback","DataView","buffer","slice","byteOffset","cur","FormatType","UNORM","SNORM","UINT","INT","UFLOAT","FLOAT"],"mappings":"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"}