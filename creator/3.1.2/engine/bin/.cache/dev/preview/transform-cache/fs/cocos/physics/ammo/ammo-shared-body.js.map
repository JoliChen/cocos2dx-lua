{"version":3,"sources":["../../../../../../../../../cocos/physics/ammo/ammo-shared-body.ts"],"names":["Ammo","TransformBit","cocos2AmmoVec3","cocos2AmmoQuat","ammo2CocosVec3","ammo2CocosQuat","ammoDeletePtr","AmmoCollisionFlags","AmmoCollisionObjectStates","EAmmoSharedBodyDirty","AmmoInstance","CC_V3_0","CC_QUAT_0","AmmoConstant","PhysicsSystem","ERigidBodyType","PhysicsGroup","fastRemoveAt","v3_0","quat_0","sharedIDCounter","AmmoSharedBody","getSharedBody","node","wrappedWorld","wrappedBody","key","uuid","newSB","sharedBodesMap","has","get","g","DEFAULT","m","instance","collisionMatrix","_collisionFilterGroup","_collisionFilterMask","set","_wrappedBody","rigidBody","_group","id","wrappedJoints0","wrappedJoints1","dirty","ref","bodyIndex","ghostIndex","idCounter","_instantiateBodyStruct","_bodyStruct","st","btTransform","setIdentity","getOrigin","worldPosition","bodyQuat","btQuaternion","worldRotation","setRotation","motionState","btDefaultMotionState","localInertia","btVector3","bodyShape","btCompoundShape","mass","enabled","isDynamic","setValue","rbInfo","btRigidBodyConstructionInfo","EMPTY_SHAPE","body","btRigidBody","sleepTd","sleepThreshold","setSleepingThresholds","startTransform","shape","worldQuat","wrappedShapes","useCompound","bodyStructs","setUserIndex2","setUserIndex","CC_CONFIG","ignoreSelfBody","_ghostStruct","ghost","setIgnoreCollisionCheck","setBodyType","type","_instantiateGhostStruct","btCollisionObject","ghostShape","setCollisionShape","setCollisionFlags","CF_STATIC_OBJECT","CF_NO_CONTACT_RESPONSE","ghostStructs","setGhostType","setType","v","wrap","com","m_bcf","getCollisionFlags","VECTOR3_0","DYNAMIC","CF_KINEMATIC_OBJECT","setMass","useGravity","setAllowSleep","allowSleep","KINEMATIC","setMassProps","forceActivationState","DISABLE_DEACTIVATION","STATIC","ISLAND_SLEEPING","BODY_RE_ADD","m_gcf","GHOST_RE_ADD","addShape","isTrigger","switchShape","that","isEnabled","index","ghostStruct","indexOf","push","setCompound","ghostCompoundShape","ghostEnabled","bodyStruct","bodyCompoundShape","l","length","needCompound","impl","i","childShape","bodyEnabled","removeShape","activate","addJoint","removeJoint","updateDirty","updateBodyByReAdd","updateGhostByReAdd","syncSceneToPhysics","hasChangedFlags","wt","getWorldTransform","SCALE","syncBodyScale","isKinematicObject","ms","getMotionState","setWorldTransform","isBodySleeping","syncPhysicsToScene","isStaticOrKinematicObject","wt0","getBasis","getRotation","wt1","syncSceneToGhost","syncGhostScale","syncInitialBody","syncInitialGhost","setScale","updateScale0","updateScale1","removeSharedBody","bodies","addSharedBody","removeGhostObject","ghosts","addGhostObject","destroy","btCollisionShape","castObject","wrapped","state","getActivationState","isRemoveBody","enabledInHierarchy","clearState","isRemoveGhost","Map"],"mappings":"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"}