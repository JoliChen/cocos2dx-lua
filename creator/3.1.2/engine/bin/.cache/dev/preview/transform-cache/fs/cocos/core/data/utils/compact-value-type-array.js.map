{"version":3,"sources":["../../../../../../../../../../cocos/core/data/utils/compact-value-type-array.ts"],"names":["combineStorageUnitElementType","unit","elementType","elementTypeBits","extractStorageUnitElementType","combined","storageUnit","getElementTraits","BuiltinElementTypeTraits","getStorageConstructor","StorageUnit","Uint8","Uint8Array","Uint16","Uint16Array","Uint32","Uint32Array","Int8","Int8Array","Int16","Int16Array","Int32","Int32Array","Float32","Float32Array","Float64","Float64Array","isCompactValueTypeArray","value","CompactValueTypeArray","ccclass","serializable","Vec3","Quat","Vec4","Mat4","ElementType","lengthFor","values","elementTraits","requiredUnits","length","BYTES_PER_ELEMENT","compress","arrayBuffer","byteOffset","presumedByteOffset","storageConstructor","unitCount","storage","i","result","_unitElement","_byteOffset","_unitCount","_length","decompress","Array","Scalar","index","Vec2","x","y","z","w","toArray","fromArray"],"mappings":"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"}