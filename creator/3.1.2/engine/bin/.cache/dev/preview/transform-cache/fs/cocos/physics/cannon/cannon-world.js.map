{"version":3,"sources":["../../../../../../../../../cocos/physics/cannon/cannon-world.ts"],"names":["setupFromAndTo","worldRay","distance","Vec3","copy","from","o","computeHit","to","CANNON","fillRaycastResult","toCannonRaycastOptions","CannonShape","error","CannonSharedBody","fastRemoveAt","CannonWorld","setDefaultMaterial","mat","_world","defaultMaterial","friction","restitution","idToMaterial","id","setAllowSleep","v","allowSleep","setGravity","gravity","bodies","constraints","World","broadphase","NaiveBroadphase","solver","iterations","tolerance","defaultContactMaterial","contactEquationStiffness","frictionEquationStiffness","contactEquationRelaxation","frictionEquationRelaxation","destroy","length","emitEvents","emitTriggeredEvents","emitCollisionEvents","syncSceneToPhysics","i","syncAfterEvents","step","deltaTime","timeSinceLastCalled","maxSubStep","syncPhysicsToScene","raycastClosest","options","result","maxDistance","raycastOpt","hit","rayResult","raycast","pool","results","raycastAll","r","add","push","getSharedBody","node","wrappedBody","addSharedBody","sharedBody","indexOf","addBody","body","removeSharedBody","remove","addConstraint","constraint","impl","removeConstraint","RaycastResult","checkCollisionResponse","collisionFilterGroup","collisionFilterMask","skipBackfaces"],"mappings":"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"}