{"version":3,"sources":["../../../../../../../../../cocos/3d/framework/mesh-renderer.ts"],"names":["ccclass","help","executeInEditMode","executionOrder","menu","tooltip","visible","type","formerlySerializedAs","serializable","editable","disallowAnimation","Mesh","Vec4","scene","MorphModel","TransformBit","Enum","builtinResMgr","RenderableComponent","legacyCC","assertIsTrue","ModelShadowCastingMode","OFF","ON","ModelShadowReceivingMode","ModelLightmapSettings","_bakeable","val","_castShadow","_receiveShadow","_lightmapSize","MeshRenderer","mesh","struct","morph","subMeshMorphs","some","subMeshMorph","_modelType","_model","_morphInstance","Model","onLoad","_mesh","initialize","_watchMorphInMesh","_updateModels","_updateCastShadow","_updateReceiveShadow","onRestore","onEnable","_attachToScene","onDisable","_detachFromScene","onDestroy","director","root","destroyModel","_models","length","destroy","setWeights","weights","subMeshIndex","setInstancedAttribute","name","value","model","instancedAttributes","attributes","views","i","set","_updateLightmap","lightmap","uOff","vOff","uScale","vScale","lightmapSettings","texture","uvParam","x","y","z","w","_onUpdateLightingmap","enabledInHierarchy","node","transform","_createModel","createBoundingShape","minPosition","maxPosition","_updateModelParams","preferMorphOverPlain","modelType","createModel","visFlags","visibility","push","setMorphRendering","renderScene","_getRenderScene","addModel","removeModel","hasChangedFlags","POSITION","isDynamicBatching","_isBatchingEnabled","meshCount","renderingSubMeshes","renderingMesh","material","getRenderMaterial","isValid","subMeshData","initSubModel","_getBuiltinMaterial","enabled","updateLightingmap","_onMaterialModified","idx","inited","_onRebuildPSO","setSubModelMaterial","_onMeshChanged","old","_clearMaterials","subModels","get","_onVisibilityChange","_shadowCastingMode","castShadow","_shadowReceivingMode","receiveShadow","_materials","mat","p","passes","pass","batchingScheme","_enableMorph","morphRendering","createInstance","nSubMeshes","primitives","iSubMesh","initialWeights","slice","Array","targets","fill","_syncMorphWeights","subMeshMorphInstance","renderResources","ShadowCastingMode","ShadowReceivingMode"],"mappings":"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"}