{"version":3,"sources":["../../../../../../../../../cocos/core/asset-manager/factory.ts"],"names":["createImageAsset","id","data","options","onComplete","out","err","ImageAsset","_nativeUrl","_nativeAsset","e","createJsonAsset","JsonAsset","json","createTextAsset","TextAsset","text","createBufferAsset","BufferAsset","createAsset","Asset","createBundle","bundle","bundles","get","name","BuiltinBundleName","RESOURCES","resources","Bundle","base","init","then","js","Cache","assets","cache","Factory","_creating","_producers","register","type","handler","mixin","create","asset","reloadAsset","creating","push","add","result","_uuid","cacheAsset","callbacks","remove","i","l","length"],"mappings":"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"}