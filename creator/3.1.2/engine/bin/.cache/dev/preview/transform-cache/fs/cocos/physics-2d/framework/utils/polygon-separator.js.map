{"version":3,"sources":["../../../../../../../../../../cocos/physics-2d/framework/utils/polygon-separator.ts"],"names":["At","i","vertices","s","length","Copy","j","p","push","ConvexPartition","ForceCounterClockWise","list","d","lowerDist","upperDist","lowerInt","Vec2","upperInt","lowerIndex","upperIndex","lowerPoly","upperPoly","Reflex","Left","RightOn","LineIntersect","Right","SquareDist","sp","add","multiplyScalar","highestScore","bestIndex","CanSee","score","LeftOn","concat","splice","k","intersectionPoint","LineIntersect2","a","b","c","Area","dx","x","dy","y","IsCounterClockWise","reverse","GetSignedArea","area","p1","p2","q1","q2","a1","b1","c1","a2","b2","c2","det","FloatEquals","a0","b0","x1","y1","x2","y2","x3","y3","x4","y4","Math","max","min","ua","ub","denom","abs","value1","value2"],"mappings":"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"}