{"version":3,"sources":["../../../../../../../../../cocos/core/animation/cross-fade.ts"],"names":["clamp01","remove","Playable","legacyCC","CrossFade","scheduler","_managedStates","_fadings","_scheduled","_scheduler","director","getAnimationManager","update","deltaTime","isMotionless","managedStates","fadings","length","state","weight","_calculateWeights","_unscheduleThis","crossFade","duration","clear","target","find","weightedState","reference","play","push","unshift","easeDuration","easeTime","_scheduleThis","iManagedState","stop","onPlay","onPause","pause","onResume","resume","onStop","absoluteWeight","deadFadingBegin","iFading","fading","relativeWeight","iDeadFading","deadFading","splice","addCrossFade","removeCrossFade"],"mappings":"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"}