{"version":3,"sources":["../../../../../../../../../../cocos/core/renderer/scene/sphere-light.ts"],"names":["AABB","Vec3","Light","LightType","nt2lm","AABBPool","AABBView","LightPool","LightView","NULL_HANDLE","SphereLight","_needUpdate","_pos","_aabb","_hAABB","create","initialize","alloc","size","set","_handle","TYPE","SPHERE","SIZE","RANGE","ILLUMINANCE","update","_node","hasChangedFlags","getWorldPosition","range","get","x","y","z","setVec3","POSITION","CENTER","center","HALF_EXTENSION","halfExtents","destroy","free","lum"],"mappings":"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"}