{"version":3,"sources":["../../../../../../../../../cocos/core/scene-graph/node-event-processor.ts"],"names":["_touchStartHandler","touch","event","node","owner","_uiProps","uiTransformComp","getUILocation","pos","isHit","type","SystemEventType","TOUCH_START","toString","bubbles","dispatchEvent","_touchMoveHandler","TOUCH_MOVE","_touchEndHandler","TOUCH_END","TOUCH_CANCEL","_touchCancelHandler","_mouseDownHandler","MOUSE_DOWN","_mouseMoveHandler","hit","_previousIn","_currentHovered","eventProcessor","mouseListener","MOUSE_LEAVE","MOUSE_ENTER","MOUSE_MOVE","propagationStopped","_mouseUpHandler","MOUSE_UP","_mouseWheelHandler","MOUSE_WHEEL","_doDispatchEvent","target","i","_cachedArray","length","getCapturingTargets","eventPhase","capturingTargets","currentTarget","emit","propagationImmediateStopped","bubblingTargets","getBubblingTargets","_searchComponentsInParent","ctor","index","list","curr","Node","isNode","parent","comp","getComponent","next","push","_checkListeners","events","_persistNode","hasEventListener","Vec2","eventManager","CallbacksInvoker","errorID","legacyCC","Array","_touchEvents","_mouseEvents","NodeEventProcessor","touchListener","_node","reattach","currMask","walk","_comp","mask","destroy","removeListeners","clear","on","callback","useCapture","forDispatch","_checknSetupSysEvent","_onDispatch","once","listeners","off","undefined","touchEvent","indexOf","mouseEvent","_offDispatch","removeListener","arg0","arg1","arg2","arg3","arg4","has","targetOff","removeAll","targets","newAdded","EventListener","create","TOUCH_ONE_BY_ONE","swallowTouches","onTouchBegan","onTouchMoved","onTouchEnded","onTouchCancelled","addListener","MOUSE","onMouseDown","onMouseMove","onMouseUp","onMouseScroll","activeInHierarchy","director","getScheduler","schedule","pauseTarget"],"mappings":"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"}