{"version":3,"sources":["../../../../../../../../../../cocos/physics/ammo/shapes/ammo-terrain-shape.ts"],"names":["Ammo","AmmoShape","Vec3","warn","cocos2AmmoVec3","AmmoBroadphaseNativeTypes","CC_V3_0","AmmoConstant","AmmoTerrainShape","setTerrain","v","_isBinding","_btShape","instance","EMPTY_SHAPE","terrain","_terrainID","_uuid","_tileSize","tileSize","sizeI","getVertexCountI","sizeJ","getVertexCountJ","_buffPtr","_malloc","offset","maxHeight","Number","MIN_VALUE","minHeight","MAX_VALUE","j","i","getHeight","HEAPF32","_localOffset","set","heightScale","hdt","upAxis","flipQuadEdges","btHeightfieldTerrainShape","scale","setValue","setLocalScaling","TERRAIN_SHAPE_PROXYTYPE","onComponentSet","collider","onDestroy","_free","setCompound","compound","impl","setUserIndex","_index","setCenter","copy","add","transform","getOrigin","updateCompoundTransform","_collider"],"mappings":"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"}