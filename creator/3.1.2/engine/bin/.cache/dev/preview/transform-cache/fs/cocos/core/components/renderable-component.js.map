{"version":3,"sources":["../../../../../../../../../cocos/core/components/renderable-component.ts"],"names":["EDITOR","ccclass","type","displayOrder","displayName","serializable","Material","Component","MaterialInstance","Layers","legacyCC","_matInsInfo","parent","owner","subModelIdx","RenderableComponent","_materialInstances","_models","getMaterial","idx","_materials","length","setMaterial","material","index","console","error","inst","destroy","_onMaterialModified","getMaterialInstance","mat","instantiated","setMaterialInstance","matInst","getRenderMaterial","_collectModels","_attachToScene","_detachFromScene","_onRebuildPSO","_clearMaterials","_onVisibilityChange","val","_visFlags","slice","i","splice","dLen","Enum","NONE"],"mappings":"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"}