{"version":3,"sources":["../../../../../../../../cocos/dragon-bones/AttachUtil.ts"],"names":["Mat4","Vec3","ccclass","_tempMat4","AttachUtil","_inited","_armature","_armatureNode","_armatureDisplay","init","armatureDisplay","node","reset","_syncAttachedNode","rootMatrix","worldMatrix","boneInfos","isCached","isAnimationCached","_curFrame","sockets","socketNodes","scale","matrixHandle","boneMat","tm","m00","a","m01","b","m04","c","m05","d","m12","tx","m13","ty","_oldScale","clone","set","matrix","multiply","bones","getBones","l","length","sock","boneNode","target","isValid","path","splice","bone","boneIndex","globalTransformMatrix"],"mappings":";;;;;;;AAMeA,MAAAA,I,gBAAAA,I;AAAMC,MAAAA,I,gBAAAA,I;;AACZC,MAAAA,O,6BAAAA,O;;;AAIHC,MAAAA,S,GAAY,IAAIH,IAAJ,E;AAElB;AACA;AACA;AACA;AACA;;4BAGaI,U,WADZF,OAAO,CAAC,wBAAD,C;AAMJ,8BAAe;AAAA,eAJfG,OAIe,GAJL,KAIK;AAAA,eAHfC,SAGe,GAHc,IAGd;AAAA,eAFfC,aAEe,GAFc,IAEd;AAAA,eADfC,gBACe,GAD4B,IAC5B;AAEd;;;;eAEDC,I,GAAA,cAAMC,eAAN,EAAwC;AACpC,eAAKL,OAAL,GAAe,IAAf;AACA,eAAKC,SAAL,GAAiBI,eAAe,CAACJ,SAAjC;AACA,eAAKC,aAAL,GAAqBG,eAAe,CAACC,IAArC;AACA,eAAKH,gBAAL,GAAwBE,eAAxB;AACH,S;;eAEDE,K,GAAA,iBAAS;AACL,eAAKP,OAAL,GAAe,KAAf;AACA,eAAKC,SAAL,GAAiB,IAAjB;AACA,eAAKC,aAAL,GAAqB,IAArB;AACA,eAAKC,gBAAL,GAAwB,IAAxB;AACH,S;;eAEDK,iB,GAAA,6BAAqB;AAAA;;AACjB,cAAI,CAAC,KAAKR,OAAV,EAAmB;AACnB,cAAMS,UAAU,GAAG,KAAKP,aAAL,CAAoBQ,WAAvC;AAEA,cAAIC,SAAyC,GAAG,IAAhD;;AACA,cAAMC,QAAQ,GAAG,KAAKT,gBAAL,CAAuBU,iBAAvB,EAAjB;;AACA,cAAID,QAAQ,IAAI,KAAKT,gBAArB,EAAuC;AACnCQ,YAAAA,SAAS,GAAG,KAAKR,gBAAL,CAAsBW,SAAtB,IAAmC,KAAKX,gBAAL,CAAsBW,SAAtB,CAAgCH,SAA/E;AACA,gBAAI,CAACA,SAAL,EAAgB;AACnB;;AAED,cAAMI,OAAO,GAAG,KAAKZ,gBAAL,CAAuBY,OAAvC;AACA,cAAMC,WAAW,GAAG,KAAKb,gBAAL,CAAuBa,WAA3C;AACA,cAAMC,KAAK,GAAG,IAAIrB,IAAJ,EAAd;;AAEA,cAAMsB,YAAY,GAAG,SAAfA,YAAe,CAACZ,IAAD,EAAgBa,OAAhB,EAAoC;AACrD,gBAAMC,EAAE,GAAGtB,SAAX;AACAsB,YAAAA,EAAE,CAACC,GAAH,GAASF,OAAO,CAACG,CAAjB;AACAF,YAAAA,EAAE,CAACG,GAAH,GAASJ,OAAO,CAACK,CAAjB;AACAJ,YAAAA,EAAE,CAACK,GAAH,GAAS,CAACN,OAAO,CAACO,CAAlB;AACAN,YAAAA,EAAE,CAACO,GAAH,GAAS,CAACR,OAAO,CAACS,CAAlB;AACAR,YAAAA,EAAE,CAACS,GAAH,GAASV,OAAO,CAACW,EAAjB;AACAV,YAAAA,EAAE,CAACW,GAAH,GAASZ,OAAO,CAACa,EAAjB;;AACA,gBAAI,CAAC1B,IAAI,CAAC2B,SAAV,EAAqB;AACjB;AACA3B,cAAAA,IAAI,CAAC2B,SAAL,GAAiB3B,IAAI,CAACW,KAAL,CAAWiB,KAAX,EAAjB;AACH;;AACDjB,YAAAA,KAAK,CAACkB,GAAN,CAAU7B,IAAI,CAAC2B,SAAf;AACA3B,YAAAA,IAAI,CAAC8B,MAAL,GAActC,SAAd;AACAQ,YAAAA,IAAI,CAACW,KAAL,GAAaA,KAAK,CAACoB,QAAN,CAAe,KAAI,CAACnC,aAAL,CAAoBe,KAAnC,CAAb;AACH,WAfD;;AAiBA,cAAMqB,KAAK,GAAG,KAAKrC,SAAL,CAAgBsC,QAAhB,EAAd;;AAEA,eAAK,IAAIC,CAAC,GAAGzB,OAAO,CAAC0B,MAAR,GAAiB,CAA9B,EAAiCD,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;AAC1C,gBAAME,IAAI,GAAG3B,OAAO,CAACyB,CAAD,CAApB;AACA,gBAAMG,QAAQ,GAAGD,IAAI,CAACE,MAAtB;AAEA,gBAAI,CAACD,QAAL,EAAe,SAJ2B,CAK1C;;AACA,gBAAI,CAACA,QAAQ,CAACE,OAAd,EAAuB;AACnB7B,cAAAA,WAAW,UAAX,CAAmB0B,IAAI,CAACI,IAAxB;AACA/B,cAAAA,OAAO,CAACgC,MAAR,CAAeP,CAAf,EAAkB,CAAlB;AACA;AACH,aAVyC,CAW1C;;;AACA,gBAAMQ,IAAI,GAAGpC,QAAQ,GAAGD,SAAS,CAAE+B,IAAI,CAACO,SAAP,CAAZ,GAAiCX,KAAK,CAACI,IAAI,CAACO,SAAN,CAA3D;AACA,gBAAI,CAACD,IAAL,EAAW,SAb+B,CAe1C;AACA;AACA;AACA;AACA;AACA;AACA;;AACA9B,YAAAA,YAAY,CAACyB,QAAD,EAAWK,IAAI,CAACE,qBAAhB,CAAZ;AACH;AACJ,S"}