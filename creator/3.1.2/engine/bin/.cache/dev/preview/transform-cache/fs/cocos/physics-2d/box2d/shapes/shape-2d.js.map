{"version":3,"sources":["../../../../../../../../../../cocos/physics-2d/box2d/shapes/shape-2d.ts"],"names":["getFilter","shape","comp","collider","tempFilter","categoryBits","group","PhysicsGroup","DEFAULT","body","maskBits","PhysicsSystem2D","instance","collisionMatrix","b2","RigidBody2D","PHYSICS_2D_PTM_RATIO","Rect","Filter","b2Shape2D","_shapes","_fixtures","_collider","_body","_inited","_rect","initialize","onLoad","onEnable","_callAfterStep","_init","onDisable","_destroy","start","onGroupChanged","filter","forEach","f","SetFilterData","apply","getFixtureIndex","fixture","indexOf","_createShapes","scaleX","scaleY","getComponent","innerBody","impl","node","scale","worldScale","shapes","x","y","i","length","fixDef","density","isSensor","sensor","friction","restitution","CreateFixture","m_userData","enabledContactListener","physicsWorld","registerContactFixture","push","fixtures","unregisterContactFixture","DestroyFixture","MAX","minX","minY","maxX","maxY","count","GetShape","GetChildCount","j","aabb","GetAABB","lowerBound","upperBound","r","width","height"],"mappings":"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"}