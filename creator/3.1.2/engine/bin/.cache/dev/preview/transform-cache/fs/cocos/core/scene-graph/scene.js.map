{"version":3,"sources":["../../../../../../../../../cocos/core/scene-graph/scene.ts"],"names":["ccclass","serializable","editable","EDITOR","TEST","CCObject","Mat4","Quat","Vec3","assert","getError","BaseNode","legacyCC","SceneGlobals","applyTargetOverrides","Scene","_updateScene","_scene","name","_renderScene","dependAssets","_inited","_prefabSyncedInLiveReload","_pos","ZERO","_rot","IDENTITY","_scale","ONE","_mat","_dirtyFlags","_activeInHierarchy","director","root","createScene","game","_isCloning","destroy","success","prototype","call","children","_children","i","length","active","destroyScene","_active","addComponent","Error","_onHierarchyChanged","_onBatchCreated","dontSyncChildPrefab","len","_siblingIndex","getPosition","out","copy","getRotation","getScale","getWorldPosition","getWorldRotation","getWorldScale","getWorldMatrix","getWorldRS","getWorldRT","updateWorldTransform","_instantiate","_load","walk","_setScene","_activate","_registerIfAttached","_nodeActivator","activateNode","_globals","activate"],"mappings":"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"}