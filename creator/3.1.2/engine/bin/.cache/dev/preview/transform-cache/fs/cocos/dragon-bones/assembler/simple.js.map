{"version":3,"sources":["../../../../../../../../../cocos/dragon-bones/assembler/simple.ts"],"names":["_getSlotMaterial","tex","blendMode","src","dst","_premultipliedAlpha","BlendFactor","ONE","SRC_ALPHA","DST_COLOR","ONE_MINUS_SRC_ALPHA","ONE_MINUS_SRC_COLOR","_comp","setBlendHash","getMaterialForBlend","_handleColor","color","parentOpacity","_a","a","_nodeA","_multiply","_r","r","_nodeR","_g","g","_nodeG","_b","b","_nodeB","_c","_intToColor","v","realTimeTraverse","armature","parentMat","slots","_slots","vbuf","ibuf","material","vertices","indices","slotColor","slot","slotMat","Mat4","i","l","length","_color","_visible","_displayData","_mulMat","_worldMatrix","_matrix","copy","childArmature","getTexture","_blendMode","_buffer","renderData","texture","_mustFlush","requestMeshRenderData","set","_localVertices","_vertexCount","_indices","_indexCount","rd","reserve","_indexOffset","indicesCount","_vfOffset","vDataOffset","_vertexOffset","vertexCount","vData","iData","_m00","m00","_m04","m04","_m12","m12","_m01","m01","_m05","m05","_m13","m13","vi","vl","_x","_y","STRIDE_FLOAT","ii","il","advance","cacheTraverse","frame","segments","colorArray","Uint32Array","buffer","frameVFOffset","frameIndexOffset","segVFCount","justTranslate","needBatch","_handleVal","NEED_BATCH","calcTranslate","colorOffset","colors","nowColor","maxVFOffset","vfOffset","n","segInfo","indexCount","vfCount","jj","NEED_COLOR","frameColorOffset","updateComponentRenderData","comp","batcher","_armature","markForUpdateRenderData","destroyRenderData","premultipliedAlpha","_node","node","_batcher","nodeColor","_val","worldMat","_enableBatch","worldMatrix","isAnimationCached","_curFrame","graphics","_debugDraw","debugBones","clear","lineWidth","strokeColor","_boneColor","fillColor","_slotColor","bones","getBones","bone","boneLength","Math","max","boneData","startX","globalTransformMatrix","tx","startY","ty","endX","endY","moveTo","lineTo","stroke","circle","PI","fill","_originColor","attachUtil","_syncAttachedNode","undefined","Color","Vec3","legacyCC","STRIDE_BYTES","Float32Array","_vec3u_temp","simple","createData","updateRenderData","ui","updateColor","fillBuffers","renderer","meshRenderDataArray","dataArray","acquireBufferBatch","floatOffset","byteOffset","indicesOffset","vertexOffset","data","_meshRenderDataArrayIdx","isRecreate","request","currBufferBatch","vBuf","iBuf","matrix","srcVBuf","srcVIdx","vertexStart","srcIBuf","slice","pOffset","transformMat4","x","y","z","srcIOffset","indicesStart","internal","DragonBonesAssembler"],"mappings":"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"}