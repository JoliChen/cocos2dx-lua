{"version":3,"sources":["../../../../../../../../../cocos/core/assets/texture-cube.ts"],"names":["_forEachFace","mipmap","callback","front","FaceIndex","back","left","right","top","bottom","EDITOR","TEST","ccclass","serializable","TextureType","TextureInfo","ImageAsset","SimpleTexture","legacyCC","js","TextureCube","fromTexture2DArray","textures","out","mipmaps","nMipmaps","length","i","x","push","image","onLoaded","_mipmaps","loaded","emit","reset","info","_width","width","_height","height","_setGFXFormat","format","_setMipmapLevel","mipmapLevel","_tryReset","updateMipmaps","firstLevel","count","nUpdate","Math","min","undefined","level","face","faceIndex","_assignImage","destroy","releaseTexture","_serialize","ctxForExporting","base","map","_compressUuid","EditorExtends","UuidUtils","compressUuid","_uuid","_deserialize","serializedData","handle","data","Array","imageAssetClassId","_getClassId","result","_getGfxTextureCreateInfo","presumed","texInfo","CUBE","layerCount","Object","assign","initDefault","uuid","imageAsset","validate","find","value","forEach"],"mappings":"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"}