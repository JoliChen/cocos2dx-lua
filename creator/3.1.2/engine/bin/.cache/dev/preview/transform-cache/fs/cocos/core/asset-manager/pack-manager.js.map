{"version":3,"sources":["../../../../../../../../../cocos/core/asset-manager/pack-manager.ts"],"names":["ImageAsset","Texture2D","packCustomObjData","unpackJSONs","error","errorID","js","Cache","downloader","transform","files","PackManager","_loading","_unpackers","unpackJson","pack","json","options","onComplete","out","createMap","err","Array","isArray","length","i","textureType","_getClassId","imageAssetType","type","data","datas","base","mipmaps","Error","init","clear","register","handler","mixin","unpack","unpacker","load","item","isNative","info","packs","download","id","url","ext","has","get","find","val","uuid","push","add","bundle","config","name","remove","message","stack","packedUuids","err2","result","callbacks","l","cb","unpackedData"],"mappings":"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"}