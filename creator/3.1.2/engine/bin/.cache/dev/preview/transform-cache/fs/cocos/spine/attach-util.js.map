{"version":3,"sources":["../../../../../../../../cocos/spine/attach-util.ts"],"names":["Mat4","Vec3","tempMat4","nodeScale","AttachUtil","_inited","_skeleton","_skeletonNode","_skeletonComp","init","skeletonComp","node","reset","_syncAttachedNode","socketNodes","size","boneInfos","isCached","isAnimationCached","_curFrame","bones","matrixHandle","bone","set","scale","tm","m00","a","m01","c","m04","b","m05","d","m12","worldX","m13","worldY","matrix","keys","boneIdx","boneNode","get","isValid","removeFromParent","destroy"],"mappings":"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"}