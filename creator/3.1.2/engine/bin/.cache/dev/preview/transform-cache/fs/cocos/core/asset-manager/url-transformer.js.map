{"version":3,"sources":["../../../../../../../../../cocos/core/asset-manager/url-transformer.ts"],"names":["parse","task","options","input","Array","isArray","output","i","item","out","RequestItem","create","config","info","Object","__requestType__","RequestType","UUID","js","addon","preset","presets","key","uuid","decodeUuid","bundle","bundles","find","getAssetInfo","name","has","get","redirect","Error","ext","DIR","getDirWithPath","dir","type","infos","assetInfo","push","__isNative__","length","recycle","PATH","getInfoWithPath","path","SCENE","getSceneInfo","scene","isNative","URL","url","extname","undefined","JSON","stringify","combine","base","nativeBase","legacyCC","assetManager","generalNativeBase","importBase","generalImportBase","ver","nativeVer","slice","__nativeName__"],"mappings":"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"}