{"version":3,"sources":["../../../../../../../../../cocos/2d/renderer/stencil-manager.ts"],"names":["ComparisonFunc","StencilOp","DepthStencilState","Stage","StencilManager","stage","DISABLED","_maskStack","_stencilPattern","stencilTest","func","ALWAYS","stencilMask","writeMask","failOp","KEEP","zFailOp","passOp","ref","stencilStateMap","Map","stencilStateMapWithDepth","pushMask","mask","push","clear","comp","stencilStage","inverted","CLEAR_INVERTED","CLEAR","enterLevel","graphics","ENTER_LEVEL_INVERTED","ENTER_LEVEL","enableMask","ENABLED","exitMask","length","pop","getWriteMask","getExitWriteMask","getStencilRef","result","i","reset","destroy","forEach","value","key","getStencilStage","mat","depthTest","depthWrite","depthFunc","LESS","cacheMap","passes","pass","dss","depthStencilState","depthTestValue","depthWriteValue","has","get","setStateFromStage","set","getStencilHash","pattern","EQUAL","NEVER","ZERO","REPLACE","sharedManager"],"mappings":"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"}