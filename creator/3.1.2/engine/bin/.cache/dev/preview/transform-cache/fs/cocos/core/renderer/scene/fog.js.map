{"version":3,"sources":["../../../../../../../../../../cocos/core/renderer/scene/fog.ts"],"names":["Enum","Color","legacyCC","FogPool","NULL_HANDLE","FogView","FogType","LINEAR","EXP","EXP_SQUARED","LAYERED","FOG_TYPE_NONE","Fog","_fogColor","_colorArray","Float32Array","_handle","alloc","initialize","fogInfo","set","ENABLE","enabled","TYPE","type","fogColor","toArray","setVec4","COLOR","DENSITY","fogDensity","START","fogStart","END","fogEnd","ATTEN","fogAtten","TOP","fogTop","RANGE","fogRange","activate","_updatePipeline","root","director","value","pipeline","macros","CC_USE_FOG","onGlobalPipelineStateChanged","destroy","free","get","val"],"mappings":"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"}