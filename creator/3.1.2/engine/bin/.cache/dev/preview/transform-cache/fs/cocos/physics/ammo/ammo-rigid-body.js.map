{"version":3,"sources":["../../../../../../../../../cocos/physics/ammo/ammo-rigid-body.ts"],"names":["Vec3","cocos2AmmoVec3","ammo2CocosVec3","PhysicsSystem","AmmoRigidBodyFlags","AmmoCollisionObjectStates","EAmmoSharedBodyDirty","AmmoConstant","CC_V3_0","CC_V3_1","v3_0","v3_1","AmmoRigidBody","setMass","value","_rigidBody","isDynamic","localInertia","_sharedBody","bodyStruct","setValue","shape","impl","getCollisionShape","isCompound","bodyCompoundShape","getNumChildShapes","calculateLocalInertia","mass","setMassProps","_wakeUpIfSleep","dirty","BODY_RE_ADD","setType","v","setLinearDamping","setDamping","linearDamping","angularDamping","setAngularDamping","useGravity","m_rigidBodyFlag","getFlags","BT_DISABLE_WORLD_GRAVITY","setGravity","instance","VECTOR3_0","ZERO","setFlags","setLinearFactor","setAngularFactor","setAllowSleep","forceActivationState","ACTIVE_TAG","DISABLE_DEACTIVATION","id","_isEnabled","idCounter","clearState","clearVelocity","setLinearVelocity","setAngularVelocity","clearForces","initialize","com","physicsWorld","getSharedBody","node","reference","onEnable","allowSleep","linearFactor","angularFactor","bodyEnabled","onDisable","onDestroy","wakeUp","force","activate","sleep","wantsSleeping","setSleepThreshold","setSleepingThresholds","getSleepThreshold","getLinearSleepingThreshold","getLinearVelocity","out","getAngularVelocity","applyLocalForce","rel_pos","syncSceneToPhysics","quat","worldRotation","transformQuat","rp","applyForce","VECTOR3_1","applyLocalTorque","torque","applyTorque","applyLocalImpulse","impulse","applyImpulse","getGroup","collisionFilterGroup","setGroup","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask","isAwake","state","getActivationState","WANTS_DEACTIVATION","ISLAND_SLEEPING","body"],"mappings":"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"}