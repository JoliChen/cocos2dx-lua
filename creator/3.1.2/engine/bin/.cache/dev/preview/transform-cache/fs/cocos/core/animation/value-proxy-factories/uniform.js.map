{"version":3,"sources":["../../../../../../../../../../cocos/core/animation/value-proxy-factories/uniform.ts"],"names":["isUniformArray","pass","name","shaderInfo","blocks","block","members","uniform","count","ccclass","float","serializable","builtinResMgr","TextureBase","Type","Pass","getDefaultFromType","PropertyType","samplerLib","warn","legacyCC","UniformProxyFactory","uniformName","passIndex","forTarget","target","passes","handle","getHandle","Error","propertyType","getPropertyTypeFromHandle","BUFFER","realHandle","channelIndex","undefined","FLOAT","set","value","setUniformArray","setUniform","TEXTURE","binding","getBindingFromHandle","prop","properties","texName","type","dftTex","get","texture","getGFXTexture","width","height","bindTexture","bindSampler","getSampler","game","_gfxDevice","getSamplerHash"],"mappings":"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"}