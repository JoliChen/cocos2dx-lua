{"version":3,"sources":["../../../../../../../../../cocos/3d/assets/mesh.ts"],"names":["getIndexStrideCtor","stride","Uint8Array","Uint16Array","Uint32Array","getOffset","attributes","attributeIndex","result","i","attribute","FormatInfos","format","size","getComponentByteLength","info","count","getReader","dataView","type","FormatType","UNORM","offset","getUint8","getUint16","isLittleEndian","getUint32","SNORM","getInt8","getInt16","getInt32","INT","UINT","FLOAT","getFloat32","getWriter","value","setUint8","setUint16","setUint32","setInt8","setInt16","setInt32","setFloat32","ccclass","serializable","Asset","BufferBlob","AABB","legacyCC","murmurhash2_32_gc","sys","warnID","RenderingSubMesh","Attribute","BufferInfo","AttributeName","BufferUsageBit","Feature","Format","MemoryUsageBit","getTypedArrayConstructor","Quat","Vec3","createMorphRendering","v3_1","v3_2","globalEmptyMeshBuffer","Mesh","morphRendering","_data","_initialized","_renderingSubMeshes","_boneSpaceBounds","Map","_jointBufferIndices","loaded","initialize","byteLength","_dataLength","assetManager","postLoadNative","buffer","gfxDevice","director","root","device","vertexBuffers","_createVertexBuffers","indexBuffers","subMeshes","prim","_struct","primitives","vertexBundelIndices","length","indexBuffer","ib","indexView","idxView","dstStride","dstSize","hasFeature","ELEMENT_INDEX_UINT","vertexCount","vertexBundles","view","createBuffer","INDEX","DEVICE","push","from","update","once","vbReference","map","idx","gfxAttributes","vertexBundle","attrs","j","attr","name","isInstanced","stream","location","subMesh","primitiveMode","mesh","subMeshIdx","morph","destroy","destroyRenderingMesh","assign","struct","data","reset","_hash","emit","getBoneSpaceBounds","skeleton","has","hash","get","bounds","set","valid","bindposes","Infinity","p","joints","readAttribute","ATTR_JOINTS","weights","ATTR_WEIGHTS","positions","ATTR_POSITION","vertCount","Math","min","joint","transformMat4","b","center","max","halfExtents","fromPoints","merge","worldMatrix","validate","validateMergingMesh","vec3_temp","rotate","boundingBox","getRotation","JSON","parse","stringify","slice","maxPosition","minPosition","add","multiplyScalar","subtract","transform","vtxBdl","ATTR_NORMAL","inputView","DataView","reader","writer","vertexStride","attrComponentByteLength","vtxIdx","xOffset","yOffset","zOffset","transformQuat","x","y","z","bufferBlob","vertStride","srcOffset","dstOffset","vb","vbView","srcVBView","dstVBView","srcAttrOffset","srcVBOffset","dstVBOffset","attrSize","dstAttrView","hasAttr","Array","bundle","dstBundle","ArrayBuffer","subarray","dstAttr","v","f32_temp","Float32Array","getLength","addBuffer","idxCount","idxStride","vertBatchCount","ibView","srcIBView","dstIBView","dstPrim","bundleIdx","n","setNextAlignment","meshStruct","getCombined","undefined","primitiveIndex","attributeName","_accessAttribute","iAttribute","StorageConstructor","formatInfo","componentCount","storage","inputStride","iVertex","iComponent","BYTES_PER_ELEMENT","copyAttribute","written","outputView","inputComponentByteLength","outputStride","outputComponentByteLength","inputOffset","outputOffset","readIndices","primitive","Ctor","copyIndices","outputArray","indexCount","indexFormat","R8UI","R16UI","R32UI","accessor","vertexBundleIndex","findIndex","a","vertexBuffer","VERTEX","initDefault","uuid","renderingSubMeshes","renderingMesh","jointMapIndex"],"mappings":"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"}