{"version":3,"sources":["../../../../../../../../cocos/particle/billboard.ts"],"names":["ccclass","help","executeInEditMode","menu","tooltip","type","serializable","builtinResMgr","createMesh","Material","Texture2D","Component","Attribute","AttributeName","Format","PrimitiveMode","Color","toDegree","toRadian","Vec4","scene","legacyCC","Billboard","_model","_mesh","_material","_uniform","onLoad","createModel","onEnable","attachToScene","enabled","width","_width","height","_height","rotation","texture","onDisable","detachFromScene","node","_getRenderScene","addModel","removeModel","primitiveMode","TRIANGLE_LIST","positions","uvs","colors","WHITE","r","g","b","a","attributes","ATTR_POSITION","RGB32F","ATTR_TEX_COORD","RG32F","ATTR_COLOR","RGBA8UI","indices","undefined","calculateBounds","model","director","root","Model","transform","copy","get","initSubModel","renderingSubMeshes","_texture","val","setProperty","y","x","Math","round","_rotation","z"],"mappings":"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"}