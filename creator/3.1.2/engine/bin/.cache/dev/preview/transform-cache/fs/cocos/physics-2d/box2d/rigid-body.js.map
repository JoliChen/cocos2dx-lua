{"version":3,"sources":["../../../../../../../../../cocos/physics-2d/box2d/rigid-body.ts"],"names":["b2","PhysicsSystem2D","Vec2","toRadian","Vec3","toDegree","PHYSICS_2D_PTM_RATIO","ERigidBody2DType","Node","Collider2D","tempVec3","tempVec2_1","b2RigidBody2D","_animatedPos","_animatedAngle","_body","_inited","initialize","com","_rigidBody","instance","_callAfterStep","_init","onDestroy","_destroy","onEnable","setActive","onDisable","_registerNodeEvents","node","rigidBody","on","EventType","TRANSFORM_CHANGED","_onNodeTransformChanged","_unregisterNodeEvents","off","type","stepping","TransformBit","SCALE","colliders","getComponents","i","length","apply","POSITION","syncPositionToPhysics","ROTATION","syncRotationToPhysics","physicsWorld","addBody","removeBody","animate","dt","b2body","b2Pos","GetPosition","SetAwake","timeStep","x","y","SetLinearVelocity","b2Rotation","GetAngle","SetAngularVelocity","enableAnimated","pos","worldPosition","temp","bodyType","Animated","GetLinearVelocity","set","SetTransformVec","rotation","eulerAngles","z","resetVelocity","m_linearVelocity","Set","setType","v","SetType","setLinearDamping","SetLinearDamping","setAngularDamping","SetAngularDamping","setGravityScale","SetGravityScale","setFixedRotation","SetFixedRotation","setAllowSleep","SetSleepingAllowed","isActive","IsActive","SetActive","wakeUp","sleep","getMass","GetMass","setLinearVelocity","getLinearVelocity","out","velocity","getLinearVelocityFromWorldPoint","worldPoint","GetLinearVelocityFromWorldPoint","setAngularVelocity","getAngularVelocity","GetAngularVelocity","getLocalVector","worldVector","GetLocalVector","getWorldVector","localVector","GetWorldVector","getLocalPoint","GetLocalPoint","getWorldPoint","localPoint","GetWorldPoint","getLocalCenter","GetLocalCenter","getWorldCenter","GetWorldCenter","getInertia","GetInertia","applyForce","force","point","wake","ApplyForce","applyForceToCenter","ApplyForceToCenter","applyTorque","torque","ApplyTorque","applyLinearImpulse","impulse","ApplyLinearImpulse","applyLinearImpulseToCenter","applyAngularImpulse","ApplyAngularImpulse","IsAwake"],"mappings":"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"}