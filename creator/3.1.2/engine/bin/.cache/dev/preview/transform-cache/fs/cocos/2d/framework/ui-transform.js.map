{"version":3,"sources":["../../../../../../../../../cocos/2d/framework/ui-transform.ts"],"names":["ccclass","help","executeInEditMode","executionOrder","menu","tooltip","displayOrder","serializable","disallowMultiple","EDITOR","Component","SystemEventType","Mat4","Rect","Size","Vec2","Vec3","AABB","legacyCC","Director","director","warnID","_vec2a","_vec2b","_mat4_temp","_matrix","_worldMatrix","_zeroMatrix","_rect","UITransform","_priority","__preload","node","_uiProps","uiTransformComp","onLoad","parent","insertChangeMap","onEnable","on","PARENT_CHANGED","_parentChanged","_markRenderDataDirty","onDisable","off","onDestroy","setContentSize","size","height","locContentSize","_contentSize","clone","undefined","width","emit","SIZE_CHANGED","setAnchorPoint","point","y","locAnchorPoint","_anchorPoint","x","ANCHOR_CHANGED","isHit","listener","w","h","cameraPt","testPt","cameras","_getRenderScene","i","length","camera","visibility","layer","getWorldRT","m12","m13","center","visibleRect","m00","m04","m01","m05","invert","transformMat4","getWorldMatrix","strictEquals","hit","mask","j","temp","index","comp","_enabled","convertToNodeSpaceAR","worldPoint","out","convertToWorldSpaceAR","nodePoint","getBoundingBox","fromRTS","getRotation","getPosition","getScale","rect","getBoundingBoxToWorld","getBoundingBoxTo","parentMat","multiply","children","locChildren","child","active","uiTransform","getComponent","childRect","union","getComputeAABB","set","worldMatrix","px","py","pz","worldPosition","z","l","uiComp","markForUpdateRenderData","key","uuid","priorityChangeNodeMap","has","_sortChildrenSibling","siblings","sort","a","b","aComp","bComp","ca","cb","diff","getSiblingIndex","_sortSiblings","forEach","ID","_updateSiblingIndex","clear","_cleanChangeMap","value","equals","contentSize","root","batcher2D","getFirstRenderCamera","priority","EventType","Map","EVENT_AFTER_UPDATE","EVENT_BEFORE_SCENE_LAUNCH"],"mappings":"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"}