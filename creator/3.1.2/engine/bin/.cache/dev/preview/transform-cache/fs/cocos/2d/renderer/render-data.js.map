{"version":3,"sources":["../../../../../../../../../cocos/2d/renderer/render-data.ts"],"names":["Color","Pool","RecyclePool","BaseRenderData","material","vertexCount","indicesCount","RenderData","vData","uvDirty","vertDirty","_data","_indices","_pivotX","_pivotY","_width","_height","add","_pool","remove","data","idx","indexOf","clear","removeAt","updateSizeNPivot","width","height","pivotX","pivotY","length","value","i","_dataPool","free","alloc","MeshRenderData","vertexFloatCnt","iData","vertexStart","indicesStart","byteStart","byteCount","lastFilledIndices","lastFilledVertex","_formatByte","Float32Array","BYTES_PER_ELEMENT","Uint16Array","_meshDataPool","reset","request","byteOffset","reserve","newVBytes","newICount","byteLength","indicesLength","vCount","iCount","_reallocBuffer","advance","oldVData","set","oldIData","QuadRenderData","_fillQuadBuffer","count","buffer","vId","x","y","z","u","v","color","WHITE","clone"],"mappings":";;;;;;;;;;;;;;;AA+BSA,MAAAA,K,oBAAAA,K;;AACAC,MAAAA,I,qBAAAA,I;AAAMC,MAAAA,W,qBAAAA,W;;;gCAWFC,c;aACFC,Q,GAA4B,I;aAC5BC,W,GAAc,C;aACdC,Y,GAAe,C;;;4BAGbC,U;;;;;;;;;;;gBAwCFC,K,GAA6B,I;gBAE7BC,O,GAAU,I;gBACVC,S,GAAY,I;gBACXC,K,GAAuB,E;gBACvBC,Q,GAAqB,E;gBACrBC,O,GAAU,C;gBACVC,O,GAAU,C;gBACVC,M,GAAS,C;gBACTC,O,GAAU,C;;;;mBAtBJC,G,GAAd,eAAqB;AACjB,iBAAOC,KAAK,CAACD,GAAN,EAAP;AACH,S;;mBAEaE,M,GAAd,gBAAsBC,IAAtB,EAAwC;AACpC,cAAMC,GAAG,GAAGH,KAAK,CAACE,IAAN,CAAWE,OAAX,CAAmBF,IAAnB,CAAZ;;AACA,cAAIC,GAAG,KAAK,CAAC,CAAb,EAAgB;AACZ;AACH;;AAEDH,UAAAA,KAAK,CAACE,IAAN,CAAWC,GAAX,EAAgBE,KAAhB;;AACAL,UAAAA,KAAK,CAACM,QAAN,CAAeH,GAAf;AACH,S;;;;eAYMI,gB,GAAP,0BAAyBC,KAAzB,EAAwCC,MAAxC,EAAwDC,MAAxD,EAAwEC,MAAxE,EAAwF;AACpF,cAAIH,KAAK,KAAK,KAAKX,MAAf,IACGY,MAAM,KAAK,KAAKX,OADnB,IAEGY,MAAM,KAAK,KAAKf,OAFnB,IAGGgB,MAAM,KAAK,KAAKf,OAHvB,EAGgC;AAC5B,iBAAKC,MAAL,GAAcW,KAAd;AACA,iBAAKV,OAAL,GAAeW,MAAf;AACA,iBAAKd,OAAL,GAAee,MAAf;AACA,iBAAKd,OAAL,GAAee,MAAf;AACA,iBAAKnB,SAAL,GAAiB,IAAjB;AACH;AACJ,S;;eAEMa,K,GAAP,iBAAgB;AACZ,eAAKZ,KAAL,CAAWmB,MAAX,GAAoB,CAApB;AACA,eAAKlB,QAAL,CAAckB,MAAd,GAAuB,CAAvB;AACA,eAAKjB,OAAL,GAAe,CAAf;AACA,eAAKC,OAAL,GAAe,CAAf;AACA,eAAKC,MAAL,GAAc,CAAd;AACA,eAAKC,OAAL,GAAe,CAAf;AACA,eAAKP,OAAL,GAAe,IAAf;AACA,eAAKC,SAAL,GAAiB,IAAjB;AACA,eAAKN,QAAL,GAAgB,IAAhB;AACA,eAAKC,WAAL,GAAmB,CAAnB;AACA,eAAKC,YAAL,GAAoB,CAApB;AACH,S;;;;eA3ED,eAAkB;AACd,mBAAO,KAAKK,KAAL,CAAWmB,MAAlB;AACH,W;eAED,aAAgBA,MAAhB,EAAgC;AAC5B,gBAAMV,IAAmB,GAAG,KAAKT,KAAjC;;AACA,gBAAIS,IAAI,CAACU,MAAL,KAAgBA,MAApB,EAA4B;AACxB;AACA,kBAAMC,KAAK,GAAGX,IAAI,CAACU,MAAnB;AACA,kBAAIE,CAAC,GAAG,CAAR;;AACA,mBAAKA,CAAC,GAAGF,MAAT,EAAiBE,CAAC,GAAGD,KAArB,EAA4BC,CAAC,EAA7B,EAAiC;AAC7BC,gBAAAA,SAAS,CAACC,IAAV,CAAed,IAAI,CAACY,CAAD,CAAnB;AACH;;AAED,mBAAKA,CAAC,GAAGD,KAAT,EAAgBC,CAAC,GAAGF,MAApB,EAA4BE,CAAC,EAA7B,EAAiC;AAC7BZ,gBAAAA,IAAI,CAACY,CAAD,CAAJ,GAAUC,SAAS,CAACE,KAAV,EAAV;AACH;;AAEDf,cAAAA,IAAI,CAACU,MAAL,GAAcA,MAAd;AACH;AACJ;;;eAED,eAAY;AACR,mBAAO,KAAKnB,KAAZ;AACH;;;;QAzB2BR,c;;gCA+EnBiC,c;;;AAGT;AACJ;AACA;;AAEI;AACJ;AACA;AAII;AAMA,gCAAaC,cAAb,EAAiC;AAAA;;AAAA,cAApBA,cAAoB;AAApBA,YAAAA,cAAoB,GAAH,CAAG;AAAA;;AAC7B;AAD6B,iBAlB1B7B,KAkB0B;AAAA,iBAjB1B8B,KAiB0B;AAAA,iBAb1BC,WAa0B,GAbZ,CAaY;AAAA,iBAT1BC,YAS0B,GATX,CASW;AAAA,iBAR1BC,SAQ0B,GARd,CAQc;AAAA,iBAP1BC,SAO0B,GAPd,CAOc;AAAA,iBAL1BC,iBAK0B,GALN,CAKM;AAAA,iBAJ1BC,gBAI0B,GAJP,CAIO;AAAA,iBAFzBC,WAEyB;AAE7B,iBAAKA,WAAL,GAAmBR,cAAc,GAAGS,YAAY,CAACC,iBAAjD;AACA,iBAAKvC,KAAL,GAAa,IAAIsC,YAAJ,CAAiB,MAAMT,cAAN,GAAuBS,YAAY,CAACC,iBAArD,CAAb;AACA,iBAAKT,KAAL,GAAa,IAAIU,WAAJ,CAAgB,MAAM,CAAtB,CAAb;AAJ6B;AAKhC;;uBAaa/B,G,GAAd,eAAqB;AACjB,iBAAOgC,aAAa,CAAChC,GAAd,EAAP;AACH,S;;uBAEaE,M,GAAd,gBAAsBC,IAAtB,EAA4C;AACxC,cAAMC,GAAG,GAAG4B,aAAa,CAAC7B,IAAd,CAAmBE,OAAnB,CAA2BF,IAA3B,CAAZ;;AACA,cAAIC,GAAG,KAAK,CAAC,CAAb,EAAgB;AACZ;AACH;;AAED4B,UAAAA,aAAa,CAAC7B,IAAd,CAAmBC,GAAnB,EAAwB6B,KAAxB;;AACAD,UAAAA,aAAa,CAACzB,QAAd,CAAuBH,GAAvB;AACH,S;;;;gBAEM8B,O,GAAP,iBAAgB9C,WAAhB,EAAqCC,YAArC,EAA2D;AACvD,cAAM8C,UAAU,GAAG,KAAKV,SAAL,GAAiBrC,WAAW,GAAG,KAAKwC,WAAvD;AACA,eAAKQ,OAAL,CAAahD,WAAb,EAA0BC,YAA1B;AACA,eAAKD,WAAL,IAAoBA,WAApB,CAHuD,CAGtB;;AACjC,eAAKC,YAAL,IAAqBA,YAArB,CAJuD,CAIpB;;AACnC,eAAKoC,SAAL,GAAiBU,UAAjB,CALuD,CAK1B;;AAC7B,iBAAO,IAAP;AACH,S;;gBAEMC,O,GAAP,iBAAgBhD,WAAhB,EAAqCC,YAArC,EAA2D;AACvD,cAAMgD,SAAS,GAAG,KAAKZ,SAAL,GAAiBrC,WAAW,GAAG,KAAKwC,WAAtD;AACA,cAAMU,SAAS,GAAG,KAAKjD,YAAL,GAAoBA,YAAtC;;AAEA,cAAID,WAAW,GAAG,KAAKA,WAAnB,GAAiC,KAArC,EAA4C;AACxC,mBAAO,KAAP;AACH;;AAED,cAAImD,UAAU,GAAG,KAAKhD,KAAL,CAAWgD,UAA5B;AACA,cAAIC,aAAa,GAAG,KAAKnB,KAAL,CAAWR,MAA/B;AACA,cAAI4B,MAAM,GAAG,KAAKlD,KAAL,CAAWsB,MAAxB;AACA,cAAI6B,MAAM,GAAG,KAAKrB,KAAL,CAAWR,MAAxB;;AACA,cAAIwB,SAAS,GAAGE,UAAZ,IAA0BD,SAAS,GAAGE,aAA1C,EAAyD;AACrD,mBAAOD,UAAU,GAAGF,SAAb,IAA0BG,aAAa,GAAGF,SAAjD,EAA4D;AACxDG,cAAAA,MAAM,IAAI,CAAV;AACAC,cAAAA,MAAM,IAAI,CAAV;AAEAH,cAAAA,UAAU,GAAGE,MAAM,GAAG,CAAtB;AACAD,cAAAA,aAAa,GAAGE,MAAhB;AACH;;AAED,iBAAKC,cAAL,CAAoBF,MAApB,EAA4BC,MAA5B;AACH;;AACD,iBAAO,IAAP;AACH,S;;gBAEME,O,GAAP,iBAAgBxD,WAAhB,EAAqCC,YAArC,EAA2D;AACvD,eAAKD,WAAL,IAAoBA,WAApB,CADuD,CACtB;;AACjC,eAAKC,YAAL,IAAqBA,YAArB,CAFuD,CAEpB;;AACnC,eAAKoC,SAAL,IAAkBrC,WAAW,GAAG,KAAKwC,WAArC;AACH,S;;gBAEMK,K,GAAP,iBAAgB;AACZ,eAAK7C,WAAL,GAAmB,CAAnB;AACA,eAAKC,YAAL,GAAoB,CAApB;AACA,eAAKoC,SAAL,GAAiB,CAAjB;AACA,eAAKH,WAAL,GAAmB,CAAnB;AACA,eAAKC,YAAL,GAAoB,CAApB;AACA,eAAKC,SAAL,GAAiB,CAAjB;AACA,eAAKE,iBAAL,GAAyB,CAAzB;AACA,eAAKC,gBAAL,GAAwB,CAAxB;AACH,S;;gBAESgB,c,GAAV,wBAA0BF,MAA1B,EAAkCC,MAAlC,EAA0C;AACtC;AACA,cAAMG,QAAQ,GAAG,KAAKtD,KAAtB;AACA,eAAKA,KAAL,GAAa,IAAIsC,YAAJ,CAAiBY,MAAjB,CAAb;AACA,eAAKlD,KAAL,CAAWuD,GAAX,CAAeD,QAAf,EAAyB,CAAzB;AACA,cAAME,QAAQ,GAAG,KAAK1B,KAAtB;AACA,eAAKA,KAAL,GAAa,IAAIU,WAAJ,CAAgBW,MAAhB,CAAb;AACA,eAAKrB,KAAL,CAAWyB,GAAX,CAAeC,QAAf,EAAyB,CAAzB;AACH,S;;;;eAnFD,eAAkB;AAAE,mBAAO,KAAKnB,WAAZ;AAA0B,W;eAF9C,aAAgBd,KAAhB,EAA+B;AAAE,iBAAKc,WAAL,GAAmBd,KAAnB;AAA2B;;;eAI5D,eAAmB;AAAE,mBAAO,KAAKc,WAAL,IAAoB,CAA3B;AAA+B;AAEpD;AACJ;AACA;;;;eACI,eAAmB;AAAE,mBAAO,KAAKH,SAAL,KAAmB,CAA1B;AAA8B;;;;QAnCnBvC,c;;gCAkHvB8D,c;;;;;;;;;gBACDC,e,GAAR,2BAA2B;AACvB,cAAMC,KAAK,GAAG,KAAK7B,KAAL,CAAWR,MAAX,GAAoB,CAAlC;AACA,cAAMsC,MAAM,GAAG,KAAK9B,KAApB;;AACA,eAAK,IAAIN,CAAC,GAAG,CAAR,EAAWX,GAAG,GAAG,CAAtB,EAAyBW,CAAC,GAAGmC,KAA7B,EAAoCnC,CAAC,EAArC,EAAyC;AACrC,gBAAMqC,GAAG,GAAGrC,CAAC,GAAG,CAAhB;AACAoC,YAAAA,MAAM,CAAC/C,GAAG,EAAJ,CAAN,GAAgBgD,GAAhB;AACAD,YAAAA,MAAM,CAAC/C,GAAG,EAAJ,CAAN,GAAgBgD,GAAG,GAAG,CAAtB;AACAD,YAAAA,MAAM,CAAC/C,GAAG,EAAJ,CAAN,GAAgBgD,GAAG,GAAG,CAAtB;AACAD,YAAAA,MAAM,CAAC/C,GAAG,EAAJ,CAAN,GAAgBgD,GAAG,GAAG,CAAtB;AACAD,YAAAA,MAAM,CAAC/C,GAAG,EAAJ,CAAN,GAAgBgD,GAAG,GAAG,CAAtB;AACAD,YAAAA,MAAM,CAAC/C,GAAG,EAAJ,CAAN,GAAgBgD,GAAG,GAAG,CAAtB;AACH;AACJ,S;;gBAEST,c,GAAV,wBAA0BF,MAA1B,EAAkCC,MAAlC,EAA0C;AACtC;AACA,oCAAMC,cAAN,YAAqBF,MAArB,EAA6BC,MAA7B;;AACA,eAAKO,eAAL;AACH,S;;;QAnB+B9B,c;;AAsB9BH,MAAAA,S,GAAY,IAAIhC,IAAJ,CAAS;AAAA,eAAO;AAC9BqE,UAAAA,CAAC,EAAE,CAD2B;AAE9BC,UAAAA,CAAC,EAAE,CAF2B;AAG9BC,UAAAA,CAAC,EAAE,CAH2B;AAI9BC,UAAAA,CAAC,EAAE,CAJ2B;AAK9BC,UAAAA,CAAC,EAAE,CAL2B;AAM9BC,UAAAA,KAAK,EAAE3E,KAAK,CAAC4E,KAAN,CAAYC,KAAZ;AANuB,SAAP;AAAA,OAAT,EAOd,GAPc,C;AASZ3D,MAAAA,K,GAAQ,IAAIhB,WAAJ,CAAgB;AAAA,eAAM,IAAIK,UAAJ,EAAN;AAAA,OAAhB,EAAwC,EAAxC,C;AAER0C,MAAAA,a,GAA6C,IAAI/C,WAAJ,CAAgB;AAAA,eAAM,IAAIkC,cAAJ,EAAN;AAAA,OAAhB,EAA4C,EAA5C,C"}