{"version":3,"sources":["../../../../../../../../cocos/ui/sub-context-view.ts"],"names":["ccclass","help","menu","executionOrder","requireComponent","tooltip","serializable","EDITOR","minigame","Component","view","Sprite","Node","UITransform","SpriteFrame","ImageAsset","Size","legacyCC","CCObject","SystemEventType","SubContextView","_sprite","_imageAsset","_updatedTime","_updateInterval","_openDataContext","_content","hideFlags","Flags","DontSave","HideInHierarchy","performance","now","onLoad","getOpenDataContext","_fps","_initSharedCanvas","_initContentNode","_updateSubContextView","_updateContentLayer","enabled","onEnable","_registerNodeEvent","onDisable","_unregisterNodeEvent","sharedCanvas","canvas","width","_designResolutionSize","height","image","reset","_texture","create","getComponent","addComponent","spriteFrame","texture","sp","parent","node","getSystemInfoSync","nodeTrans","contentTrans","scaleX","scaleY","scale","systemInfo","box","getBoundingBoxToWorld","visibleSize","getVisibleSize","x","screenWidth","y","screenHeight","postMessage","fromEngine","type","event","_updateSubContextTexture","img","uploadData","on","EventType","TRANSFORM_CHANGED","SIZE_CHANGED","LAYER_CHANGED","off","layer","update","dt","calledUpdateManually","undefined","deltaTime","value","equals","set"],"mappings":"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"}