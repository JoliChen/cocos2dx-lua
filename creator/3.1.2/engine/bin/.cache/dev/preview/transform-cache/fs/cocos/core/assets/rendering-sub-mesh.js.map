{"version":3,"sources":["../../../../../../../../../cocos/core/assets/rendering-sub-mesh.ts"],"names":["legacyCC","mapBuffer","Attribute","InputAssemblerInfo","BufferInfo","AttributeName","BufferUsageBit","Format","FormatInfos","MemoryUsageBit","FlatBufferArrayPool","FlatBufferPool","FlatBufferView","NULL_HANDLE","RawBufferPool","SubMeshPool","SubMeshView","freeHandleArray","Vec3","RenderingSubMesh","vertexBuffers","attributes","primitiveMode","indexBuffer","indirectBuffer","mesh","subMeshIdx","_flatBuffers","_jointMappedBuffers","_jointMappedBufferIndices","_vertexIdChannel","_geometricInfo","_vertexBuffers","_attributes","_indexBuffer","_indirectBuffer","_primitiveMode","_iaInfo","_handle","alloc","fbArrayHandle","set","FLAT_BUFFER_ARRAY","genFlatBuffers","length","undefined","idxCount","prim","struct","primitives","get","indexView","count","i","vertexBundelIndices","bundleIdx","vertexBundle","vertexBundles","vbCount","view","vbStride","stride","vbSize","Uint8Array","data","buffer","offset","hBuffer","hFlatBuffer","STRIDE","AMOUNT","BUFFER","push","getBuffer","sharedView","subarray","ibView","readIndices","n","idx","srcOffset","m","destroy","free","enableVertexIdChannel","device","streamIndex","attributeIndex","vertexIdBuffer","_allocVertexIdBuffer","R32F","stream","index","vertexCount","size","vertexIds","Float32Array","iVertex","createBuffer","VERTEX","TRANSFER_DST","DEVICE","byteLength","BYTES_PER_ELEMENT","update","positions","indices","boundingBox","min","ZERO","max","readAttribute","ATTR_POSITION","pAttri","find","element","name","conut","format","x","y","z","buffers","jointMaps","jointMapIndex","jointFormat","jointOffset","director","root","bundle","UNKNOWN","j","attr","ATTR_JOINTS","dataView","DataView","slice","idxMap","cur","indexOf"],"mappings":"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"}