{"version":3,"sources":["../../../../../../../../../cocos/core/platform/screen.ts"],"names":["legacyCC","screen","_supportsFullScreen","_onfullscreenchange","_onfullscreenerror","_preOnFullScreenError","_preOnTouch","_touchEvent","_fn","_fnMap","init","i","l","val","map","valL","length","document","requestFullscreen","undefined","window","supportsFullScreen","fullScreen","fullscreenElement","requestFullScreen","element","onFullScreenChange","onFullScreenError","documentElement","eventName","fullscreenchange","removeEventListener","addEventListener","fullscreenerror","once","requestPromise","Promise","err","exitFullScreen","exitFullscreen","autoFullScreen","body","_ensureFullScreen","disableAutoFullScreen","touchTarget","game","canvas","touchEventName","fullScreenErrorEventName","onTouch"],"mappings":"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"}