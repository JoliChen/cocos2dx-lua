{"version":3,"sources":["../../../../../../../../cocos/tiledmap/tiled-layer.ts"],"names":["ccclass","EDITOR","Renderable2D","Component","Mat4","SystemEventType","Vec2","Vec3","Node","warn","logID","director","TiledTile","MeshRenderData","Orientation","StaggerAxis","StaggerIndex","TileFlag","fillTextureGrids","loadAllTextures","_mat4_temp","_vec2_temp","_vec3_temp","_vec3_temp2","_tempRowCol","row","col","TiledUserNodeData","_index","_row","_col","_tiledLayer","TiledLayer","_userNodeGrid","_userNodeMap","_userNodeDirty","tiledTiles","_viewPort","x","y","width","height","_cullingRect","leftDown","rightTop","_cullingDirty","_rightTop","_layerInfo","_mapInfo","_topOffset","_downOffset","_leftOffset","_rightOffset","tiles","vertices","_verticesDirty","_layerName","_layerSize","_minGID","_maxGID","_layerOrientation","_opacity","_tintColor","texGrids","_textures","_tilesets","_leftDownToCenterX","_leftDownToCenterY","_hasTiledNodeGrid","_hasAniGrid","_animations","_enableCulling","colorChanged","_properties","renderOrder","_staggerAxis","_staggerIndex","_hexSideLength","_mapTileSize","_odd_even","_diffX1","_diffY1","_useAutomaticVertexZ","_vertexZvalue","_offset","_meshRenderDataArray","_meshRenderDataArrayIdx","hasTiledNode","hasAnimation","addUserNode","node","dataComp","getComponent","addComponent","parent","uuid","_nodeLocalPosToLayerPos","getPosition","_positionToRowCol","_addUserNodeToGrid","_updateCullingOffsetByUserNode","on","TRANSFORM_CHANGED","_userNodePosChange","SIZE_CHANGED","_userNodeSizeChange","removeUserNode","off","_removeUserNodeFromGrid","_removeComponent","destroy","removeFromParent","destroyUserNode","nodePos","out","getNodesByRowCol","rowData","getNodesCountByRow","count","_updateAllUserNode","dataId","node_","_uiProps","uiTransformComp","contentSize","self","markForUpdateRenderData","_limitInLayer","index","colData","list","length","rowCol","tempRowCol","push","isUserNodeDirty","setUserNodeDirty","value","onEnable","ANCHOR_CHANGED","_syncAnchorPoint","updateCulling","scheduleOnce","bind","onDisable","trans","scale","getScale","anchorX","anchorY","onDestroy","getLayerName","setLayerName","layerName","getProperty","propertyName","getPositionAt","pos","undefined","Math","floor","ORTHO","_positionForOrthoAt","ISO","_positionForIsoAt","HEX","_positionForHexAt","isInvalidPosition","offsetX","offsetY","gidAndFlags","gid","FLIPPED_MASK","tileset","get","offset","tileOffset","tileWidth","tileHeight","rows","odd_even","STAGGERINDEX_ODD","diffX","diffY","STAGGERAXIS_Y","STAGGERAXIS_X","setTilesGIDAt","gids","beginCol","beginRow","totalCols","gidsIdx","endCol","_updateTileForGID","setTileGIDAt","flags","ugid","Error","firstGid","idx","oldGIDAndFlags","grid","_updateVertex","getTileGIDAt","tile","getTileFlagsAt","FLIPPED_ALL","setCullingDirty","isCullingDirty","updateViewPort","reserveLine","vpx","vpy","leftDownX","leftDownY","rightTopX","rightTopY","result","maptw","mapth","maptw2","mapth2","diffX2","diffY2","axis","enableCulling","updateWorldTransform","invert","getWorldMatrix","camera","root","batcher2D","getFirstRenderCamera","z","screenToWorld","transformMat4","getLayerOrientation","getProperties","layerOrientation","cols","grids","left","bottom","diffX1","diffY1","cullingCol","cullingRow","gridGID","topBorder","downBorder","leftBorder","rightBorder","minCol","maxCol","_tileSize","_updateVertices","getTiledTileAt","forceCreate","_x","_y","_layer","updateInfo","setTiledTileAt","tiledTile","some","tiledNode","getTexture","getTextures","setTexture","texture","setTextures","textures","getLayerSize","getMapTileSize","getTileSet","getTileSets","setTileSet","setTileSets","tilesets","clear","i","sourceImage","l","tilesetInfo","_prepareToRender","init","layerInfo","mapInfo","size","layerSize","name","properties","minGID","maxGID","opacity","tintColor","getStaggerAxis","getStaggerIndex","getHexSideLength","getTileAnimations","orientation","getTileSize","layerW","layerH","setContentSize","wh","requestMeshRenderData","arr","subNodes","pop","last","renderData","byteCount","comb","Object","defineProperty","getRenderMaterial","requestSubNodesData","destroyRenderData","forEach","rd","reset","_flushAssembler","assembler","Assembler","getAssembler","_assembler","createData","_updateColor","_render","ui","m","c","walk","commitComp","_static"],"mappings":"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"}