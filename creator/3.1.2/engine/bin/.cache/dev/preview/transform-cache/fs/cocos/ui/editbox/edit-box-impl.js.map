{"version":3,"sources":["../../../../../../../../../cocos/ui/editbox/edit-box-impl.ts"],"names":["system","BitmapFont","director","game","Mat4","Vec3","screen","view","macro","contains","Label","tabIndexUtil","InputFlag","InputMode","KeyboardReturnType","sys","visibleRect","EditBoxImplBase","legacyCC","BrowserType","OS","SCROLLY","LEFT_PADDING","DELAY_TIME","_matrix","_matrix_temp","_vec3","_currentEditBoxImpl","_domCount","EditBoxImpl","_delegate","_inputMode","_inputFlag","_returnType","__eventListeners","__fullscreen","__autoResize","__orientationChanged","_edTxt","_isTextArea","_textLabelFont","_textLabelFontSize","_textLabelFontColor","_textLabelAlign","_placeholderLabelFont","_placeholderLabelFontSize","_placeholderLabelFontColor","_placeholderLabelAlign","_placeholderLineHeight","_placeholderStyleSheet","_domId","init","delegate","inputMode","ANY","_createTextArea","_createInput","add","setTabIndex","tabIndex","_initStyleSheet","_registerEventListeners","_addDomToGameContainer","isAutoFullScreenEnabled","_resizeWithBrowserSize","clear","_removeEventListeners","_removeDomFromGameContainer","remove","update","_updateMatrix","index","resort","setSize","width","height","elem","style","beginEditing","setFocus","_editing","_editBoxEditingDidBegan","_showDom","focus","endEditing","blur","document","createElement","GAME_VIEW","gameView","container","appendChild","head","hasElem","removeChild","hasStyleSheet","_updateMaxLength","_updateInputType","_updateStyleSheet","display","_hideLabels","isMobile","_showDomOnMobile","_hideDom","_showLabels","_hideDomOnMobile","os","ANDROID","enableAutoFullScreen","exitFullScreen","resizeWithBrowserSize","_adjustWindowScroll","setTimeout","_scrollBackWindow","window","scrollY","scrollIntoView","block","inline","behavior","browserType","WECHAT","IOS","top","scrollTo","node","scaleX","getScaleX","scaleY","getScaleY","widthRatio","heightRatio","canvas","viewport","getViewportRect","dpr","getDevicePixelRatio","getWorldMatrix","transform","_uiProps","uiTransformComp","set","anchorX","anchorY","z","camera","root","batcher2D","getFirstRenderCamera","getWorldRT","m12","m13","center","x","m00","m04","y","m01","m05","multiply","a","b","c","d","offsetX","parseInt","paddingLeft","offsetY","paddingBottom","tx","ty","matrix","inputFlag","returnType","INITIAL_CAPS_ALL_CHARACTERS","INITIAL_CAPS_WORD","textTransform","PASSWORD","type","EMAIL_ADDR","NUMERIC","DECIMAL","PHONE_NUMBER","pattern","URL","SEARCH","maxLength","color","border","background","outline","padding","position","bottom","left","className","fontFamily","id","resize","overflowY","value","string","placeholder","_updateTextLabel","textLabel","_updatePlaceholderLabel","placeholderLabel","font","_fontFamily","fontSize","scale","fontColor","horizontalAlign","toCSS","HorizontalAlign","LEFT","textAlign","CENTER","RIGHT","styleEl","lineHeight","innerHTML","EDGE","inputLock","cbs","compositionStart","compositionEnd","_editBoxTextChanged","onInput","slice","onClick","onKeydown","e","keyCode","KEY","enter","propagationStopped","_editBoxEditingReturn","tab","preventDefault","next","onBlur","_editBoxEditingDidEnded","addEventListener","removeEventListener"],"mappings":"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"}