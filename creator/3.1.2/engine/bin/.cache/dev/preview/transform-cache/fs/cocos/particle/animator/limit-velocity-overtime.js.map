{"version":3,"sources":["../../../../../../../../../cocos/particle/animator/limit-velocity-overtime.ts"],"names":["dampenBeyondLimit","vel","limit","dampen","sgn","Math","sign","abs","lerp","ccclass","tooltip","displayOrder","range","type","serializable","pseudoRandom","Vec3","Quat","Space","ModuleRandSeed","ParticleModuleBase","PARTICLE_MODULE_NAME","CurveRange","calculateTransform","LIMIT_VELOCITY_RAND_OFFSET","LIMIT","_temp_v3","_temp_v3_1","LimitVelocityOvertimeModule","drag","multiplyDragByParticleSize","multiplyDragByParticleVelocity","name","rotation","needTransform","needUpdate","update","space","worldTransform","animate","p","dt","normalizedTime","remainingLifetime","startLifetime","dampedVel","separateAxes","set","limitX","evaluate","randomSeed","limitY","limitZ","transformQuat","ultimateVelocity","x","y","z","normalize","multiplyScalar","length","copy","_enable","val","target","enableModule","Local"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAuKA,WAASA,iBAAT,CAA4BC,GAA5B,EAAyCC,KAAzC,EAAwDC,MAAxD,EAAwE;AACpE,QAAMC,GAAG,GAAGC,IAAI,CAACC,IAAL,CAAUL,GAAV,CAAZ;AACA,QAAIM,GAAG,GAAGF,IAAI,CAACE,GAAL,CAASN,GAAT,CAAV;;AACA,QAAIM,GAAG,GAAGL,KAAV,EAAiB;AACbK,MAAAA,GAAG,GAAGC,IAAI,CAACD,GAAD,EAAML,KAAN,EAAaC,MAAb,CAAV;AACH;;AACD,WAAOI,GAAG,GAAGH,GAAb;AACH;;;;AAhJQK,MAAAA,O,8BAAAA,O;AAASC,MAAAA,O,8BAAAA,O;AAASC,MAAAA,Y,8BAAAA,Y;AAAcC,MAAAA,K,8BAAAA,K;AAAOC,MAAAA,I,8BAAAA,I;AAAMC,MAAAA,Y,8BAAAA,Y;;AAC7CN,MAAAA,I,oBAAAA,I;AAAMO,MAAAA,Y,oBAAAA,Y;AAAcC,MAAAA,I,oBAAAA,I;AAAYC,MAAAA,I,oBAAAA,I;;AAChCC,MAAAA,K,WAAAA,K;AAAOC,MAAAA,c,WAAAA,c;;AACGC,MAAAA,kB,eAAAA,kB;AAAoBC,MAAAA,oB,eAAAA,oB;;AAChCC,MAAAA,U;;AACEC,MAAAA,kB,8BAAAA,kB;;;AAEHC,MAAAA,0B,GAA6BL,cAAc,CAACM,K;AAE5CC,MAAAA,Q,GAAW,IAAIV,IAAJ,E;AACXW,MAAAA,U,GAAa,IAAIX,IAAJ,E;;yBAGEY,2B,WADpBnB,OAAO,CAAC,gCAAD,C,UAOHE,YAAY,CAAC,CAAD,C,UAeZE,IAAI,CAACS,UAAD,C,UAEJV,KAAK,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,C,UACLD,YAAY,CAAC,CAAD,C,UACZD,OAAO,CAAC,yCAAD,C,UAMPG,IAAI,CAACS,UAAD,C,UAEJV,KAAK,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,C,UACLD,YAAY,CAAC,CAAD,C,WACZD,OAAO,CAAC,yCAAD,C,WAMPG,IAAI,CAACS,UAAD,C,WAEJV,KAAK,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,C,WACLD,YAAY,CAAC,CAAD,C,WACZD,OAAO,CAAC,yCAAD,C,WAMPG,IAAI,CAACS,UAAD,C,WAEJV,KAAK,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,C,WACLD,YAAY,CAAC,CAAD,C,WACZD,OAAO,CAAC,wCAAD,C,WAOPC,YAAY,CAAC,CAAD,C,WACZD,OAAO,CAAC,yCAAD,C,WAOPC,YAAY,CAAC,CAAD,C,WACZD,OAAO,CAAC,+CAAD,C,WAMPG,IAAI,CAACK,KAAD,C,WAEJP,YAAY,CAAC,CAAD,C,WACZD,OAAO,CAAC,wCAAD,C;;;AAWR,+CAAe;AAAA;;AACX;;AADW;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,gBAPRmB,IAOQ,GAPD,IAOC;AAAA,gBANRC,0BAMQ,GANqB,KAMrB;AAAA,gBALRC,8BAKQ,GALyB,KAKzB;AAAA,gBAJRC,IAIQ,GAJDX,oBAAoB,CAACI,KAIpB;AAAA,gBAHPQ,QAGO;AAAA,gBAFPC,aAEO;AAEX,gBAAKD,QAAL,GAAgB,IAAIhB,IAAJ,EAAhB;AACA,gBAAKiB,aAAL,GAAqB,KAArB;AACA,gBAAKC,UAAL,GAAkB,IAAlB;AAJW;AAKd;;;;eAEMC,M,GAAP,gBAAeC,KAAf,EAA8BC,cAA9B,EAAoD;AAChD,eAAKJ,aAAL,GAAqBX,kBAAkB,CAACc,KAAD,EAAQ,KAAKA,KAAb,EAAoBC,cAApB,EAAoC,KAAKL,QAAzC,CAAvC;AACH,S;;eAEMM,O,GAAP,iBAAgBC,CAAhB,EAA6BC,EAA7B,EAAyC;AACrC,cAAMC,cAAc,GAAG,IAAIF,CAAC,CAACG,iBAAF,GAAsBH,CAAC,CAACI,aAAnD;AACA,cAAMC,SAAS,GAAGnB,QAAlB;;AACA,cAAI,KAAKoB,YAAT,EAAuB;AACnB9B,YAAAA,IAAI,CAAC+B,GAAL,CAASpB,UAAT,EAAqB,KAAKqB,MAAL,CAAYC,QAAZ,CAAqBP,cAArB,EAAqC3B,YAAY,CAACyB,CAAC,CAACU,UAAF,GAAe1B,0BAAhB,CAAjD,CAArB,EACI,KAAK2B,MAAL,CAAYF,QAAZ,CAAqBP,cAArB,EAAqC3B,YAAY,CAACyB,CAAC,CAACU,UAAF,GAAe1B,0BAAhB,CAAjD,CADJ,EAEI,KAAK4B,MAAL,CAAYH,QAAZ,CAAqBP,cAArB,EAAqC3B,YAAY,CAACyB,CAAC,CAACU,UAAF,GAAe1B,0BAAhB,CAAjD,CAFJ;;AAGA,gBAAI,KAAKU,aAAT,EAAwB;AACpBlB,cAAAA,IAAI,CAACqC,aAAL,CAAmB1B,UAAnB,EAA+BA,UAA/B,EAA2C,KAAKM,QAAhD;AACH;;AACDjB,YAAAA,IAAI,CAAC+B,GAAL,CAASF,SAAT,EACI7C,iBAAiB,CAACwC,CAAC,CAACc,gBAAF,CAAmBC,CAApB,EAAuB5B,UAAU,CAAC4B,CAAlC,EAAqC,KAAKpD,MAA1C,CADrB,EAEIH,iBAAiB,CAACwC,CAAC,CAACc,gBAAF,CAAmBE,CAApB,EAAuB7B,UAAU,CAAC6B,CAAlC,EAAqC,KAAKrD,MAA1C,CAFrB,EAGIH,iBAAiB,CAACwC,CAAC,CAACc,gBAAF,CAAmBG,CAApB,EAAuB9B,UAAU,CAAC8B,CAAlC,EAAqC,KAAKtD,MAA1C,CAHrB;AAIH,WAXD,MAWO;AACHa,YAAAA,IAAI,CAAC0C,SAAL,CAAeb,SAAf,EAA0BL,CAAC,CAACc,gBAA5B;AACAtC,YAAAA,IAAI,CAAC2C,cAAL,CAAoBd,SAApB,EAA+BA,SAA/B,EAA0C7C,iBAAiB,CAACwC,CAAC,CAACc,gBAAF,CAAmBM,MAAnB,EAAD,EAA8B,KAAK1D,KAAL,CAAW+C,QAAX,CAAoBP,cAApB,EAAoC3B,YAAY,CAACyB,CAAC,CAACU,UAAF,GAAe1B,0BAAhB,CAAhD,CAA9B,EAA6H,KAAKrB,MAAlI,CAA3D;AACH;;AACDa,UAAAA,IAAI,CAAC6C,IAAL,CAAUrB,CAAC,CAACc,gBAAZ,EAA8BT,SAA9B;AACH,S;;;;;AAtHD;AACJ;AACA;AACI,yBACqB;AACjB,mBAAO,KAAKiB,OAAZ;AACH,W;eAED,aAAmBC,GAAnB,EAAwB;AACpB,gBAAI,KAAKD,OAAL,KAAiBC,GAArB,EAA0B;AAC1B,iBAAKD,OAAL,GAAeC,GAAf;AACA,gBAAI,CAAC,KAAKC,MAAV,EAAkB;AAClB,iBAAKA,MAAL,CAAYC,YAAZ,CAAyB,KAAKjC,IAA9B,EAAoC+B,GAApC,EAAyC,IAAzC;AACH;AAED;AACJ;AACA;;;;;QApByD3C,kB,mFACpDN,Y;;;;;iBACS,K;;0OAoBTA,Y;;;;;iBAIe,IAAIQ,UAAJ,E;;wFAMfR,Y;;;;;iBAIe,IAAIQ,UAAJ,E;;yFAMfR,Y;;;;;iBAIe,IAAIQ,UAAJ,E;;wFAMfR,Y;;;;;iBAIc,IAAIQ,UAAJ,E;;iFAKdR,Y;;;;;iBAGe,C;;uFAKfA,Y;;;;;iBAGqB,K;;wFAMrBA,Y;;;;;iBAGcI,KAAK,CAACgD,K"}