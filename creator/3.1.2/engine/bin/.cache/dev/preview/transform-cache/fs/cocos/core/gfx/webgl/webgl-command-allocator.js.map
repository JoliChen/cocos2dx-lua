{"version":3,"sources":["../../../../../../../../../../cocos/core/gfx/webgl/webgl-command-allocator.ts"],"names":["CachedArray","WebGLCmdBeginRenderPass","WebGLCmdBindStates","WebGLCmdCopyBufferToTexture","WebGLCmdDraw","WebGLCmdUpdateBuffer","WebGLCommandPool","Clazz","count","_frees","_freeIdx","_freeCmds","Array","i","alloc","size","length","temp","increase","j","cmd","refCount","free","push","freeCmds","cmds","array","release","clear","WebGLCommandAllocator","beginRenderPassCmdPool","bindStatesCmdPool","drawCmdPool","updateBufferCmdPool","copyBufferToTextureCmdPool","clearCmds","cmdPackage","beginRenderPassCmds","bindStatesCmds","drawCmds","updateBufferCmds","copyBufferToTextureCmds","releaseCmds"],"mappings":"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"}