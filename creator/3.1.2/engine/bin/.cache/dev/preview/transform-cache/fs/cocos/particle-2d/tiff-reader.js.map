{"version":3,"sources":["../../../../../../../../cocos/particle-2d/tiff-reader.ts"],"names":["getError","logID","TiffReader","_littleEndian","_tiffData","_fileDirectories","getUint8","offset","getUint16","getUint32","a","checkLittleEndian","BOM","console","log","TypeError","hasTowel","RangeError","getFieldTypeName","fieldType","typeNames","fieldTypeNames","getFieldTagName","fieldTag","tagNames","fieldTagNames","getFieldTypeLength","fieldTypeName","indexOf","getFieldValues","fieldTagName","typeCount","valueOffset","fieldValues","fieldTypeLength","fieldValueSize","push","i","indexOffset","getBytes","forEach","e","String","fromCharCode","numBytes","getBits","numBits","byteOffset","bitOffset","extraBytes","Math","floor","newByteOffset","totalBits","shiftRight","shiftLeft","rawBits","bits","parseFileDirectory","numDirEntries","tiffFields","entryCount","type","values","nextIFDByteOffset","clampColorSample","colorSample","bitsPerSample","multiplier","pow","parseTIFF","tiffData","canvas","document","createElement","_canvas","firstIFDByteOffset","length","fileDirectory","imageWidth","ImageWidth","imageLength","ImageLength","width","height","strips","compression","Compression","samplesPerPixel","SamplesPerPixel","sampleProperties","bitsPerPixel","hasBytesPerPixel","BitsPerSample","bitsPerSampleValues","hasBytesPerSample","bytesPerSample","undefined","bytesPerPixel","stripOffsetValues","StripOffsets","numStripOffsetValues","stripByteCountValues","StripByteCounts","ceil","Error","blockLength","iterations","stripOffset","stripByteCount","jIncrement","getHeader","pixel","sample","currentSample","m","s","sampleOffset","sampleInfo","header","currentByte","getContext","ctx","fillStyle","rowsPerStrip","RowsPerStrip","numStrips","imageLengthModRowsPerStrip","rowsInLastStrip","numRowsInStrip","numRowsInPreviousStrip","photometricInterpretation","PhotometricInterpretation","extraSamplesValues","numExtraSamples","ExtraSamples","colorMapValues","colorMapSampleSize","ColorMap","numPixels","yPadding","y","j","x","pixelSamples","red","green","blue","opacity","k","invertValue","index","samples","colorMapIndex","fillRect"],"mappings":"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"}