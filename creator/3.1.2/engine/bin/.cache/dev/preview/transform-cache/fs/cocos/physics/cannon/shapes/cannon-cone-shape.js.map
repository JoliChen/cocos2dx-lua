{"version":3,"sources":["../../../../../../../../../../cocos/physics/cannon/shapes/cannon-cone-shape.ts"],"names":["CANNON","Vec3","CannonShape","EAxisDirection","commitShapeUpdates","v3_0","v3_1","CannonConeShape","setRadius","v","updateProperties","collider","radius","height","CC_CONFIG","numSegmentsCone","direction","node","worldScale","_index","_body","setHeight","setDirection","Y_AXIS","_shape","Cylinder","onLoad","setScale","scale","numSegments","wh","wr","cos","Math","sin","abs","max","y","x","z","N","hH","vertices","indices","axes","theta","PI","bf","push","i","face","subtract","cross","normalize","impl","faces","uniqueAxes","worldVerticesNeedsUpdate","worldFaceNormalsNeedsUpdate","computeNormals","computeEdges","updateBoundingSphereRadius","_collider"],"mappings":"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"}