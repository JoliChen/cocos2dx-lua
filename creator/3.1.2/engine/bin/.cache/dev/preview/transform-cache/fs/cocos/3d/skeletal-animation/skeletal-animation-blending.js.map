{"version":3,"sources":["../../../../../../../../../cocos/3d/skeletal-animation/skeletal-animation-blending.ts"],"names":["Vec3","Quat","BlendStateBuffer","_nodeBlendStates","Map","createWriter","node","property","host","constants","propertyBlendState","ref","BlendStateWriterInternal","destroyWriter","writer","internal","deRef","nodeBlendState","get","NodeBlendState","set","refProperty","deRefProperty","empty","apply","forEach","_node","_property","_propertyBlendState","_host","_constants","getValue","setValue","value","weight","blend","PropertyBlendState","blendedWeight","blendedValue","refCount","Vec3PropertyBlendState","copy","scaleAndAdd","reset","zero","QuatPropertyBlendState","t","slerp","identity","_properties","properties","position","scale","rotation","eulerAngles","s","r","tFlags","sFlags","rFlags","eFlags","setRTS"],"mappings":"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"}