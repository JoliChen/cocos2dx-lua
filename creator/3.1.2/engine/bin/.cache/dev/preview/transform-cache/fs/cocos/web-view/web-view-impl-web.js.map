{"version":3,"sources":["../../../../../../../../cocos/web-view/web-view-impl-web.ts"],"names":["EventType","error","warn","view","WebViewImpl","game","mat4","contains","_mat4_temp","WebViewImplWeb","component","_bindDomEvent","webview","onLoaded","e","_forceUpdate","dispatchEvent","LOADED","iframe","target","body","contentDocument","innerHTML","includes","ERROR","addEventListener","loadURL","url","src","LOADING","createWebView","warpper","document","createElement","_warpper","id","style","position","bottom","left","transformOrigin","container","appendChild","_webview","border","width","height","removeWebView","removeChild","reset","enable","visibility","disable","evaluateJS","str","win","contentWindow","eval","setOnJSCallback","callback","setJavascriptInterfaceScheme","scheme","syncMatrix","_uiTrans","_component","camera","UICamera","node","getWorldMatrix","update","worldMatrixToScreen","canvas","contentSize","_m00","m00","_m01","m01","_m04","m04","_m05","m05","_m12","m12","_m13","m13","_w","_h","dpr","getDevicePixelRatio","scaleX","scaleY","sx","b","c","sy","w","h","appx","anchorX","appy","anchorY","offsetX","paddingLeft","parseInt","offsetY","paddingBottom","tx","ty","matrix","transform"],"mappings":"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"}