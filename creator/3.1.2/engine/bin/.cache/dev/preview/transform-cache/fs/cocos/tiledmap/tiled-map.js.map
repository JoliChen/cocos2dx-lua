{"version":3,"sources":["../../../../../../../../cocos/tiledmap/tiled-map.ts"],"names":["ccclass","displayOrder","executeInEditMode","help","menu","requireComponent","type","serializable","editable","EDITOR","JSB","Component","UITransform","Orientation","Property","RenderOrder","StaggerAxis","StaggerIndex","TileFlag","TMXImageLayerInfo","TMXLayerInfo","TMXObjectGroupInfo","TMXObjectType","TMXMapInfo","TiledLayer","TiledObjectGroup","TiledMapAsset","Sprite","fillTextureGrids","loadAllTextures","Size","SystemEventType","Vec2","Node","logID","sys","TiledMap","_texGrids","Map","_textures","_tilesets","_animations","_imageLayers","_layers","_groups","_images","_properties","_tileProperties","_mapInfo","_mapSize","_tileSize","_preloaded","_mapOrientation","ORTHO","getMapSize","getTileSize","getMapOrientation","getObjectGroups","getObjectGroup","groupName","groups","i","l","length","group","getGroupName","getProperties","getLayers","getLayer","layerName","layers","layer","getLayerName","_changeLayer","replaceLayer","getProperty","propertyName","toString","getPropertiesForGID","gid","get","__preload","_tmxFile","_applyFile","onEnable","node","on","ANCHOR_CHANGED","_syncAnchorPoint","onDisable","off","spriteFrames","spriteFramesCache","file","spfNames","spriteFrameNames","spfSizes","spriteFrameSizes","fSpriteFrames","spfTexturesMap","spfTextureSizeMap","texName","frame","name","imageLayerTextures","texValues","imageLayerSpriteFrame","imageLayerSpriteFrameNames","tsxFileNames","tsxFiles","tsxContentMap","text","mapInfo","tmxXmlStr","tilesets","getTilesets","_buildWithMapInfo","_releaseMapInfo","removeFromParent","destroy","images","anchor","_uiProps","uiTransformComp","anchorPoint","leftTopX","width","x","leftTopY","height","y","layerInfo","layerNode","setAnchorPoint","groupInfo","groupNode","anchorX","anchorY","offset","setPosition","image","_offset","_fillAniGrids","texGrids","animations","keys","animation","frames","j","grid","tileid","_buildLayerAndGroup","clear","tilesetInfo","sourceImage","console","warn","oldNodeNames","n","layerInfos","getAllChildren","textures","maxWidth","maxHeight","len","child","getChildByName","addChild","setSiblingIndex","active","visible","getComponent","addComponent","init","enableCulling","_enableCulling","ownTiles","push","_init","texture","color","a","opacity","spriteFrame","setContentSize","Math","max","children","c","orientation","properties","getTileProperties","getImageLayers","getTileAnimations","totalTextures","imageLayer","cleanupImageCache","forEach","tex","doCleanupImageCache","_image","HTMLImageElement","src","capabilities","imageBitmap","ImageBitmap","close","update","dt","aniGID","frameIdx","duration","set","hasAnimation","markForUpdateRenderData","value"],"mappings":"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"}