{"version":3,"sources":["../../../../../../../../../cocos/particle/renderer/particle-system-renderer-base.ts"],"names":["ParticleBatchModel","RenderMode","legacyCC","ParticleSystemRendererBase","info","_particleSystem","_model","_renderInfo","_vertAttrs","onInit","ps","onEnable","attachToScene","model","node","transform","enabled","enabledInHierarchy","onDisable","detachFromScene","onDestroy","director","root","destroyModel","scene","_getRenderScene","addModel","removeModel","setVertexAttributes","renderMode","Mesh","mesh","clear","_initModel","createModel","setCapacity","capacity","visFlags","visibility","updateTrailMaterial","getDefaultTrailMaterial"],"mappings":";;;;;;AA2BOA,MAAAA,kB;;AAIEC,MAAAA,U,WAAAA,U;;AACAC,MAAAA,Q,wBAAAA,Q;;;AAhCT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;4CAmCsBC,0B;AAMlB,4CAAaC,IAAb,EAA2C;AAAA,eALjCC,eAKiC,GALV,IAKU;AAAA,eAJjCC,MAIiC,GAJG,IAIH;AAAA,eAHjCC,WAGiC,GAHY,IAGZ;AAAA,eAFjCC,UAEiC,GAFP,EAEO;AACvC,eAAKD,WAAL,GAAmBH,IAAnB;AACH;;;;eAEMK,M,GAAP,gBAAeC,EAAf,EAA8B;AAC1B,eAAKL,eAAL,GAAuBK,EAAvB;AACH,S;;eAEMC,Q,GAAP,oBAAmB;AACf,cAAI,CAAC,KAAKN,eAAV,EAA2B;AACvB;AACH;;AACD,eAAKO,aAAL;AACA,cAAMC,KAAK,GAAG,KAAKP,MAAnB;;AACA,cAAIO,KAAJ,EAAW;AACPA,YAAAA,KAAK,CAACC,IAAN,GAAaD,KAAK,CAACE,SAAN,GAAkB,KAAKV,eAAL,CAAqBS,IAApD;AACAD,YAAAA,KAAK,CAACG,OAAN,GAAgB,KAAKX,eAAL,CAAqBY,kBAArC;AACH;AACJ,S;;eAEMC,S,GAAP,qBAAoB;AAChB,eAAKC,eAAL;AACH,S;;eAEMC,S,GAAP,qBAAoB;AAChB,cAAI,KAAKd,MAAT,EAAiB;AACbJ,YAAAA,QAAQ,CAACmB,QAAT,CAAkBC,IAAlB,CAAuBC,YAAvB,CAAoC,KAAKjB,MAAzC;AACA,iBAAKA,MAAL,GAAc,IAAd;AACH;AACJ,S;;eAEMM,a,GAAP,yBAAwB;AACpB,cAAI,KAAKN,MAAT,EAAiB;AACb,gBAAI,KAAKA,MAAL,CAAYkB,KAAhB,EAAuB;AACnB,mBAAKL,eAAL;AACH;;AACD,iBAAKd,eAAL,CAAqBoB,eAArB,GAAuCC,QAAvC,CAAgD,KAAKpB,MAArD;AACH;AACJ,S;;eAEMa,e,GAAP,2BAA0B;AACtB,cAAI,KAAKb,MAAL,IAAe,KAAKA,MAAL,CAAYkB,KAA/B,EAAsC;AAClC,iBAAKlB,MAAL,CAAYkB,KAAZ,CAAkBG,WAAlB,CAA8B,KAAKrB,MAAnC;AACH;AACJ,S;;eAEMsB,mB,GAAP,+BAA8B;AAC1B,cAAI,KAAKtB,MAAT,EAAiB;AACb,iBAAKA,MAAL,CAAYsB,mBAAZ,CAAgC,KAAKrB,WAAL,CAAkBsB,UAAlB,KAAiC5B,UAAU,CAAC6B,IAA5C,GAAmD,KAAKvB,WAAL,CAAkBwB,IAArE,GAA4E,IAA5G,EAAkH,KAAKvB,UAAvH;AACH;AACJ,S;;eAEMwB,K,GAAP,iBAAgB;AACZ,cAAI,KAAK1B,MAAT,EAAiB,KAAKA,MAAL,CAAYU,OAAZ,GAAsB,KAAtB;AACpB,S;;eAESiB,U,GAAV,sBAAwB;AACpB,cAAI,CAAC,KAAK3B,MAAV,EAAkB;AACd,iBAAKA,MAAL,GAAcJ,QAAQ,CAACmB,QAAT,CAAkBC,IAAlB,CAAuBY,WAAvB,CAAmClC,kBAAnC,CAAd;;AACA,iBAAKM,MAAL,CAAa6B,WAAb,CAAyB,KAAK9B,eAAL,CAAqB+B,QAA9C;;AACA,iBAAK9B,MAAL,CAAa+B,QAAb,GAAwB,KAAKhC,eAAL,CAAqBiC,UAA7C;AACH;AACJ,S;;eAEMC,mB,GAAP,+BAA8B,CAAE,C;;eACzBC,uB,GAAP,mCAAkC;AAAE,iBAAO,IAAP;AAAc,S"}