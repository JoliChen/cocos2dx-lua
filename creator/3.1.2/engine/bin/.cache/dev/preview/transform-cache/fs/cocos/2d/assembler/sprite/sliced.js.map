{"version":3,"sources":["../../../../../../../../../../cocos/2d/assembler/sprite/sliced.ts"],"names":["Color","Mat4","Vec3","dynamicAtlasManager","vec3_temp","matrix","sliced","useModel","createData","sprite","renderData","requestRenderData","dataLength","vertexCount","indicesCount","updateRenderData","frame","spriteFrame","packToDynamicAtlas","vertDirty","updateVertexData","updateWorldVertexData","dataList","data","uiTrans","node","_uiProps","uiTransformComp","width","height","appX","anchorX","appY","anchorY","leftWidth","insetLeft","rightWidth","insetRight","topHeight","insetTop","bottomHeight","insetBottom","sizableWidth","sizableHeight","xScale","yScale","Number","isNaN","x","y","fillBuffers","renderer","hasChangedFlags","buffer","acquireBufferBatch","vertexOffset","byteOffset","indicesOffset","vertexId","uvSliced","isRecreate","request","currBufferBatch","vBuf","vData","iBuf","iData","i","vert","uvs","z","u","v","toArray","color","r","c","start","getWorldMatrix","row","rowD","col","colD","world","set","transformMat4","updateColor","datalist","colorR","colorG","g","colorB","b","colorA","opacity","a"],"mappings":"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"}