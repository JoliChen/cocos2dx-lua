{"version":3,"sources":["../../../../../../../../../cocos/core/asset-manager/download-file.ts"],"names":["downloadFile","url","options","onProgress","onComplete","xhr","XMLHttpRequest","errInfo","open","xhrResponseType","undefined","responseType","xhrWithCredentials","withCredentials","xhrMimeType","overrideMimeType","xhrTimeout","timeout","xhrHeader","header","setRequestHeader","onload","status","response","Error","onprogress","e","lengthComputable","loaded","total","onerror","ontimeout","onabort","send"],"mappings":";;;AAgCe,WAASA,YAAT,CACXC,GADW,EAEXC,OAFW,EAGXC,UAHW,EAIXC,UAJW,EAKG;AACd,QAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACA,QAAMC,OAAO,yBAAuBN,GAAvB,eAAb;AAEAI,IAAAA,GAAG,CAACG,IAAJ,CAAS,KAAT,EAAgBP,GAAhB,EAAqB,IAArB;;AAEA,QAAIC,OAAO,CAACO,eAAR,KAA4BC,SAAhC,EAA2C;AAAEL,MAAAA,GAAG,CAACM,YAAJ,GAAmBT,OAAO,CAACO,eAA3B;AAA6C;;AAC1F,QAAIP,OAAO,CAACU,kBAAR,KAA+BF,SAAnC,EAA8C;AAAEL,MAAAA,GAAG,CAACQ,eAAJ,GAAsBX,OAAO,CAACU,kBAA9B;AAAmD;;AACnG,QAAIV,OAAO,CAACY,WAAR,KAAwBJ,SAAxB,IAAqCL,GAAG,CAACU,gBAA7C,EAA+D;AAAEV,MAAAA,GAAG,CAACU,gBAAJ,CAAqBb,OAAO,CAACY,WAA7B;AAA4C;;AAC7G,QAAIZ,OAAO,CAACc,UAAR,KAAuBN,SAA3B,EAAsC;AAAEL,MAAAA,GAAG,CAACY,OAAJ,GAAcf,OAAO,CAACc,UAAtB;AAAmC;;AAE3E,QAAId,OAAO,CAACgB,SAAZ,EAAuB;AACnB,WAAK,IAAMC,MAAX,IAAqBjB,OAAO,CAACgB,SAA7B,EAAwC;AACpCb,QAAAA,GAAG,CAACe,gBAAJ,CAAqBD,MAArB,EAA6BjB,OAAO,CAACgB,SAAR,CAAkBC,MAAlB,CAA7B;AACH;AACJ;;AAEDd,IAAAA,GAAG,CAACgB,MAAJ,GAAa,YAAM;AACf,UAAIhB,GAAG,CAACiB,MAAJ,KAAe,GAAf,IAAsBjB,GAAG,CAACiB,MAAJ,KAAe,CAAzC,EAA4C;AACxC,YAAIlB,UAAJ,EAAgB;AAAEA,UAAAA,UAAU,CAAC,IAAD,EAAOC,GAAG,CAACkB,QAAX,CAAV;AAAiC;AACtD,OAFD,MAEO,IAAInB,UAAJ,EAAgB;AAAEA,QAAAA,UAAU,CAAC,IAAIoB,KAAJ,MAAajB,OAAb,GAAuBF,GAAG,CAACiB,MAA3B,mBAAD,CAAV;AAAgE;AAC5F,KAJD;;AAMA,QAAInB,UAAJ,EAAgB;AACZE,MAAAA,GAAG,CAACoB,UAAJ,GAAiB,UAACC,CAAD,EAAO;AACpB,YAAIA,CAAC,CAACC,gBAAN,EAAwB;AACpBxB,UAAAA,UAAU,CAACuB,CAAC,CAACE,MAAH,EAAWF,CAAC,CAACG,KAAb,CAAV;AACH;AACJ,OAJD;AAKH;;AAEDxB,IAAAA,GAAG,CAACyB,OAAJ,GAAc,YAAM;AAChB,UAAI1B,UAAJ,EAAgB;AAAEA,QAAAA,UAAU,CAAC,IAAIoB,KAAJ,MAAajB,OAAb,GAAuBF,GAAG,CAACiB,MAA3B,aAAD,CAAV;AAA0D;AAC/E,KAFD;;AAIAjB,IAAAA,GAAG,CAAC0B,SAAJ,GAAgB,YAAM;AAClB,UAAI3B,UAAJ,EAAgB;AAAEA,QAAAA,UAAU,CAAC,IAAIoB,KAAJ,MAAajB,OAAb,GAAuBF,GAAG,CAACiB,MAA3B,gBAAD,CAAV;AAA6D;AAClF,KAFD;;AAIAjB,IAAAA,GAAG,CAAC2B,OAAJ,GAAc,YAAM;AAChB,UAAI5B,UAAJ,EAAgB;AAAEA,QAAAA,UAAU,CAAC,IAAIoB,KAAJ,MAAajB,OAAb,GAAuBF,GAAG,CAACiB,MAA3B,aAAD,CAAV;AAA0D;AAC/E,KAFD;;AAIAjB,IAAAA,GAAG,CAAC4B,IAAJ,CAAS,IAAT;AAEA,WAAO5B,GAAP;AACH;;qBAnDuBL,Y"}