{"version":3,"sources":["../../../../../../../../cocos/core/game.ts"],"names":["EDITOR","JSB","PREVIEW","RUNTIME_BASED","system","EventTarget","debug","inputManager","DeviceInfo","sys","macro","legacyCC","VERSION","bindingMappingInfo","RenderPipeline","BrowserType","Game","frame","container","canvas","renderType","eventTargetOn","on","eventTargetOnce","once","config","onStart","collisionMatrix","groupList","_persistRootNodes","_paused","_configLoaded","_isCloning","_inited","_engineInited","_rendererInitialized","_gfxDevice","_intervalId","setFrameRate","frameRate","parseInt","Number","isNaN","_setAnimFrame","_runMainLoop","getFrameRate","step","director","mainLoop","pause","window","cAF","resume","isPaused","restart","afterDrawPromise","Promise","resolve","Director","EVENT_AFTER_DRAW","then","id","removePersistRootNode","getScene","destroy","Object","_deferredDestroy","reset","_setRenderPipelineNShowSplash","_safeEmit","EVENT_RESTART","end","close","type","callback","target","EVENT_ENGINE_INITED","EVENT_GAME_INITED","EVENT_RENDERER_INITED","call","init","_initConfig","assetOptions","assetManager","_initEngine","_initEvents","root","dataPoolManager","jointTexturePool","registerCustomTextureLayouts","customJointTextureLayouts","run","configOrCallback","initPromise","game","registerSystemEvent","addPersistRootNode","node","Node","isNode","uuid","warnID","scene","_scene","isValid","parent","Scene","_originalSceneId","_persistNode","_releaseManager","_addPersistNodeRef","_removePersistNodeRef","isPersistRootNode","_initDevice","_init","log","emit","internal","dynamicAtlasManager","enabled","CLEANUP_IMAGE_CACHE","_lastTime","performance","now","_frameTime","jsb","setPreferredFramesPerSecond","rAF","requestAnimationFrame","cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","_stTimeWithRAF","_stTime","_ctTime","cancelRequestAnimationFrame","msCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","webkitCancelRequestAnimationFrame","msCancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","ocancelAnimationFrame","currTime","elapseTime","Math","max","timeToCall","setTimeout","clearTimeout","GAME_VIEW","setDisplayStats","showFPS","startAnimation","skip","time","debugMode","DebugMode","NONE","exposeClassName","renderMode","_resetDebugSetting","_determineRenderType","userRenderMode","RENDER_TYPE_CANVAS","supportRender","capabilities","opengl","RENDER_TYPE_WEBGL","Error","getError","adapter","ctors","gfx","deviceInstance","useWebGL2","WebGL2RenderingContext","userAgent","navigator","toLowerCase","indexOf","browserType","UC","WebGL2Device","push","WebGLDevice","opts","ENABLE_WEBGL_ANTIALIAS","devicePixelRatio","windowPixelResolution","width","height","i","length","initialize","error","oncontextmenu","onShow","_onShow","bind","onHide","_onHide","EVENT_HIDE","EVENT_SHOW","_setupRenderPipeline","_showSplashScreen","renderPipeline","_setRenderPipeline","reject","loadAny","err","asset","reason","warn","SplashScreen","splashScreen","instance","main","setOnFinish","loadFinish","rppl","setRenderPipeline","event","e","EVENT_LOW_MEMORY","RENDER_TYPE_OPENGL"],"mappings":"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"}