{"version":3,"sources":["../../../../../../../../cocos/spine/skeleton-cache.ts"],"names":["TrackEntryListeners","spine","MaxCacheTime","FrameTime","_vertices","_indices","_boneInfoOffset","_indexOffset","_vfOffset","_preTexUrl","_preBlendMode","_segVCount","_segICount","_segOffset","_colorOffset","_preFinalColor","_preDarkColor","PerVertexSize","PerClipVertexSize","ExportVertexSize","_vfCount","_indexCount","_finalColor","Color","_darkColor","_quadTriangles","AnimationCache","frames","totalTime","isCompleted","_privateMode","_inited","_invalid","_enableCacheAttachedInfo","_frameIdx","_skeletonInfo","_animationName","_tempSegments","_tempColors","_tempBoneInfos","init","skeletonInfo","animationName","clear","i","n","length","frame","segments","invalidAllFrame","bind","listener","completeHandle","entry","animation","name","complete","unbind","begin","preAnimationCache","curAnimationCache","updateToFrame","skeleton","state","data","findAnimation","setAnimationWith","end","needToUpdate","toFrameIdx","clipper","update","apply","updateWorldTransform","updateFrame","isInited","isInvalid","updateAllFrame","enableCacheAttachedInfo","fillVertices","skeletonColor","attachmentColor","slotColor","slot","_tempa","a","_tempr","r","_tempg","g","_tempb","b","darkColor","set","_finalColor32","_darkColor32","colors","vfOffset","fr","fg","fb","fa","dr","dg","db","da","isClipping","v","clipTriangles","clippedVertices","clippedTriangles","ii","jj","nn","offset","index","boneInfos","vertices","uintVert","indices","traverseSkeleton","preSegOffset","preSegInfo","indexCount","vfCount","vertexCount","copyOutVerticeSize","Float32Array","j","_setVerticeColor","Uint16Array","undefined","color","attachment","uvs","triangles","isRegion","isMesh","isClip","texture","blendMode","bones","l","bone","boneInfo","c","d","worldX","worldY","slotIdx","slotCount","drawOrder","getAttachment","clipEndWithSlot","RegionAttachment","MeshAttachment","ClippingAttachment","clipStart","region","getRealTexture","nativeUrl","tex","computeWorldVertices","meshAttachment","worldVerticesLength","u","clipEnd","colorI32","buffer","SkeletonCache","_skeletonCache","_animationPool","enablePrivateMode","removeSkeleton","uuid","animationsCache","aniKey","animationCache","getSkeletonCache","skeletonData","Skeleton","SkeletonClipping","stateData","AnimationStateData","AnimationState","addListener","getAnimationCache","invalidAnimationCache","initAnimationCache","poolKey","updateAnimationCache","sharedCache"],"mappings":"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"}