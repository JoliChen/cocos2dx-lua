{"version":3,"sources":["../../../../../../../../../../cocos/core/gfx/webgl/webgl-input-assembler.ts"],"names":["InputAssembler","WebGLCmdFuncCreateInputAssember","WebGLCmdFuncDestroyInputAssembler","WebGLInputAssembler","_gpuInputAssembler","initialize","info","vertexBuffers","length","console","error","_attributes","attributes","_attributesHash","computeAttributesHash","_vertexBuffers","indexBuffer","_indexBuffer","_indexCount","size","stride","_firstIndex","vertBuff","_vertexCount","_firstVertex","_vertexOffset","_instanceCount","_firstInstance","_indirectBuffer","indirectBuffer","gpuVertexBuffers","Array","i","vb","gpuBuffer","gpuIndexBuffer","glIndexType","gpuIndirectBuffer","glAttribs","glVAOs","Map","_device","destroy","webglDev","useVAO"],"mappings":"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"}