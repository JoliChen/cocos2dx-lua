{"version":3,"sources":["../../../../../../../../../cocos/core/animation/animation-state.ts"],"names":["makeSamplerSharedGroup","sampler","curves","samplerResultCache","from","fromRatio","to","toRatio","isTargetingTRS","path","prs","length","i","HierarchyPath","wrapIterations","iterations","EDITOR","Node","createBoundTarget","createBufferedTarget","Playable","WrapMode","WrapModeMask","WrappedInfo","evaluatePath","legacyCC","ccenum","assertIsNonNullable","assertIsTrue","debug","EventType","ICurveInstance","runtimeCurve","target","boundTarget","commonTargetIndex","_curve","_boundTarget","_curveDetail","curve","_shouldLerp","hasLerp","applySample","ratio","index","inBetween","weight","value","valueAt","valueBetween","_setValue","setValue","InvalidIndex","AnimationState","clip","name","duration","speed","time","frameRate","_targetNode","_curveLoaded","_clip","_useSimpleProcess","_samplerSharedGroups","_target","_ignoreIndex","_commonTargetStatuses","_wrapMode","Normal","_repeatCount","_delay","_delayTime","_currentFramePlayed","_lastIterations","NaN","_lastWrapInfo","_lastWrapInfoEvent","_wrappedInfo","_blendStateBuffer","_blendStateWriters","_allowLastFrame","_blendStateWriterHost","_playbackDuration","_invDuration","_weight","_clipHasEvent","_name","_playbackRange","min","max","initialize","root","propertyCurves","_destroyBlendStateWriters","director","getAnimationManager","blendState","wrapMode","sample","hasEvents","Loop","repeatCount","Infinity","createBoundTargetOptimized","rootTarget","valueAdapter","isConstant","enableTrsBlending","targetNode","slice","propertyName","blendStateWriter","createWriter","push","commonTargets","map","commonTarget","modifiers","changed","getPropertyCurves","iPropertyCurve","propertyCurve","empty","samplerSharedGroup","find","commonTargetStatus","peek","constant","curveInstance","destroy","emit","args","pushDelayEvent","_emit","on","type","callback","isValid","once","off","allowLastFrameEvent","allowed","_setEventTarget","setTime","GAME_VIEW","info","getWrappedInfo","direction","frameIndex","getEventGroupIndexAtRatio","update","delta","_process","_sampleCurves","_sampleEvents","onPlay","_onReplayOrResume","PLAY","onStop","isPaused","_onPauseOrStop","STOP","onResume","RESUME","onPause","PAUSE","commonTargetStatuses","iCommonTarget","pull","samplerSharedGroups","forEach","lerpRequired","ratios","iCurveInstance","szCurves","simpleProcess","process","lastInfo","LASTFRAME","set","stopped","stop","FINISHED","playbackStart","playbackDuration","Number","isNaN","cache","frames","_needReverse","currentIterations","needReverse","PingPong","isEnd","isOddIteration","Reverse","_getPlaybackStart","playbackEnd","_getPlaybackEnd","tempRatio","tempTime","shouldWrap","ShouldWrap","wrapInfo","eventGroups","eventIndex","_fireEvent","lastWrappedInfo","lastIterations","lastIndex","lastDirection","iterationsChanged","state","eventGroup","components","events","event","functionName","component","fx","apply","parameters","addAnimation","removeAnimation","iBlendStateWriter","destroyWriter","reverse","Math","current"],"mappings":"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"}