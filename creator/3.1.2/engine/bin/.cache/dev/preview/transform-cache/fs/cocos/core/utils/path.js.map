{"version":3,"sources":["../../../../../../../../../cocos/core/utils/path.ts"],"names":["join","result","segments","segment","replace","extname","path","temp","EXTNAME_RE","exec","mainFileName","fileName","idx","lastIndexOf","substring","basename","extName","index","indexOf","reg","baseName","length","toLowerCase","dirname","DIRNAME_RE","changeExtname","tempStr","changeBasename","isSameExt","ext","_normalize","url","oldUrl","String","NORMALIZE_RE","stripSep","getSeperator","system","os","OS","WINDOWS"],"mappings":"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"}