{"version":3,"sources":["../../../../../../../../../../cocos/core/platform/event-manager/system-event.ts"],"names":["EDITOR","EventTarget","SystemEventType","EventListener","eventManager","inputManager","legacyCC","logID","warnID","keyboardListener","accelerationListener","touchListener","mouseListener","SystemEvent","setAccelerometerEnabled","isEnabled","window","DeviceMotionEvent","requestPermission","then","response","error","message","setAccelerometerInterval","interval","on","type","callback","target","once","GAME_VIEW","KEY_DOWN","KEY_UP","create","event","KEYBOARD","onKeyPressed","keyCode","systemEvent","emit","onKeyReleased","addListener","DEVICEMOTION","ACCELERATION","acc","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","TOUCH_ONE_BY_ONE","onTouchBegan","touch","onTouchMoved","onTouchEnded","onTouchCancelled","MOUSE_DOWN","MOUSE_MOVE","MOUSE_UP","MOUSE_WHEEL","MOUSE","onMouseDown","onMouseMove","onMouseUp","onMouseScroll","off","hasKeyDownEventListener","hasEventListener","hasKeyUpEventListener","removeListener","hasTouchStart","hasTouchMove","hasTouchEnd","hasTouchCancel","hasMouseDown","hasMouseMove","hasMouseUp","hasMouseWheel","EventType"],"mappings":"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"}