{"version":3,"sources":["../../../../../../../../../../cocos/core/gfx/webgl2/webgl2-descriptor-set.ts"],"names":["DescriptorSet","DESCRIPTOR_BUFFER_TYPE","DESCRIPTOR_SAMPLER_TYPE","WebGL2DescriptorSet","_gpuDescriptorSet","initialize","info","_layout","layout","gpuDescriptorSetLayout","bindings","descriptorIndices","descriptorCount","_buffers","Array","fill","_textures","_samplers","gpuDescriptors","i","length","binding","j","count","push","type","descriptorType","gpuBuffer","gpuTexture","gpuSampler","destroy","update","_isDirty","descriptors"],"mappings":"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"}