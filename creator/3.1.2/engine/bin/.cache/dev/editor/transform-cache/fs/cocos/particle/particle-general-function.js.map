{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/particle/particle-general-function.ts"],"names":["particleEmitZAxis","Vec3","calculateTransform","systemSpace","moduleSpace","worldTransform","outQuat","Space","World","Mat4","getRotation","invert","Quat","set","fixedAngleUnitVector2","out","theta","Vec2","Math","cos","sin","randomUnitVector2","a","PI","x","y","randomUnitVector","z","r","sqrt","randomPointInUnitSphere","multiplyScalar","randomPointBetweenSphere","minRadius","maxRadius","randomPointInUnitCircle","randomPointBetweenCircle","randomPointBetweenCircleAtFixedAngle","randomPointInCube","extents","randomPointBetweenCube","minBox","maxBox","subscript","edge","i","randomSortArray","arr","length","transpose","val","randomSign","sgn"],"mappings":"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"}