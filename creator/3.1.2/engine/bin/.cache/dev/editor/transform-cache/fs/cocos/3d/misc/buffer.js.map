{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/3d/misc/buffer.ts"],"names":["_typeMap","FormatType","UNORM","SNORM","UINT","INT","UFLOAT","FLOAT","default","_getDataViewType","info","type","bytes","size","count","writeBuffer","target","data","format","Format","R32F","offset","stride","FormatInfos","writer","componentBytesLength","nSeg","Math","floor","length","isLittleEndian","sys","iSeg","x","iComponent","y","readBuffer","byteLength","out","reader","mapBuffer","callback","DataView","buffer","slice","byteOffset","cur"],"mappings":"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"}