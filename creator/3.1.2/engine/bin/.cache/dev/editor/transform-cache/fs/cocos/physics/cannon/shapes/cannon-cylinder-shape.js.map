{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/physics/cannon/shapes/cannon-cylinder-shape.ts"],"names":["CannonCylinderShape","CannonShape","collider","_collider","impl","_shape","setRadius","v","updateProperties","radius","height","CANNON","CC_CONFIG","numSegmentsCylinder","direction","node","worldScale","_index","_body","setHeight","setDirection","constructor","EAxisDirection","Y_AXIS","Cylinder","onLoad","setScale","scale","numSegments","wh","wr","cos","Math","sin","abs","max","y","x","z","N","hH","vertices","indices","axes","theta","PI","bf","tf","i","push","Vec3","temp","length","faces","uniqueAxes","worldVerticesNeedsUpdate","worldFaceNormalsNeedsUpdate","computeNormals","computeEdges","updateBoundingSphereRadius"],"mappings":"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"}