{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/ui/editbox/edit-box-impl.ts"],"names":["SCROLLY","LEFT_PADDING","DELAY_TIME","_matrix","Mat4","_matrix_temp","_vec3","Vec3","_currentEditBoxImpl","_domCount","EditBoxImpl","EditBoxImplBase","_delegate","_inputMode","_inputFlag","_returnType","__eventListeners","__fullscreen","__autoResize","__orientationChanged","_edTxt","_isTextArea","_textLabelFont","_textLabelFontSize","_textLabelFontColor","_textLabelAlign","_placeholderLabelFont","_placeholderLabelFontSize","_placeholderLabelFontColor","_placeholderLabelAlign","_placeholderLineHeight","_placeholderStyleSheet","_domId","init","delegate","inputMode","InputMode","ANY","_createTextArea","_createInput","tabIndexUtil","add","setTabIndex","tabIndex","_initStyleSheet","_registerEventListeners","_addDomToGameContainer","view","isAutoFullScreenEnabled","_resizeWithBrowserSize","clear","_removeEventListeners","_removeDomFromGameContainer","remove","update","_updateMatrix","index","resort","setSize","width","height","elem","style","beginEditing","setFocus","_editing","_editBoxEditingDidBegan","_showDom","focus","endEditing","blur","document","createElement","legacyCC","GAME_VIEW","gameView","container","appendChild","head","game","hasElem","removeChild","hasStyleSheet","_updateMaxLength","_updateInputType","_updateStyleSheet","display","_hideLabels","sys","isMobile","_showDomOnMobile","_hideDom","_showLabels","_hideDomOnMobile","system","os","OS","ANDROID","enableAutoFullScreen","screen","exitFullScreen","resizeWithBrowserSize","_adjustWindowScroll","setTimeout","_scrollBackWindow","window","scrollY","scrollIntoView","block","inline","behavior","browserType","BrowserType","WECHAT","IOS","top","scrollTo","node","scaleX","getScaleX","scaleY","getScaleY","widthRatio","heightRatio","canvas","viewport","getViewportRect","dpr","getDevicePixelRatio","getWorldMatrix","transform","_uiProps","uiTransformComp","set","anchorX","anchorY","z","camera","director","root","batcher2D","getFirstRenderCamera","getWorldRT","m12","m13","center","visibleRect","x","m00","m04","y","m01","m05","multiply","a","b","c","d","offsetX","parseInt","paddingLeft","offsetY","paddingBottom","tx","ty","matrix","inputFlag","returnType","InputFlag","INITIAL_CAPS_ALL_CHARACTERS","INITIAL_CAPS_WORD","textTransform","PASSWORD","type","EMAIL_ADDR","NUMERIC","DECIMAL","PHONE_NUMBER","pattern","URL","KeyboardReturnType","SEARCH","maxLength","color","border","background","outline","padding","position","bottom","left","className","fontFamily","id","resize","overflowY","value","string","placeholder","_updateTextLabel","textLabel","_updatePlaceholderLabel","placeholderLabel","font","BitmapFont","_fontFamily","fontSize","scale","fontColor","horizontalAlign","toCSS","Label","HorizontalAlign","LEFT","textAlign","CENTER","RIGHT","styleEl","lineHeight","innerHTML","EDGE","inputLock","cbs","compositionStart","compositionEnd","_editBoxTextChanged","onInput","slice","onClick","onKeydown","e","keyCode","macro","KEY","enter","propagationStopped","_editBoxEditingReturn","tab","preventDefault","next","onBlur","_editBoxEditingDidEnded","addEventListener","removeEventListener"],"mappings":"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"}