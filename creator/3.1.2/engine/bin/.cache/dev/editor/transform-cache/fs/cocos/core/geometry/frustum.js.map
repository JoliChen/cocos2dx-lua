{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/geometry/frustum.ts"],"names":["_v","Array","Vec3","Frustum","accurate","b","_type","enums","SHAPE_FRUSTUM_ACCURATE","SHAPE_FRUSTUM","create","clone","f","copy","out","i","Plane","planes","vertices","type","constructor","update","m","inv","set","n","m03","m00","m07","m04","m11","m08","d","m15","m12","m01","m05","m09","m13","m02","m06","m10","m14","pl","invDist","length","multiplyScalar","transformMat4","transform","mat","fromPoints","createOrtho","_temp_v3","width","height","near","far","halfWidth","halfHeight","recordFrustumToSharedMemory","handle","frstm","NULL_HANDLE","vertexOffset","FrustumView","VERTICES","FrustumPool","setVec3","planeOffset","PLANES","setVec4"],"mappings":"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"}