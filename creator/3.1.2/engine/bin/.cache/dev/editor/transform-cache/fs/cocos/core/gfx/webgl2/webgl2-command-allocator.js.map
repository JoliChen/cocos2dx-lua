{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/gfx/webgl2/webgl2-command-allocator.ts"],"names":["WebGL2CommandPool","constructor","Clazz","count","_frees","_freeIdx","_freeCmds","Array","CachedArray","i","alloc","size","length","temp","increase","j","cmd","refCount","free","push","freeCmds","cmds","array","release","clear","WebGL2CommandAllocator","beginRenderPassCmdPool","bindStatesCmdPool","drawCmdPool","updateBufferCmdPool","copyBufferToTextureCmdPool","WebGL2CmdBeginRenderPass","WebGL2CmdBindStates","WebGL2CmdDraw","WebGL2CmdUpdateBuffer","WebGL2CmdCopyBufferToTexture","clearCmds","cmdPackage","beginRenderPassCmds","bindStatesCmds","drawCmds","updateBufferCmds","copyBufferToTextureCmds","releaseCmds"],"mappings":"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"}