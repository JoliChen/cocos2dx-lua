{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/2d/framework/ui-transform.ts"],"names":["_vec2a","Vec2","_vec2b","_mat4_temp","Mat4","_matrix","_worldMatrix","_zeroMatrix","_rect","Rect","UITransform","disallowMultiple","executeInEditMode","Component","_priority","contentSize","_contentSize","value","equals","clone","EDITOR","Size","set","node","emit","SystemEventType","SIZE_CHANGED","_markRenderDataDirty","width","height","anchorPoint","_anchorPoint","ANCHOR_CHANGED","anchorX","x","anchorY","y","priority","getComponent","parent","insertChangeMap","visibility","camera","director","root","batcher2D","getFirstRenderCamera","cameraPriority","__preload","_uiProps","uiTransformComp","onLoad","onEnable","on","PARENT_CHANGED","_parentChanged","onDisable","off","onDestroy","setContentSize","size","locContentSize","undefined","setAnchorPoint","point","locAnchorPoint","isHit","listener","w","h","cameraPt","testPt","cameras","_getRenderScene","i","length","layer","getWorldRT","m12","m13","center","legacyCC","visibleRect","m00","m04","m01","m05","invert","transformMat4","getWorldMatrix","strictEquals","hit","mask","j","temp","index","comp","_enabled","convertToNodeSpaceAR","worldPoint","out","Vec3","convertToWorldSpaceAR","nodePoint","getBoundingBox","fromRTS","getRotation","getPosition","getScale","rect","getBoundingBoxToWorld","getBoundingBoxTo","parentMat","multiply","children","locChildren","child","active","uiTransform","childRect","union","getComputeAABB","worldMatrix","px","py","pz","worldPosition","z","l","AABB","uiComp","markForUpdateRenderData","key","uuid","priorityChangeNodeMap","has","_sortChildrenSibling","siblings","sort","a","b","aComp","bComp","ca","cb","diff","getSiblingIndex","_sortSiblings","forEach","ID","_updateSiblingIndex","clear","_cleanChangeMap","EventType","Map","serializable","Director","EVENT_AFTER_UPDATE","EVENT_BEFORE_SCENE_LAUNCH"],"mappings":"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"}