{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/asset-manager/fetch.ts"],"names":["fetch","task","done","firstTask","progress","finish","total","input","length","canInvoke","options","depends","exclude","__exclude__","Object","create","output","item","cb","isNative","assets","has","uuid","asset","get","content","addRef","push","dispatch","packManager","load","err","data","isFinish","legacyCC","assetManager","force","message","stack","file","config","subTask","Task","onProgress","onError","prototype","recycle","onComplete","decreaseRef","fetchPipeline","async","i","l","decRef"],"mappings":"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"}