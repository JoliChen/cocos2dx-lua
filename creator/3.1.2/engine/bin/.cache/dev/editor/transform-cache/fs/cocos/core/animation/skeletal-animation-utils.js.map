{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/animation/skeletal-animation-utils.ts"],"names":["stack","pool","Map","getWorldMatrix","transform","stamp","i","res","Mat4","IDENTITY","node","hasChangedFlags","world","parent","fromRTS","local","rotation","position","scale","multiply","getTransform","root","joint","id","uuid","has","get","set","child","deleteTransform","delete"],"mappings":"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"}