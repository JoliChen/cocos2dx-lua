{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/scene-graph/node-event-processor.ts"],"names":["_cachedArray","Array","_currentHovered","pos","Vec2","_touchEvents","SystemEventType","TOUCH_START","toString","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","_mouseEvents","MOUSE_DOWN","MOUSE_ENTER","MOUSE_MOVE","MOUSE_LEAVE","MOUSE_UP","MOUSE_WHEEL","_touchStartHandler","touch","event","node","owner","_uiProps","uiTransformComp","getUILocation","isHit","type","bubbles","dispatchEvent","_touchMoveHandler","_touchEndHandler","_touchCancelHandler","_mouseDownHandler","_mouseMoveHandler","hit","_previousIn","eventProcessor","mouseListener","propagationStopped","_mouseUpHandler","_mouseWheelHandler","_doDispatchEvent","target","i","length","getCapturingTargets","eventPhase","capturingTargets","currentTarget","emit","propagationImmediateStopped","bubblingTargets","getBubblingTargets","_searchComponentsInParent","ctor","index","list","curr","Node","isNode","parent","comp","getComponent","next","push","_checkListeners","events","_persistNode","hasEventListener","NodeEventProcessor","_node","constructor","touchListener","reattach","currMask","walk","_comp","mask","destroy","eventManager","removeListeners","clear","on","callback","useCapture","forDispatch","_checknSetupSysEvent","_onDispatch","CallbacksInvoker","once","listeners","off","undefined","touchEvent","indexOf","mouseEvent","_offDispatch","removeListener","arg0","arg1","arg2","arg3","arg4","has","targetOff","removeAll","targets","newAdded","legacyCC","EventListener","create","TOUCH_ONE_BY_ONE","swallowTouches","onTouchBegan","onTouchMoved","onTouchEnded","onTouchCancelled","addListener","MOUSE","onMouseDown","onMouseMove","onMouseUp","onMouseScroll","activeInHierarchy","director","getScheduler","schedule","pauseTarget"],"mappings":"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"}