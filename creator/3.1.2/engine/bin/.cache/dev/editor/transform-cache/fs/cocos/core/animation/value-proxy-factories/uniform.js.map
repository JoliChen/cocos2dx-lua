{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/animation/value-proxy-factories/uniform.ts"],"names":["UniformProxyFactory","constructor","uniformName","passIndex","forTarget","target","pass","passes","handle","getHandle","Error","name","propertyType","Pass","getPropertyTypeFromHandle","PropertyType","BUFFER","realHandle","channelIndex","undefined","Type","FLOAT","isUniformArray","set","value","setUniformArray","setUniform","TEXTURE","binding","getBindingFromHandle","prop","properties","texName","type","dftTex","builtinResMgr","get","texture","getGFXTexture","width","height","bindTexture","TextureBase","bindSampler","samplerLib","getSampler","legacyCC","game","_gfxDevice","getSamplerHash","serializable","float","block","shaderInfo","blocks","uniform","members","count"],"mappings":"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"}