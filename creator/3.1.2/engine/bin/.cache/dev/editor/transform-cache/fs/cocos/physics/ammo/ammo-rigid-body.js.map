{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/physics/ammo/ammo-rigid-body.ts"],"names":["v3_0","CC_V3_0","v3_1","CC_V3_1","AmmoRigidBody","isAwake","state","impl","getActivationState","AmmoCollisionObjectStates","ACTIVE_TAG","DISABLE_DEACTIVATION","isSleepy","WANTS_DEACTIVATION","isSleeping","ISLAND_SLEEPING","setMass","value","_rigidBody","isDynamic","localInertia","_sharedBody","bodyStruct","setValue","shape","getCollisionShape","isCompound","bodyCompoundShape","getNumChildShapes","calculateLocalInertia","mass","setMassProps","_wakeUpIfSleep","dirty","EAmmoSharedBodyDirty","BODY_RE_ADD","setType","v","setLinearDamping","setDamping","linearDamping","angularDamping","setAngularDamping","useGravity","m_rigidBodyFlag","getFlags","AmmoRigidBodyFlags","BT_DISABLE_WORLD_GRAVITY","setGravity","AmmoConstant","instance","VECTOR3_0","Vec3","ZERO","setFlags","setLinearFactor","setAngularFactor","setAllowSleep","forceActivationState","isEnabled","_isEnabled","body","rigidBody","sharedBody","constructor","id","idCounter","clearState","clearVelocity","setLinearVelocity","setAngularVelocity","clearForces","initialize","com","PhysicsSystem","physicsWorld","getSharedBody","node","reference","onEnable","allowSleep","linearFactor","angularFactor","bodyEnabled","onDisable","onDestroy","wakeUp","force","activate","sleep","wantsSleeping","setSleepThreshold","setSleepingThresholds","getSleepThreshold","getLinearSleepingThreshold","getLinearVelocity","out","getAngularVelocity","applyLocalForce","rel_pos","syncSceneToPhysics","quat","worldRotation","transformQuat","rp","applyForce","VECTOR3_1","applyLocalTorque","torque","applyTorque","applyLocalImpulse","impulse","applyImpulse","getGroup","collisionFilterGroup","setGroup","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask"],"mappings":"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"}