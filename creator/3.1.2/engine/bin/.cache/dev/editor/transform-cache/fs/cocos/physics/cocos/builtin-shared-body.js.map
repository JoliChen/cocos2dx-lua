{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/physics/cocos/builtin-shared-body.ts"],"names":["m4_0","Mat4","v3_0","Vec3","v3_1","quat_0","Quat","BuiltinSharedBody","BuiltinObject","getSharedBody","node","wrappedWorld","wrappedBody","key","uuid","newSB","sharedBodesMap","has","get","g","PhysicsGroup","DEFAULT","m","PhysicsSystem","instance","collisionMatrix","collisionFilterGroup","collisionFilterMask","set","rigidBody","_group","id","_id","enabled","v","index","world","bodies","length","addSharedBody","syncInitial","isRemove","shapes","removeSharedBody","reference","ref","destroy","constructor","idCounter","intersects","body","i","shapeA","j","shapeB","collider","needTriggerEvent","intersect","resolve","worldShape","shapeArr","push","addShape","shape","indexOf","removeShape","syncSceneToPhysics","hasChangedFlags","getWorldMatrix","worldPosition","worldRotation","worldScale","transform","delete","Map"],"mappings":"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"}