{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/platform/event-manager/event-manager.ts"],"names":["ListenerID","EventListener","checkUINode","node","getComponent","_EventListenerVector","gt0Index","_fixedListeners","_sceneGraphListeners","size","length","empty","push","listener","_getFixedPriority","clearSceneGraphListeners","clearFixedListeners","clear","getFixedPriorityListeners","getSceneGraphPriorityListeners","__getListenerID","event","eventType","Event","type","ACCELERATION","KEYBOARD","startsWith","MOUSE","TOUCH","DIRTY_NONE","DIRTY_FIXED_PRIORITY","DIRTY_SCENE_GRAPH_PRIORITY","DIRTY_ALL","EventManager","_listenersMap","_priorityDirtyFlagMap","_nodeListenersMap","_toAddedListeners","_toRemovedListeners","_dirtyListeners","_inDispatch","_isEnabled","_internalCustomListenerIDs","_currentTouch","_currentTouchListener","pauseTarget","recursive","legacyCC","_BaseNode","listeners","uuid","i","_setPaused","locChildren","children","locChild","resumeTarget","_setDirtyForNode","frameUpdateListeners","locListenersMap","locPriorityDirtyFlagMap","selKey","locToAddedListeners","len","_forceAddEventListener","_cleanToRemovedListeners","hasEventListener","listenerID","_getListeners","addListener","nodeOrPriority","js","isNumber","create","_isRegistered","checkAvailable","_setSceneGraphPriority","_setFixedPriority","_setRegistered","_addListener","addCustomListener","eventName","callback","CUSTOM","removeListener","isFound","locListener","fixedPriorityListeners","sceneGraphPriorityListeners","_removeListenerInVector","_setDirty","_getListenerID","selListener","array","removeAt","removeListeners","listenerType","_id","undefined","listenersCopy","copy","listenerCopy","_getSceneGraphPriority","splice","getChildren","TOUCH_ONE_BY_ONE","_removeListenersForListenerID","TOUCH_ALL_AT_ONCE","removeCustomListeners","customEventName","removeAllListeners","locListeners","locInternalCustomEventIDs","indexOf","setPriority","fixedPriority","selListeners","found","setEnabled","enabled","isEnabled","dispatchEvent","_updateDirtyFlagForSceneGraph","getType","_dispatchTouchEvent","_sortEventListeners","_dispatchEventToListeners","_onListenerCallback","_onUpdateListeners","currentTarget","_target","onEvent","isStopped","dispatchCustomEvent","optionalUserData","ev","EventCustom","setUserData","j","_children","_associateNodeAndEventListener","activeInHierarchy","locDirtyListeners","_removeAllListenersInVector","listenerVector","_dissociateNodeAndEventListener","dirtyFlag","locFlagMap","_sortListenersOfFixedPriority","rootEntity","director","getScene","_sortListenersOfSceneGraphPriority","sceneGraphListener","eventListeners","forEach","trans","_uiProps","uiTransformComp","_cameraPriority","cameraPriority","sort","_sortEventListenersOfSceneGraphPriorityDes","l1","l2","node1","node2","_activeInHierarchy","p1","p2","ex","parent","priority1","getSiblingIndex","priority2","fixedListeners","_sortListenersOfFixedPriorityAsc","index","toRemovedListeners","idx","_updateTouchListeners","locInDispatch","_onTouchEventCallback","argsObj","selTouch","touch","isClaimed","removedIdx","eventCode","getEventCode","SystemEventType","TOUCH_START","macro","ENABLE_MULTI_TOUCH","eventManager","_node","onTouchBegan","_isPaused","_claimedTouches","TOUCH_MOVE","onTouchMoved","TOUCH_END","onTouchEnded","TOUCH_CANCEL","onTouchCancelled","swallowTouches","needsMutableSet","touches","oneByOneListeners","allAtOnceListeners","originalTouches","getTouches","mutableTouches","oneByOneArgsObj","originalTouch","propagationStopped","propagationImmediateStopped","_onTouchesEventCallback","callbackParams","onTouchesBegan","onTouchesMoved","onTouchesEnded","onTouchesCancelled","remove","eventOrArgs","shouldStopPropagation","flag","locDirtyFlagMap","_sortNumberAsc","a","b","_removeListenerInCallback","_onCustomEvent"],"mappings":"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"}