{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/gfx/webgl2/webgl2-buffer.ts"],"names":["WebGL2Buffer","Buffer","_gpuBuffer","gpuBuffer","initialize","info","_isBufferView","buffer","_usage","usage","_memUsage","memUsage","_size","_stride","range","_count","_flags","flags","size","stride","indirects","glTarget","glBuffer","glOffset","offset","Math","max","BufferUsageBit","INDIRECT","_indirectBuffer","IndirectBuffer","drawInfos","_device","memoryStatus","bufferSize","destroy","resize","console","warn","oldSize","update","buffSize","undefined","byteLength"],"mappings":"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"}