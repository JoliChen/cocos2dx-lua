{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/pipeline/render-pipeline.ts"],"names":["RenderPipeline","RenderFlow","Asset","_commandBuffers","_pipelineUBO","PipelineUBO","_pipelineSceneData","PipelineSceneData","_macros","_constantMacros","tag","_tag","flows","_flows","constantMacros","macros","device","_device","globalDSManager","_globalDSManager","descriptorSetLayout","descriptorSet","_descriptorSet","commandBuffers","pipelineUBO","pipelineSceneData","initialize","info","generateRenderArea","camera","res","Rect","vp","viewport","sceneData","w","window","hasOnScreenAttachments","surfaceTransform","height","width","h","x","y","shadingScale","activate","legacyCC","director","root","GlobalDSManager","globalDescriptorSet","i","length","CC_USE_HDR","isHDR","_generateConstantMacros","render","cameras","j","destroy","resize","str","hasFeature","Feature","TEXTURE_FLOAT","capabilities","maxVertexUniformVectors","maxFragmentUniformVectors","serializable"],"mappings":"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"}