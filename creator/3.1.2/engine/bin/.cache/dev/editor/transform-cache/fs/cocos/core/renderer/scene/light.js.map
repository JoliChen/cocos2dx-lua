{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/renderer/scene/light.ts"],"names":["ColorTemperatureToRGB","rgb","kelvin","kSqr","u","v","d","x","y","z","X","Z","LightType","nt2lm","size","Math","PI","Light","_baked","_color","Vec3","_colorTemp","_colorTempRGB","_scene","_node","_name","_handle","NULL_HANDLE","baked","val","color","set","LightPool","setVec3","LightView","COLOR","useColorTemperature","enable","USE_COLOR_TEMPERATURE","get","colorTemperature","COLOR_TEMPERATURE_RGB","colorTemperatureRGB","node","n","hasChangedFlags","TransformBit","ROTATION","NODE","handle","type","TYPE","name","scene","initialize","alloc","UNKNOWN","attachToScene","detachFromScene","destroy","free","update"],"mappings":"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"}