{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/geometry/curve.ts"],"names":["LOOK_FORWARD","WrapMode","Default","WrapModeMask","Normal","Clamp","Loop","PingPong","Keyframe","time","value","inTangent","outTangent","CCClass","fastDefine","OptimizedKey","constructor","index","endTime","coefficient","Float32Array","evaluate","T","t","evalOptCurve","coefs","AnimationCurve","keyFrames","preWrapMode","postWrapMode","cachedKey","concat","defaultKF","addKey","keyFrame","push","evaluate_slow","wrappedTime","wrapMode","startTime","length","preKFIndex","i","keyframe0","keyframe1","dt","m0","m1","t2","t3","a","b","c","d","leftIndex","findIndex","rightIndex","Math","min","calcOptimizedKey","optKey","lhs","rhs","dx","dy","d1","d2","cachedIndex","cachedTime","currIndex","left","right","mid","floor"],"mappings":"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"}