{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/physics-2d/builtin/builtin-world.ts"],"names":["contactResults","testIntersectResults","BuiltinPhysicsWorld","_contacts","_shapes","_debugGraphics","_debugDrawFlags","debugDrawFlags","v","shouldCollide","c1","c2","collider1","collider","collider2","collisionMatrix","PhysicsSystem2D","instance","node","group","addShape","shape","shapes","index","indexOf","i","l","length","other","contact","BuiltinContact","push","removeShape","splice","contacts","shape1","shape2","touching","_emitCollide","Contact2DType","END_CONTACT","updateShapeGroup","step","deltaTime","velocityIterations","positionIterations","update","collisionType","updateState","None","result","drawDebug","_checkDebugDrawValid","debugDrawer","clear","strokeColor","Color","WHITE","BuiltinBoxShape","BuiltinPolygonShape","ps","worldPoints","moveTo","x","y","j","lineTo","close","stroke","BuiltinCircleShape","circle","worldPosition","worldRadius","EPhysics2DDrawFlags","Aabb","aabb","worldAABB","BLUE","xMin","yMin","yMax","xMax","type","emit","EDITOR","isValid","canvas","scene","director","getScene","Node","addComponent","Canvas","parent","hideFlags","CCObject","Flags","DontSave","Vec3","ZERO","Graphics","lineWidth","setSiblingIndex","children","testPoint","p","containsPoint","testAABB","rect","intersectsRect","impl","setGravity","setAllowSleep","syncPhysicsToScene","syncSceneToPhysics","raycast","p1","p2"],"mappings":"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"}