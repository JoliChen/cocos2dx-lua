{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/animation/cross-fade.ts"],"names":["CrossFade","Playable","constructor","scheduler","_managedStates","_fadings","_scheduled","_scheduler","legacyCC","director","getAnimationManager","update","deltaTime","isMotionless","managedStates","fadings","length","state","weight","_calculateWeights","_unscheduleThis","crossFade","duration","clear","target","find","weightedState","reference","play","push","unshift","easeDuration","easeTime","_scheduleThis","iManagedState","stop","onPlay","onPause","pause","onResume","resume","onStop","absoluteWeight","deadFadingBegin","iFading","fading","relativeWeight","iDeadFading","deadFading","splice","addCrossFade","removeCrossFade"],"mappings":"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"}