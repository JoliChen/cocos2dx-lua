{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/terrain/terrain-asset.ts"],"names":["TERRAIN_MAX_LEVELS","TERRAIN_MAX_BLEND_LAYERS","TERRAIN_MAX_LAYER_COUNT","TERRAIN_BLOCK_TILE_COMPLEXITY","TERRAIN_BLOCK_VERTEX_COMPLEXITY","TERRAIN_BLOCK_VERTEX_SIZE","TERRAIN_HEIGHT_BASE","TERRAIN_HEIGHT_FACTORY","TERRAIN_HEIGHT_FMIN","TERRAIN_HEIGHT_FMAX","TERRAIN_NORTH_INDEX","TERRAIN_SOUTH_INDEX","TERRAIN_WEST_INDEX","TERRAIN_EAST_INDEX","TERRAIN_DATA_VERSION","TERRAIN_DATA_VERSION2","TERRAIN_DATA_VERSION3","TERRAIN_DATA_VERSION4","TERRAIN_DATA_VERSION5","TERRAIN_DATA_VERSION_DEFAULT","TerrainBuffer","length","buffer","Uint8Array","_buffView","DataView","_seekPos","reserve","size","byteLength","capacity","temp","i","assign","buff","byteOffset","writeInt8","value","setInt8","writeInt16","setInt16","writeInt32","setInt32","writeIntArray","writeFloat","setFloat32","writeFloatArray","writeString","charCodeAt","readInt8","getInt8","readInt16","getInt16","readInt","getInt32","readIntArray","readFloat","getFloat32","readFloatArray","readString","String","fromCharCode","TerrainLayerInfo","serializable","TerrainLayerBinaryInfo","slot","tileSize","roughness","metallic","detailMapId","normalMapId","TerrainAsset","Asset","constructor","_version","_data","_tileSize","_blockCount","_weightMapSize","_lightMapSize","_heights","Uint16Array","_weights","_layerBuffer","_layerBinaryInfos","loaded","_nativeAsset","set","_loadNativeData","emit","version","blockCount","lightMapSize","weightMapSize","heights","weights","layerBuffer","layerInfos","_layerInfos","layerBinaryInfos","getLayer","xBlock","yBlock","layerId","blockId","index","getHeight","j","vertexCountX","getVertexCountI","getVertexCountJ","_setNativeData","_nativeData","stream","heightBufferSize","WeightBufferSize","layerBufferSize","Array","layerInfoSize","_exportNativeData","layer","binaryLayer","detailMap","_uuid","normalMap","_exportDefaultNativeData"],"mappings":"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"}