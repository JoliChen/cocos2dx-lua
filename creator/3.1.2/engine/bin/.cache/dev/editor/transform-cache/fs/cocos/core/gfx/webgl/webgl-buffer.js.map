{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/gfx/webgl/webgl-buffer.ts"],"names":["WebGLBuffer","Buffer","_gpuBuffer","_gpuBufferView","_uniformBuffer","gpuBuffer","gpuBufferView","initialize","info","_isBufferView","buffer","_usage","usage","_memUsage","memUsage","_size","_stride","range","_count","_flags","flags","offset","size","Math","max","stride","BufferUsageBit","INDIRECT","_indirectBuffer","IndirectBuffer","UNIFORM","Uint8Array","vf32","indirects","glTarget","glBuffer","drawInfos","_device","memoryStatus","bufferSize","destroy","resize","console","warn","oldSize","update","buffSize","undefined","byteLength"],"mappings":"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"}