{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/particle/renderer/particle-system-renderer-data.ts"],"names":["isSupportGPUParticle","device","director","root","capabilities","maxVertexTextureUnits","hasFeature","Feature","TEXTURE_FLOAT","legacyCC","warn","ParticleSystemRenderer","RenderMode","Mesh","Material","_particleSystem","renderMode","_renderMode","val","processor","updateRenderMode","velocityScale","_velocityScale","updateMaterialParams","lengthScale","_lengthScale","mesh","_mesh","setVertexAttributes","particleMaterial","getMaterial","setMaterial","trailMaterial","mainTexture","_mainTexture","useGPU","_useGPU","_switchProcessor","create","ps","onInit","ParticleSystemRendererGPU","ParticleSystemRendererCPU","detachFromScene","clear","onEnable","bindModule","serializable","Billboard"],"mappings":"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"}