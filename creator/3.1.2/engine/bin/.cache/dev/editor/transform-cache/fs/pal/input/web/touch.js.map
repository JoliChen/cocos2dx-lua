{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/pal/input/web/touch.ts"],"names":["TouchInputSource","constructor","support","_canvas","_eventTarget","EventTarget","document","documentElement","ontouchstart","undefined","navigator","msPointerEnabled","getElementById","TEST","console","warn","_registerEvent","addEventListener","_createCallback","SystemEventType","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","eventType","event","canvasRect","_getCanvasRect","touchDataList","length","changedTouches","i","touch","location","_getLocation","x","y","height","legacyCC","view","_isRotated","tmp","touchData","identifier","force","push","inputEvent","type","timestamp","performance","now","stopPropagation","target","preventDefault","focus","emit","canvas","box","getBoundingClientRect","Rect","width","Vec2","clientX","clientY","onStart","cb","on","onMove","onEnd","onCancel"],"mappings":"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"}