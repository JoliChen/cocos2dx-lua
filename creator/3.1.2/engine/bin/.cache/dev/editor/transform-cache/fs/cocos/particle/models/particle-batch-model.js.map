{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/particle/models/particle-batch-model.ts"],"names":["_uvs","ParticleBatchModel","scene","Model","constructor","_capacity","_vertAttrs","_vertSize","_vBuffer","_vertAttrsFloatCount","_vdataF32","_vdataUint32","_iaInfo","_iaInfoBuffer","_subMeshData","_mesh","_vertCount","_indexCount","_startTimeOffset","_lifeTimeOffset","_material","type","ModelType","PARTICLE_BATCH","IndirectBuffer","DrawInfo","_device","createBuffer","BufferInfo","BufferUsageBit","INDIRECT","MemoryUsageBit","HOST","DEVICE","DRAW_INFO_SIZE","setCapacity","capacity","capChanged","rebuild","setVertexAttributes","mesh","attrs","a","offset","FormatInfos","format","size","createSubMeshData","destroySubMeshData","struct","vertexBundles","primitives","vertexBundelIndices","view","count","indexView","vertexBuffer","VERTEX","TRANSFER_DST","vBuffer","ArrayBuffer","vOffset","findIndex","val","name","AttributeName","ATTR_TEX_COORD","copyAttribute","vIdx","ATTR_TEX_COORD3","ATTR_POSITION","ATTR_NORMAL","ATTR_COLOR","vb","Uint32Array","iVertex","Color","WHITE","_val","vbFloatArray","Float32Array","i","copyWithin","update","indices","Uint16Array","copyIndices","j","dst","baseIdx","indexBuffer","INDEX","BYTES_PER_ELEMENT","drawInfos","vertexCount","indexCount","RenderingSubMesh","PrimitiveMode","TRIANGLE_LIST","initSubModel","updateMaterial","mat","setSubModelMaterial","addParticleVertexData","index","pvdata","x","y","z","addGPUParticleVertexData","p","num","time","idx","position","startSize","rotation","startColor","r","g","b","velocity","startLifetime","randomSeed","updateGPUParticles","dt","pSize","pBaseIndex","startTime","lifeTime","lastBaseIndex","interval","constructAttributeIndex","updateIA","ia","_subModels","inputAssembler","vertexBuffers","firstIndex","clear","destroy"],"mappings":"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"}