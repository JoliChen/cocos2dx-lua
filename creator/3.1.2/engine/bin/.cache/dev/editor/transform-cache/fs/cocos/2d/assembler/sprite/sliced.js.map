{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/2d/assembler/sprite/sliced.ts"],"names":["vec3_temp","Vec3","matrix","Mat4","sliced","useModel","createData","sprite","renderData","requestRenderData","dataLength","vertexCount","indicesCount","updateRenderData","frame","spriteFrame","dynamicAtlasManager","packToDynamicAtlas","vertDirty","updateVertexData","updateWorldVertexData","dataList","data","uiTrans","node","_uiProps","uiTransformComp","width","height","appX","anchorX","appY","anchorY","leftWidth","insetLeft","rightWidth","insetRight","topHeight","insetTop","bottomHeight","insetBottom","sizableWidth","sizableHeight","xScale","yScale","Number","isNaN","x","y","fillBuffers","renderer","hasChangedFlags","buffer","acquireBufferBatch","vertexOffset","byteOffset","indicesOffset","vertexId","uvSliced","isRecreate","request","currBufferBatch","vBuf","vData","iBuf","iData","i","vert","uvs","z","u","v","Color","toArray","color","r","c","start","getWorldMatrix","row","rowD","col","colD","world","set","transformMat4","updateColor","datalist","colorR","colorG","g","colorB","b","colorA","opacity","a"],"mappings":"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"}