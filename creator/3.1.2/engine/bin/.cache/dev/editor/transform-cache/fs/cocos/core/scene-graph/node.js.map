{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/scene-graph/node.ts"],"names":["v3_a","Vec3","q_a","Quat","q_b","qt_1","m3_1","Mat3","m3_scaling","m4_1","Mat4","array_a","BookOfChange","constructor","_chunkHandles","_chunks","_freelists","_createChunk","alloc","chunkCount","length","i","_createView","free","view","idx","push","clear","fill","handle","RawBufferPool","CAPACITY_PER_CHUNK","Uint32Array","getBuffer","freelist","chunkIdx","chunk","offset","pop","BIT_SHIFT","bookOfChange","Node","BaseNode","name","_uiProps","NodeUIProperties","_static","_pos","_rot","_scale","_mat","_dirtyFlags","TransformBit","NONE","_hasChangedFlagsChunk","_hasChangedFlagsOffset","_eulerDirty","_poolHandle","NULL_HANDLE","NodePool","set","NodeView","LAYER","_layer","HAS_CHANGED_FLAGS","isNode","obj","legacyCC","Scene","destroy","position","_lpos","val","setPosition","worldPosition","updateWorldTransform","setWorldPosition","rotation","_lrot","setRotation","eulerAngles","setRotationFromEuler","x","y","z","toEuler","_euler","angle","fromAngleZ","invalidateChildren","ROTATION","_eventMask","TRANSFORM_ON","emit","SystemEventType","TRANSFORM_CHANGED","worldRotation","setWorldRotation","scale","_lscale","setScale","worldScale","setWorldScale","matrix","toRTS","TRS","worldMatrix","forward","transformQuat","FORWARD","dir","len","multiplyScalar","fromViewUp","layer","l","LAYER_CHANGED","hasChangedFlags","setParent","value","keepWorldTransform","_onSetParent","oldParent","parent","_parent","multiply","invert","copy","_onHierarchyChanged","eventProcessor","reattach","_onHierarchyChangedBase","_onBatchCreated","dontSyncChildPrefab","setVec3","WORLD_SCALE","prefabInstance","_prefab","instance","uiTransformDirty","_children","_siblingIndex","targetMap","mountedChildren","removedComponents","mountedComponents","propertyOverrides","_onBeforeSerialize","_onPostActivated","active","eventManager","resumeTarget","pauseTarget","translate","trans","ns","space","NodeSpace","LOCAL","WORLD","POSITION","WORLD_POSITION","rotate","rot","normalize","worldRot","setVec4","WORLD_ROTATION","lookAt","pos","up","getWorldPosition","subtract","dirtyBit","childDirtyBit","cur","isValid","children","j","child","dirtyBits","childMat","curMat","childPos","childLPos","childRot","transformMat4","m12","m13","m14","RS","fromRTS","fromQuat","conjugate","multiplyMat4","m00","m04","m08","SCALE","setMat4","WORLD_MATRIX","undefined","getPosition","out","w","zOpt","fromEuler","getRotation","getScale","inverseTransformPoint","p","transformInverseRTS","local","setWorldRotationFromEuler","getWorldRotation","m01","m02","m03","m05","m06","m07","getWorldScale","getWorldMatrix","target","getWorldRS","getWorldRT","fromRT","setRTS","pauseSystemEvents","recursive","resumeSystemEvents","resetHasChangedFlags","clearNodeArray","ClearFrame","ClearRound","syncToNativeTransform","v","syncFromNativeTransform","getVec3","getVec4","EventType","TransformDirtyBit","serializable","Layers","Enum","DEFAULT","editable"],"mappings":";;;;;;;AA8BA;;AAIA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AAGA;;AACA;;;;;;;;;;AAIA,MAAMA,IAAI,GAAG,IAAIC,YAAJ,EAAb;AACA,MAAMC,GAAG,GAAG,IAAIC,YAAJ,EAAZ;AACA,MAAMC,GAAG,GAAG,IAAID,YAAJ,EAAZ;AACA,MAAME,IAAI,GAAG,IAAIF,YAAJ,EAAb;AACA,MAAMG,IAAI,GAAG,IAAIC,YAAJ,EAAb;AACA,MAAMC,UAAU,GAAG,IAAID,YAAJ,EAAnB;AACA,MAAME,IAAI,GAAG,IAAIC,YAAJ,EAAb;AACA,MAAMC,OAAc,GAAG,EAAvB;;AAEA,MAAMC,YAAN,CAAmB;AAKf;AAIAC,EAAAA,WAAW,GAAI;AAAA,SARPC,aAQO,GAR4B,EAQ5B;AAAA,SAPPC,OAOO,GAPkB,EAOlB;AAAA,SANPC,UAMO,GANkB,EAMlB;;AACX,SAAKC,YAAL;AACH;;AAEMC,EAAAA,KAAK,GAAI;AACZ,UAAMC,UAAU,GAAG,KAAKH,UAAL,CAAgBI,MAAnC;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAApB,EAAgC,EAAEE,CAAlC,EAAqC;AACjC,UAAI,CAAC,KAAKL,UAAL,CAAgBK,CAAhB,EAAmBD,MAAxB,EAAgC;AAChC,aAAO,KAAKE,WAAL,CAAiBD,CAAjB,CAAP;AACH;;AACD,SAAKJ,YAAL;;AACA,WAAO,KAAKK,WAAL,CAAiBH,UAAjB,CAAP;AACH;;AAEMI,EAAAA,IAAI,CAAEC,IAAF,EAAqBC,GAArB,EAAkC;AACzC,UAAMN,UAAU,GAAG,KAAKH,UAAL,CAAgBI,MAAnC;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAApB,EAAgC,EAAEE,CAAlC,EAAqC;AACjC,UAAI,KAAKN,OAAL,CAAaM,CAAb,MAAoBG,IAAxB,EAA8B;;AAC9B,WAAKR,UAAL,CAAgBK,CAAhB,EAAmBK,IAAnB,CAAwBD,GAAxB;;AACA;AACH,KANwC,CAOzC;;AACH;;AAEME,EAAAA,KAAK,GAAI;AACZ,UAAMR,UAAU,GAAG,KAAKJ,OAAL,CAAaK,MAAhC;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAApB,EAAgC,EAAEE,CAAlC,EAAqC;AACjC,WAAKN,OAAL,CAAaM,CAAb,EAAgBO,IAAhB,CAAqB,CAArB;AACH;AACJ;;AAEOX,EAAAA,YAAY,GAAI;AACpB,UAAMY,MAAM,GAAGC,2BAAcZ,KAAd,CAAoBN,YAAY,CAACmB,kBAAb,GAAkC,CAAtD,CAAf;;AACA,SAAKjB,aAAL,CAAmBY,IAAnB,CAAwBG,MAAxB;;AACA,SAAKd,OAAL,CAAaW,IAAb,CAAkB,IAAIM,WAAJ,CAAgBF,2BAAcG,SAAd,CAAwBJ,MAAxB,CAAhB,CAAlB;;AACA,UAAMK,QAAkB,GAAG,EAA3B;;AACA,SAAK,IAAIb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,YAAY,CAACmB,kBAAjC,EAAqD,EAAEV,CAAvD,EAA0Da,QAAQ,CAACR,IAAT,CAAcL,CAAd;;AAC1D,SAAKL,UAAL,CAAgBU,IAAhB,CAAqBQ,QAArB;AACH;;AAEOZ,EAAAA,WAAW,CAAEa,QAAF,EAAmD;AAClE,UAAMC,KAAK,GAAG,KAAKrB,OAAL,CAAaoB,QAAb,CAAd;;AACA,UAAME,MAAM,GAAG,KAAKrB,UAAL,CAAgBmB,QAAhB,EAA0BG,GAA1B,EAAf;;AACA,QAAIT,MAAM,GAAG,KAAKf,aAAL,CAAmBqB,QAAnB,CAAb;AACAN,IAAAA,MAAM,IAAIQ,MAAM,IAAIzB,YAAY,CAAC2B,SAAjC;AACA,WAAO,CAACH,KAAD,EAAQC,MAAR,EAAgBR,MAAhB,CAAP;AACH;;AAvDc;;AAAbjB,Y,CAMamB,kB,GAAqB,G;AANlCnB,Y,CAOa2B,S,GAAY,E;AAmD/B,MAAMC,YAAY,GAAG,IAAI5B,YAAJ,EAArB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEa6B,I,WADZ,oBAAQ,SAAR,C,UA2II,iBAAKxC,YAAL,C,8CA3IL,MACawC,IADb,SAC0BC,kBAD1B,CACmC;AAC/B;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;;AAGI;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;AAII;AAKA;AAMA;AAQwC;AAExC;AAG2C;AACG;AAK9C7B,EAAAA,WAAW,CAAE8B,IAAF,EAAiB;AACxB,UAAMA,IAAN;AADwB,SA7BrBC,QA6BqB,GA7BV,IAAIC,kCAAJ,CAAqB,IAArB,CA6BU;AAAA,SA3BrBC,OA2BqB,GA3BX,KA2BW;AAAA,SAxBlBC,IAwBkB,GAxBX,IAAI9C,YAAJ,EAwBW;AAAA,SAvBlB+C,IAuBkB,GAvBX,IAAI7C,YAAJ,EAuBW;AAAA,SAtBlB8C,MAsBkB,GAtBT,IAAIhD,YAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAsBS;AAAA,SArBlBiD,IAqBkB,GArBX,IAAIxC,YAAJ,EAqBW;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,SANlByC,WAMkB,GANJC,uBAAaC,IAMT;AAAA,SALlBC,qBAKkB;AAAA,SAJlBC,sBAIkB;AAAA,SAHlBC,WAGkB,GAHJ,KAGI;AAAA,SAFlBC,WAEkB,GAFQC,wBAER;AAExB,SAAKD,WAAL,GAAmBE,sBAASzC,KAAT,EAAnB;;AACAyC,0BAASC,GAAT,CAAa,KAAKH,WAAlB,EAA+BI,sBAASC,KAAxC,EAA+C,KAAKC,MAApD;;AACA,UAAM,CAAC3B,KAAD,EAAQC,MAAR,EAAgBR,MAAhB,IAA0BW,YAAY,CAACtB,KAAb,EAAhC;AACA,SAAKoC,qBAAL,GAA6BlB,KAA7B;AACA,SAAKmB,sBAAL,GAA8BlB,MAA9B;;AACAsB,0BAASC,GAAT,CAAa,KAAKH,WAAlB,EAA+BI,sBAASG,iBAAxC,EAA2DnC,MAA3D;AACH;AAED;AACJ;AACA;AACA;;;AACwB,SAANoC,MAAM,CAAEC,GAAF,EAA6B;AAC7C,WAAOA,GAAG,YAAYzB,IAAf,KAAwByB,GAAG,CAACrD,WAAJ,KAAoB4B,IAApB,IAA4B,EAAEyB,GAAG,YAAYC,wBAASC,KAA1B,CAApD,CAAP;AACH;;AAEMC,EAAAA,OAAO,GAAI;AACd,QAAI,KAAKZ,WAAT,EAAsB;AAClBE,4BAASpC,IAAT,CAAc,KAAKkC,WAAnB;;AACA,WAAKA,WAAL,GAAmBC,wBAAnB;AACH;;AACDlB,IAAAA,YAAY,CAACjB,IAAb,CAAkB,KAAK+B,qBAAvB,EAA8C,KAAKC,sBAAnD;AACA,WAAO,MAAMc,OAAN,EAAP;AACH;;AAES,MAANxC,MAAM,GAAgB;AACtB,WAAO,KAAK4B,WAAZ;AACH;AAED;AACJ;AACA;AACA;AACI;;;AACmB,MAARa,QAAQ,GAAoB;AACnC,WAAO,KAAKC,KAAZ;AACH;;AAEkB,MAARD,QAAQ,CAAEE,GAAF,EAAuB;AACtC,SAAKC,WAAL,CAAiBD,GAAjB;AACH;AAED;AACJ;AACA;AACA;AACI;;;AACwB,MAAbE,aAAa,GAAoB;AACxC,SAAKC,oBAAL;AACA,WAAO,KAAK5B,IAAZ;AACH;;AAEuB,MAAb2B,aAAa,CAAEF,GAAF,EAAuB;AAC3C,SAAKI,gBAAL,CAAsBJ,GAAtB;AACH;AAED;AACJ;AACA;AACA;AACI;;;AACmB,MAARK,QAAQ,GAAoB;AACnC,WAAO,KAAKC,KAAZ;AACH;;AAEkB,MAARD,QAAQ,CAAEL,GAAF,EAAuB;AACtC,SAAKO,WAAL,CAAiBP,GAAjB;AACH;AAED;AACJ;AACA;AACA;;;AAEmB,MAAXQ,WAAW,CAAER,GAAF,EAAuB;AAClC,SAAKS,oBAAL,CAA0BT,GAAG,CAACU,CAA9B,EAAiCV,GAAG,CAACW,CAArC,EAAwCX,GAAG,CAACY,CAA5C;AACH;;AAEc,MAAXJ,WAAW,GAAI;AACf,QAAI,KAAKxB,WAAT,EAAsB;AAClBrD,mBAAKkF,OAAL,CAAa,KAAKC,MAAlB,EAA0B,KAAKR,KAA/B;;AACA,WAAKtB,WAAL,GAAmB,KAAnB;AACH;;AACD,WAAO,KAAK8B,MAAZ;AACH;AAED;AACJ;AACA;AACA;;;AAEa,MAALC,KAAK,GAAI;AACT,WAAO,KAAKD,MAAL,CAAYF,CAAnB;AACH;;AAEQ,MAALG,KAAK,CAAEf,GAAF,EAAe;AACpBvE,iBAAK2D,GAAL,CAAS,KAAK0B,MAAd,EAAsB,CAAtB,EAAyB,CAAzB,EAA4Bd,GAA5B;;AACArE,iBAAKqF,UAAL,CAAgB,KAAKV,KAArB,EAA4BN,GAA5B;;AACA,SAAKhB,WAAL,GAAmB,KAAnB;AAEA,SAAKiC,kBAAL,CAAwBrC,uBAAasC,QAArC;;AACA,QAAI,KAAKC,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAasC,QAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACI;;;AACwB,MAAbM,aAAa,GAAoB;AACxC,SAAKrB,oBAAL;AACA,WAAO,KAAK3B,IAAZ;AACH;;AAEuB,MAAbgD,aAAa,CAAExB,GAAF,EAAuB;AAC3C,SAAKyB,gBAAL,CAAsBzB,GAAtB;AACH;AAED;AACJ;AACA;AACA;AACI;;;AACgB,MAAL0B,KAAK,GAAoB;AAChC,WAAO,KAAKC,OAAZ;AACH;;AAEe,MAALD,KAAK,CAAE1B,GAAF,EAAuB;AACnC,SAAK4B,QAAL,CAAc5B,GAAd;AACH;AAED;AACJ;AACA;AACA;AACI;;;AACqB,MAAV6B,UAAU,GAAoB;AACrC,SAAK1B,oBAAL;AACA,WAAO,KAAK1B,MAAZ;AACH;;AAEoB,MAAVoD,UAAU,CAAE7B,GAAF,EAAuB;AACxC,SAAK8B,aAAL,CAAmB9B,GAAnB;AACH;AAED;AACJ;AACA;AACA;;;AACqB,MAAN+B,MAAM,CAAE/B,GAAF,EAAuB;AACpC9D,iBAAK8F,KAAL,CAAWhC,GAAX,EAAgB,KAAKM,KAArB,EAA4B,KAAKP,KAAjC,EAAwC,KAAK4B,OAA7C;;AACA,SAAKV,kBAAL,CAAwBrC,uBAAaqD,GAArC;AACA,SAAKjD,WAAL,GAAmB,IAAnB;;AACA,QAAI,KAAKmC,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAaqD,GAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACI;;;AACsB,MAAXC,WAAW,GAAoB;AACtC,SAAK/B,oBAAL;AACA,WAAO,KAAKzB,IAAZ;AACH;AAED;AACJ;AACA;AACA;;;AACe,MAAPyD,OAAO,GAAU;AACjB,WAAO1G,aAAK2G,aAAL,CAAmB,IAAI3G,YAAJ,EAAnB,EAA+BA,aAAK4G,OAApC,EAA6C,KAAKb,aAAlD,CAAP;AACH;;AAEU,MAAPW,OAAO,CAAEG,GAAF,EAAa;AACpB,UAAMC,GAAG,GAAGD,GAAG,CAAC1F,MAAJ,EAAZ;;AACAnB,iBAAK+G,cAAL,CAAoBhH,IAApB,EAA0B8G,GAA1B,EAA+B,CAAC,CAAD,GAAKC,GAApC;;AACA5G,iBAAK8G,UAAL,CAAgB/G,GAAhB,EAAqBF,IAArB;;AACA,SAAKiG,gBAAL,CAAsB/F,GAAtB;AACH;AAED;AACJ;AACA;AACA;;;AAEa,MAALgH,KAAK,CAAEC,CAAF,EAAK;AACV,SAAKpD,MAAL,GAAcoD,CAAd;;AACAxD,0BAASC,GAAT,CAAa,KAAKH,WAAlB,EAA+BI,sBAASC,KAAxC,EAA+C,KAAKC,MAApD;;AACA,SAAK8B,IAAL,CAAUC,2BAAgBsB,aAA1B,EAAyC,KAAKrD,MAA9C;AACH;;AAEQ,MAALmD,KAAK,GAAI;AACT,WAAO,KAAKnD,MAAZ;AACH;AAED;AACJ;AACA;AACA;;;AACuB,MAAfsD,eAAe,GAAI;AACnB,WAAO,KAAK/D,qBAAL,CAA2B,KAAKC,sBAAhC,CAAP;AACH;;AAEkB,MAAf8D,eAAe,CAAE7C,GAAF,EAAqB;AACpC,SAAKlB,qBAAL,CAA2B,KAAKC,sBAAhC,IAA0DiB,GAA1D;AACH,GAnR8B,CAqR/B;AACA;AACA;;AAEA;AACJ;AACA;AACA;AACA;AACA;;;AACW8C,EAAAA,SAAS,CAAEC,KAAF,EAAsBC,kBAAkB,GAAG,KAA3C,EAAkD;AAC9D,QAAIA,kBAAJ,EAAwB;AAAE,WAAK7C,oBAAL;AAA8B;;AACxD,UAAM2C,SAAN,CAAgBC,KAAhB,EAAuBC,kBAAvB;AACH;;AAEMC,EAAAA,YAAY,CAAEC,SAAF,EAA0BF,kBAA1B,EAAuD;AACtE,UAAMC,YAAN,CAAmBC,SAAnB,EAA8BF,kBAA9B;;AACA,QAAIA,kBAAJ,EAAwB;AACpB,YAAMG,MAAM,GAAG,KAAKC,OAApB;;AACA,UAAID,MAAJ,EAAY;AACRA,QAAAA,MAAM,CAAChD,oBAAP;;AACAjE,qBAAKmH,QAAL,CAAcpH,IAAd,EAAoBC,aAAKoH,MAAL,CAAYrH,IAAZ,EAAkBkH,MAAM,CAACzE,IAAzB,CAApB,EAAoD,KAAKA,IAAzD;;AACAxC,qBAAK8F,KAAL,CAAW/F,IAAX,EAAiB,KAAKqE,KAAtB,EAA6B,KAAKP,KAAlC,EAAyC,KAAK4B,OAA9C;AACH,OAJD,MAIO;AACHlG,qBAAK8H,IAAL,CAAU,KAAKxD,KAAf,EAAsB,KAAKxB,IAA3B;;AACA5C,qBAAK4H,IAAL,CAAU,KAAKjD,KAAf,EAAsB,KAAK9B,IAA3B;;AACA/C,qBAAK8H,IAAL,CAAU,KAAK5B,OAAf,EAAwB,KAAKlD,MAA7B;AACH;;AACD,WAAKO,WAAL,GAAmB,IAAnB;AACH;;AAED,SAAKiC,kBAAL,CAAwBrC,uBAAaqD,GAArC;AACH;;AAESuB,EAAAA,mBAAmB,CAAEN,SAAF,EAA0B;AACnD,SAAKO,cAAL,CAAoBC,QAApB;;AACA,UAAMC,uBAAN,CAA8BT,SAA9B;AACH;;AAEMU,EAAAA,eAAe,CAAEC,mBAAF,EAAgC;AAAA;;AAClD1E,0BAASC,GAAT,CAAa,KAAKH,WAAlB,EAA+BI,sBAASC,KAAxC,EAA+C,KAAKC,MAApD;;AACAJ,0BAAS2E,OAAT,CAAiB,KAAK7E,WAAtB,EAAmCI,sBAAS0E,WAA5C,EAAyD,KAAKtF,MAA9D;;AAEA,UAAMuF,cAAc,oBAAG,KAAKC,OAAR,kDAAG,cAAcC,QAArC;;AACA,QAAI,CAACL,mBAAD,IAAwBG,cAA5B,EAA4C;AACxC,uCAAqB,IAArB;AACH;;AAED,SAAKnB,eAAL,GAAuBjE,uBAAaqD,GAApC;AACA,SAAKtD,WAAL,GAAmBC,uBAAaqD,GAAhC;AACA,SAAK7D,QAAL,CAAc+F,gBAAd,GAAiC,IAAjC;AACA,UAAM5B,GAAG,GAAG,KAAK6B,SAAL,CAAexH,MAA3B;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0F,GAApB,EAAyB,EAAE1F,CAA3B,EAA8B;AAC1B,WAAKuH,SAAL,CAAevH,CAAf,EAAkBwH,aAAlB,GAAkCxH,CAAlC;;AACA,WAAKuH,SAAL,CAAevH,CAAf,EAAkB+G,eAAlB,CAAkCC,mBAAlC;AACH,KAhBiD,CAkBlD;;;AACA,QAAI,CAACA,mBAAD,IAAwBG,cAA5B,EAA4C;AACxC,YAAMM,SAAiD,GAAG,EAA1D;AACAN,MAAAA,cAAc,CAACM,SAAf,GAA2BA,SAA3B;AACA,oCAAkB,IAAlB,EAAwBA,SAAxB,EAAmC,IAAnC;AAEA,uCAAqB,IAArB,EAA2BN,cAAc,CAACO,eAA1C,EAA2DD,SAA3D;AACA,yCAAuB,IAAvB,EAA6BN,cAAc,CAACQ,iBAA5C,EAA+DF,SAA/D;AACA,yCAAuB,IAAvB,EAA6BN,cAAc,CAACS,iBAA5C,EAA+DH,SAA/D;AACA,yCAAuB,IAAvB,EAA6BN,cAAc,CAACU,iBAA5C,EAA+DJ,SAA/D;AACH;;AAED,qCAAqB,IAArB;AACH;;AAEMK,EAAAA,kBAAkB,GAAI;AACzB;AACA,SAAKnE,WAAL,CAFyB,CAEP;AACrB;;AAEMoE,EAAAA,gBAAgB,CAAEC,MAAF,EAAmB;AACtC,QAAIA,MAAJ,EAAY;AAAE;AACVC,iCAAaC,YAAb,CAA0B,IAA1B,EADQ,CAER;;;AACA,WAAK9D,kBAAL,CAAwBrC,uBAAaqD,GAArC;AACH,KAJD,MAIO;AAAE;AACL6C,iCAAaE,WAAb,CAAyB,IAAzB;AACH;AACJ,GA1W8B,CA4W/B;AACA;AACA;;AAEA;AACJ;AACA;AACA;AACA;AACA;;;AACWC,EAAAA,SAAS,CAAEC,KAAF,EAAeC,EAAf,EAAqC;AACjD,UAAMC,KAAK,GAAGD,EAAE,IAAIE,oBAAUC,KAA9B;;AACA,QAAIF,KAAK,KAAKC,oBAAUC,KAAxB,EAA+B;AAC3B7J,mBAAK2G,aAAL,CAAmB5G,IAAnB,EAAyB0J,KAAzB,EAAgC,KAAK5E,KAArC;;AACA,WAAKP,KAAL,CAAWW,CAAX,IAAgBlF,IAAI,CAACkF,CAArB;AACA,WAAKX,KAAL,CAAWY,CAAX,IAAgBnF,IAAI,CAACmF,CAArB;AACA,WAAKZ,KAAL,CAAWa,CAAX,IAAgBpF,IAAI,CAACoF,CAArB;AACH,KALD,MAKO,IAAIwE,KAAK,KAAKC,oBAAUE,KAAxB,EAA+B;AAClC,UAAI,KAAKnC,OAAT,EAAkB;AACdzH,qBAAK2H,MAAL,CAAY5H,GAAZ,EAAiB,KAAK0H,OAAL,CAAa5B,aAA9B;;AACA/F,qBAAK2G,aAAL,CAAmB5G,IAAnB,EAAyB0J,KAAzB,EAAgCxJ,GAAhC;;AACA,cAAMgG,KAAK,GAAG,KAAKG,UAAnB;AACA,aAAK9B,KAAL,CAAWW,CAAX,IAAgBlF,IAAI,CAACkF,CAAL,GAASgB,KAAK,CAAChB,CAA/B;AACA,aAAKX,KAAL,CAAWY,CAAX,IAAgBnF,IAAI,CAACmF,CAAL,GAASe,KAAK,CAACf,CAA/B;AACA,aAAKZ,KAAL,CAAWa,CAAX,IAAgBpF,IAAI,CAACoF,CAAL,GAASc,KAAK,CAACd,CAA/B;AACH,OAPD,MAOO;AACH,aAAKb,KAAL,CAAWW,CAAX,IAAgBwE,KAAK,CAACxE,CAAtB;AACA,aAAKX,KAAL,CAAWY,CAAX,IAAgBuE,KAAK,CAACvE,CAAtB;AACA,aAAKZ,KAAL,CAAWa,CAAX,IAAgBsE,KAAK,CAACtE,CAAtB;AACH;AACJ;;AACD,SAAKK,kBAAL,CAAwBrC,uBAAa4G,QAArC;;AACA,QAAI,KAAKrE,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAa4G,QAA1D;AACH;;AACDrG,0BAAS2E,OAAT,CAAiB,KAAK7E,WAAtB,EAAmCI,sBAASoG,cAA5C,EAA4D,KAAKvF,aAAjE;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWwF,EAAAA,MAAM,CAAEC,GAAF,EAAaR,EAAb,EAAmC;AAC5C,UAAMC,KAAK,GAAGD,EAAE,IAAIE,oBAAUC,KAA9B;;AACA3J,iBAAKiK,SAAL,CAAelK,GAAf,EAAoBiK,GAApB;;AAEA,QAAIP,KAAK,KAAKC,oBAAUC,KAAxB,EAA+B;AAC3B3J,mBAAK0H,QAAL,CAAc,KAAK/C,KAAnB,EAA0B,KAAKA,KAA/B,EAAsC5E,GAAtC;AACH,KAFD,MAEO,IAAI0J,KAAK,KAAKC,oBAAUE,KAAxB,EAA+B;AAClC,YAAMM,QAAQ,GAAG,KAAKrE,aAAtB;;AACA7F,mBAAK0H,QAAL,CAAczH,GAAd,EAAmBF,GAAnB,EAAwBmK,QAAxB;;AACAlK,mBAAK2H,MAAL,CAAY5H,GAAZ,EAAiBmK,QAAjB;;AACAlK,mBAAK0H,QAAL,CAAczH,GAAd,EAAmBF,GAAnB,EAAwBE,GAAxB;;AACAD,mBAAK0H,QAAL,CAAc,KAAK/C,KAAnB,EAA0B,KAAKA,KAA/B,EAAsC1E,GAAtC;AACH;;AACD,SAAKoD,WAAL,GAAmB,IAAnB;AACA,SAAKiC,kBAAL,CAAwBrC,uBAAasC,QAArC;;AACA,QAAI,KAAKC,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAasC,QAA1D;AACH;;AACD/B,0BAAS2G,OAAT,CAAiB,KAAK7G,WAAtB,EAAmCI,sBAAS0G,cAA5C,EAA4D,KAAKvE,aAAjE;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWwE,EAAAA,MAAM,CAAEC,GAAF,EAAaC,EAAb,EAA8B;AACvC,SAAKC,gBAAL,CAAsB3K,IAAtB;;AACAC,iBAAK2K,QAAL,CAAc5K,IAAd,EAAoBA,IAApB,EAA0ByK,GAA1B;;AACAxK,iBAAKmK,SAAL,CAAepK,IAAf,EAAqBA,IAArB;;AACAG,iBAAK8G,UAAL,CAAgB/G,GAAhB,EAAqBF,IAArB,EAA2B0K,EAA3B;;AACA,SAAKzE,gBAAL,CAAsB/F,GAAtB;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWuF,EAAAA,kBAAkB,CAAEoF,QAAF,EAA0B;AAC/C,UAAMC,aAAa,GAAGD,QAAQ,GAAGzH,uBAAa4G,QAA9C;AACArJ,IAAAA,OAAO,CAAC,CAAD,CAAP,GAAa,IAAb,CAF+C,CAI/C;AACA;;AACA,QAAIU,CAAC,GAAG,CAAR;;AACA,WAAOA,CAAC,IAAI,CAAZ,EAAe;AACX,YAAM0J,GAAS,GAAGpK,OAAO,CAACU,CAAC,EAAF,CAAzB;AACA,YAAMgG,eAAe,GAAG0D,GAAG,CAAC1D,eAA5B;;AACA,UAAI0D,GAAG,CAACC,OAAJ,IAAe,CAACD,GAAG,CAAC5H,WAAJ,GAAkBkE,eAAlB,GAAoCwD,QAArC,MAAmDA,QAAtE,EAAgF;AAC5EE,QAAAA,GAAG,CAAC5H,WAAJ,IAAmB0H,QAAnB;AACAE,QAAAA,GAAG,CAACnI,QAAJ,CAAa+F,gBAAb,GAAgC,IAAhC,CAF4E,CAEtC;AACtC;;AACAoC,QAAAA,GAAG,CAACzH,qBAAJ,CAA0ByH,GAAG,CAACxH,sBAA9B,IAAwD8D,eAAe,GAAGwD,QAA1E;AACA,cAAMI,QAAQ,GAAGF,GAAG,CAACnC,SAArB;AACA,cAAM7B,GAAG,GAAGkE,QAAQ,CAAC7J,MAArB;;AACA,aAAK,IAAI8J,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnE,GAApB,EAAyB,EAAEmE,CAA3B,EAA8BvK,OAAO,CAAC,EAAEU,CAAH,CAAP,GAAe4J,QAAQ,CAACC,CAAD,CAAvB;AACjC;;AACDL,MAAAA,QAAQ,GAAGC,aAAX;AACH;AACJ;AAED;AACJ;AACA;AACA;;;AACWnG,EAAAA,oBAAoB,GAAI;AAC3B,QAAI,CAAC,KAAKxB,WAAV,EAAuB;AAAE;AAAS,KADP,CAE3B;AACA;;;AACA,QAAI4H,GAAgB,GAAG,IAAvB;AACA,QAAI1J,CAAC,GAAG,CAAR;;AACA,WAAO0J,GAAG,IAAIA,GAAG,CAAC5H,WAAlB,EAA+B;AAC3B;AACAxC,MAAAA,OAAO,CAACU,CAAC,EAAF,CAAP,GAAe0J,GAAf;AACAA,MAAAA,GAAG,GAAGA,GAAG,CAACnD,OAAV;AACH;;AACD,QAAIuD,KAAJ;AAAiB,QAAIC,SAAS,GAAG,CAAhB;AAEjB,QAAIC,QAAJ;AACA,QAAIC,MAAJ;AACA,QAAIC,QAAJ;AACA,QAAIC,SAAJ;AACA,QAAIC,QAAJ;;AAEA,WAAOpK,CAAP,EAAU;AACN8J,MAAAA,KAAK,GAAGxK,OAAO,CAAC,EAAEU,CAAH,CAAf;AACA+J,MAAAA,SAAS,IAAID,KAAK,CAAChI,WAAnB;;AACA,UAAI4H,GAAJ,EAAS;AACL,YAAIK,SAAS,GAAGhI,uBAAa4G,QAA7B,EAAuC;AACnCqB,UAAAA,QAAQ,GAAGF,KAAK,CAACjI,IAAjB;AACAoI,UAAAA,MAAM,GAAGP,GAAG,CAAC7H,IAAb;AACAqI,UAAAA,QAAQ,GAAGJ,KAAK,CAACpI,IAAjB;AACAyI,UAAAA,SAAS,GAAGL,KAAK,CAAC5G,KAAlB;AACAkH,UAAAA,QAAQ,GAAGN,KAAK,CAACnI,IAAjB;;AAEA/C,uBAAKyL,aAAL,CAAmBH,QAAnB,EAA6BC,SAA7B,EAAwCF,MAAxC;;AAEAD,UAAAA,QAAQ,CAACM,GAAT,GAAeJ,QAAQ,CAACrG,CAAxB;AACAmG,UAAAA,QAAQ,CAACO,GAAT,GAAeL,QAAQ,CAACpG,CAAxB;AACAkG,UAAAA,QAAQ,CAACQ,GAAT,GAAeN,QAAQ,CAACnG,CAAxB;;AACAzB,gCAAS2E,OAAT,CAAiB6C,KAAK,CAAC1H,WAAvB,EAAoCI,sBAASoG,cAA7C,EAA6DsB,QAA7D;AACH;;AACD,YAAIH,SAAS,GAAGhI,uBAAa0I,EAA7B,EAAiC;AAC7BpL,uBAAKqL,OAAL,CAAaZ,KAAK,CAACjI,IAAnB,EAAyBiI,KAAK,CAACrG,KAA/B,EAAsCqG,KAAK,CAAC5G,KAA5C,EAAmD4G,KAAK,CAAChF,OAAzD;;AACAzF,uBAAKmH,QAAL,CAAcsD,KAAK,CAACjI,IAApB,EAA0B6H,GAAG,CAAC7H,IAA9B,EAAoCiI,KAAK,CAACjI,IAA1C;;AACA,cAAIkI,SAAS,GAAGhI,uBAAasC,QAA7B,EAAuC;AACnCvF,yBAAK0H,QAAL,CAAcsD,KAAK,CAACnI,IAApB,EAA0B+H,GAAG,CAAC/H,IAA9B,EAAoCmI,KAAK,CAACrG,KAA1C;;AACAnB,kCAAS2G,OAAT,CAAiBa,KAAK,CAAC1H,WAAvB,EAAoCI,sBAAS0G,cAA7C,EAA6DY,KAAK,CAACnI,IAAnE;AACH;;AACDzC,uBAAKyL,QAAL,CAAc1L,IAAd,EAAoBH,aAAK8L,SAAL,CAAe5L,IAAf,EAAqB8K,KAAK,CAACnI,IAA3B,CAApB;;AACAzC,uBAAK2L,YAAL,CAAkB5L,IAAlB,EAAwBA,IAAxB,EAA8B6K,KAAK,CAACjI,IAApC;;AACAiI,UAAAA,KAAK,CAAClI,MAAN,CAAaiC,CAAb,GAAiB5E,IAAI,CAAC6L,GAAtB;AACAhB,UAAAA,KAAK,CAAClI,MAAN,CAAakC,CAAb,GAAiB7E,IAAI,CAAC8L,GAAtB;AACAjB,UAAAA,KAAK,CAAClI,MAAN,CAAamC,CAAb,GAAiB9E,IAAI,CAAC+L,GAAtB;;AACA1I,gCAAS2E,OAAT,CAAiB6C,KAAK,CAAC1H,WAAvB,EAAoCI,sBAAS0E,WAA7C,EAA0D4C,KAAK,CAAClI,MAAhE;AACH;AACJ,OA7BD,MA6BO;AACH,YAAImI,SAAS,GAAGhI,uBAAa4G,QAA7B,EAAuC;AACnC/J,uBAAK8H,IAAL,CAAUoD,KAAK,CAACpI,IAAhB,EAAsBoI,KAAK,CAAC5G,KAA5B;;AACA4G,UAAAA,KAAK,CAACjI,IAAN,CAAWyI,GAAX,GAAiBR,KAAK,CAACpI,IAAN,CAAWmC,CAA5B;AACAiG,UAAAA,KAAK,CAACjI,IAAN,CAAW0I,GAAX,GAAiBT,KAAK,CAACpI,IAAN,CAAWoC,CAA5B;AACAgG,UAAAA,KAAK,CAACjI,IAAN,CAAW2I,GAAX,GAAiBV,KAAK,CAACpI,IAAN,CAAWqC,CAA5B;;AACAzB,gCAAS2E,OAAT,CAAiB6C,KAAK,CAAC1H,WAAvB,EAAoCI,sBAASoG,cAA7C,EAA6DkB,KAAK,CAACpI,IAAnE;AACH;;AACD,YAAIqI,SAAS,GAAGhI,uBAAa0I,EAA7B,EAAiC;AAC7B,cAAIV,SAAS,GAAGhI,uBAAasC,QAA7B,EAAuC;AACnCvF,yBAAK4H,IAAL,CAAUoD,KAAK,CAACnI,IAAhB,EAAsBmI,KAAK,CAACrG,KAA5B;;AACAnB,kCAAS2G,OAAT,CAAiBa,KAAK,CAAC1H,WAAvB,EAAoCI,sBAAS0G,cAA7C,EAA6DY,KAAK,CAACnI,IAAnE;AACH;;AACD,cAAIoI,SAAS,GAAGhI,uBAAakJ,KAA7B,EAAoC;AAChCrM,yBAAK8H,IAAL,CAAUoD,KAAK,CAAClI,MAAhB,EAAwBkI,KAAK,CAAChF,OAA9B;;AACAxC,kCAAS2E,OAAT,CAAiB6C,KAAK,CAAC1H,WAAvB,EAAoCI,sBAAS0E,WAA7C,EAA0D4C,KAAK,CAAClI,MAAhE;;AACAvC,yBAAKqL,OAAL,CAAaZ,KAAK,CAACjI,IAAnB,EAAyBiI,KAAK,CAACnI,IAA/B,EAAqCmI,KAAK,CAACpI,IAA3C,EAAiDoI,KAAK,CAAClI,MAAvD;AACH;AACJ;AACJ;;AAED,UAAImI,SAAS,KAAKhI,uBAAaC,IAA/B,EAAqC;AACjCM,8BAAS4I,OAAT,CAAiBpB,KAAK,CAAC1H,WAAvB,EAAoCI,sBAAS2I,YAA7C,EAA2DrB,KAAK,CAACjI,IAAjE;AACH;;AAEDiI,MAAAA,KAAK,CAAChI,WAAN,GAAoBC,uBAAaC,IAAjC;AACA0H,MAAAA,GAAG,GAAGI,KAAN;AACH;AACJ,GA3iB8B,CA6iB/B;AACA;AACA;;AAEA;AACJ;AACA;AACA;AACA;;;AAYW1G,EAAAA,WAAW,CAAED,GAAF,EAAsBW,CAAtB,EAAkCC,CAAlC,EAAoD;AAClE,QAAID,CAAC,KAAKsH,SAAN,IAAmBrH,CAAC,KAAKqH,SAA7B,EAAwC;AACpCxM,mBAAK8H,IAAL,CAAU,KAAKxD,KAAf,EAAsBC,GAAtB;AACH,KAFD,MAEO,IAAIY,CAAC,KAAKqH,SAAV,EAAqB;AACxBxM,mBAAK2D,GAAL,CAAS,KAAKW,KAAd,EAAqBC,GAArB,EAAoCW,CAApC,EAAwC,KAAKZ,KAAL,CAAWa,CAAnD;AACH,KAFM,MAEA;AACHnF,mBAAK2D,GAAL,CAAS,KAAKW,KAAd,EAAqBC,GAArB,EAAoCW,CAApC,EAAwCC,CAAxC;AACH;;AAED,SAAKK,kBAAL,CAAwBrC,uBAAa4G,QAArC;;AACA,QAAI,KAAKrE,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAa4G,QAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACW0C,EAAAA,WAAW,CAAEC,GAAF,EAAoB;AAClC,QAAIA,GAAJ,EAAS;AACL,aAAO1M,aAAK2D,GAAL,CAAS+I,GAAT,EAAc,KAAKpI,KAAL,CAAWW,CAAzB,EAA4B,KAAKX,KAAL,CAAWY,CAAvC,EAA0C,KAAKZ,KAAL,CAAWa,CAArD,CAAP;AACH;;AACD,WAAOnF,aAAK8H,IAAL,CAAU,IAAI9H,YAAJ,EAAV,EAAsB,KAAKsE,KAA3B,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;;;AAaWQ,EAAAA,WAAW,CAAEP,GAAF,EAAgCW,CAAhC,EAA4CC,CAA5C,EAAwDwH,CAAxD,EAAoE;AAClF,QAAIzH,CAAC,KAAKsH,SAAN,IAAmBrH,CAAC,KAAKqH,SAAzB,IAAsCG,CAAC,KAAKH,SAAhD,EAA2D;AACvDtM,mBAAK4H,IAAL,CAAU,KAAKjD,KAAf,EAAsBN,GAAtB;AACH,KAFD,MAEO;AACHrE,mBAAKyD,GAAL,CAAS,KAAKkB,KAAd,EAAqBN,GAArB,EAAoCW,CAApC,EAAuCC,CAAvC,EAA0CwH,CAA1C;AACH;;AACD,SAAKpJ,WAAL,GAAmB,IAAnB;AAEA,SAAKiC,kBAAL,CAAwBrC,uBAAasC,QAArC;;AACA,QAAI,KAAKC,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAasC,QAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;;;AAYWT,EAAAA,oBAAoB,CAAET,GAAF,EAAsBW,CAAtB,EAAkC0H,IAAlC,EAAuD;AAC9E,UAAMzH,CAAC,GAAGyH,IAAI,KAAKJ,SAAT,GAAqB,KAAKnH,MAAL,CAAYF,CAAjC,GAAqCyH,IAA/C;;AAEA,QAAI1H,CAAC,KAAKsH,SAAV,EAAqB;AACjBxM,mBAAK8H,IAAL,CAAU,KAAKzC,MAAf,EAAuBd,GAAvB;;AACArE,mBAAK2M,SAAL,CAAe,KAAKhI,KAApB,EAA4BN,GAAD,CAAcU,CAAzC,EAA6CV,GAAD,CAAcW,CAA1D,EAA8DX,GAAD,CAAcY,CAA3E;AACH,KAHD,MAGO;AACHnF,mBAAK2D,GAAL,CAAS,KAAK0B,MAAd,EAAsBd,GAAtB,EAAqCW,CAArC,EAAwCC,CAAxC;;AACAjF,mBAAK2M,SAAL,CAAe,KAAKhI,KAApB,EAA2BN,GAA3B,EAA0CW,CAA1C,EAA6CC,CAA7C;AACH;;AAED,SAAK5B,WAAL,GAAmB,KAAnB;AAEA,SAAKiC,kBAAL,CAAwBrC,uBAAasC,QAArC;;AACA,QAAI,KAAKC,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAasC,QAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWqH,EAAAA,WAAW,CAAEJ,GAAF,EAAoB;AAClC,QAAIA,GAAJ,EAAS;AACL,aAAOxM,aAAKyD,GAAL,CAAS+I,GAAT,EAAc,KAAK7H,KAAL,CAAWI,CAAzB,EAA4B,KAAKJ,KAAL,CAAWK,CAAvC,EAA0C,KAAKL,KAAL,CAAWM,CAArD,EAAwD,KAAKN,KAAL,CAAW8H,CAAnE,CAAP;AACH;;AACD,WAAOzM,aAAK4H,IAAL,CAAU,IAAI5H,YAAJ,EAAV,EAAsB,KAAK2E,KAA3B,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;;;AAYWsB,EAAAA,QAAQ,CAAE5B,GAAF,EAAsBW,CAAtB,EAAkCC,CAAlC,EAA8C;AACzD,QAAID,CAAC,KAAKsH,SAAN,IAAmBrH,CAAC,KAAKqH,SAA7B,EAAwC;AACpCxM,mBAAK8H,IAAL,CAAU,KAAK5B,OAAf,EAAwB3B,GAAxB;AACH,KAFD,MAEO,IAAIY,CAAC,KAAKqH,SAAV,EAAqB;AACxBxM,mBAAK2D,GAAL,CAAS,KAAKuC,OAAd,EAAuB3B,GAAvB,EAAsCW,CAAtC,EAA0C,KAAKgB,OAAL,CAAaf,CAAvD;AACH,KAFM,MAEA;AACHnF,mBAAK2D,GAAL,CAAS,KAAKuC,OAAd,EAAuB3B,GAAvB,EAAsCW,CAAtC,EAA0CC,CAA1C;AACH;;AAED,SAAKK,kBAAL,CAAwBrC,uBAAakJ,KAArC;;AACA,QAAI,KAAK3G,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAakJ,KAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWU,EAAAA,QAAQ,CAAEL,GAAF,EAAoB;AAC/B,QAAIA,GAAJ,EAAS;AACL,aAAO1M,aAAK2D,GAAL,CAAS+I,GAAT,EAAc,KAAKxG,OAAL,CAAajB,CAA3B,EAA8B,KAAKiB,OAAL,CAAahB,CAA3C,EAA8C,KAAKgB,OAAL,CAAaf,CAA3D,CAAP;AACH;;AACD,WAAOnF,aAAK8H,IAAL,CAAU,IAAI9H,YAAJ,EAAV,EAAsB,KAAKkG,OAA3B,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACW8G,EAAAA,qBAAqB,CAAEN,GAAF,EAAaO,CAAb,EAAsB;AAC9CjN,iBAAK8H,IAAL,CAAU4E,GAAV,EAAeO,CAAf,EAD8C,CAE9C;AACA;;;AACA,QAAInC,GAAG,GAAG,IAAV;AACA,QAAI1J,CAAC,GAAG,CAAR;;AACA,WAAO0J,GAAG,CAACnD,OAAX,EAAoB;AAChBjH,MAAAA,OAAO,CAACU,CAAC,EAAF,CAAP,GAAe0J,GAAf;AACAA,MAAAA,GAAG,GAAGA,GAAG,CAACnD,OAAV;AACH;;AACD,WAAOvG,CAAC,IAAI,CAAZ,EAAe;AACXpB,mBAAKkN,mBAAL,CAAyBR,GAAzB,EAA8BA,GAA9B,EAAmC5B,GAAG,CAACjG,KAAvC,EAA8CiG,GAAG,CAACxG,KAAlD,EAAyDwG,GAAG,CAAC5E,OAA7D;;AACA4E,MAAAA,GAAG,GAAGpK,OAAO,CAAC,EAAEU,CAAH,CAAb;AACH;;AACD,WAAOsL,GAAP;AACH;AAED;AACJ;AACA;AACA;AACA;;;AAYW/H,EAAAA,gBAAgB,CAAEJ,GAAF,EAAsBW,CAAtB,EAAkCC,CAAlC,EAA8C;AACjE,QAAID,CAAC,KAAKsH,SAAN,IAAmBrH,CAAC,KAAKqH,SAA7B,EAAwC;AACpCxM,mBAAK8H,IAAL,CAAU,KAAKhF,IAAf,EAAqByB,GAArB;AACH,KAFD,MAEO;AACHvE,mBAAK2D,GAAL,CAAS,KAAKb,IAAd,EAAoByB,GAApB,EAAmCW,CAAnC,EAAsCC,CAAtC;AACH;;AACDzB,0BAAS2E,OAAT,CAAiB,KAAK7E,WAAtB,EAAmCI,sBAASoG,cAA5C,EAA4D,KAAKlH,IAAjE;;AACA,UAAM4E,MAAM,GAAG,KAAKC,OAApB;AACA,UAAMwF,KAAK,GAAG,KAAK7I,KAAnB;;AACA,QAAIoD,MAAJ,EAAY;AACR;;AACA;AACAA,MAAAA,MAAM,CAAChD,oBAAP;;AACA1E,mBAAKyL,aAAL,CAAmB0B,KAAnB,EAA0B,KAAKrK,IAA/B,EAAqCrC,aAAKoH,MAAL,CAAYrH,IAAZ,EAAkBkH,MAAM,CAACzE,IAAzB,CAArC;AACA;AACZ;AACA;;AACS,KARD,MAQO;AACHjD,mBAAK8H,IAAL,CAAUqF,KAAV,EAAiB,KAAKrK,IAAtB;AACH;;AAED,SAAK0C,kBAAL,CAAwBrC,uBAAa4G,QAArC;;AACA,QAAI,KAAKrE,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAa4G,QAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWW,EAAAA,gBAAgB,CAAEgC,GAAF,EAAoB;AACvC,SAAKhI,oBAAL;;AACA,QAAIgI,GAAJ,EAAS;AACL,aAAO1M,aAAK8H,IAAL,CAAU4E,GAAV,EAAe,KAAK5J,IAApB,CAAP;AACH;;AACD,WAAO9C,aAAK8H,IAAL,CAAU,IAAI9H,YAAJ,EAAV,EAAsB,KAAK8C,IAA3B,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;;;AAaWkD,EAAAA,gBAAgB,CAAEzB,GAAF,EAAsBW,CAAtB,EAAkCC,CAAlC,EAA8CwH,CAA9C,EAA0D;AAC7E,QAAIzH,CAAC,KAAKsH,SAAN,IAAmBrH,CAAC,KAAKqH,SAAzB,IAAsCG,CAAC,KAAKH,SAAhD,EAA2D;AACvDtM,mBAAK4H,IAAL,CAAU,KAAK/E,IAAf,EAAqBwB,GAArB;AACH,KAFD,MAEO;AACHrE,mBAAKyD,GAAL,CAAS,KAAKZ,IAAd,EAAoBwB,GAApB,EAAmCW,CAAnC,EAAsCC,CAAtC,EAAyCwH,CAAzC;AACH;;AACDjJ,0BAAS2G,OAAT,CAAiB,KAAK7G,WAAtB,EAAmCI,sBAAS0G,cAA5C,EAA4D,KAAKvH,IAAjE;;AACA,QAAI,KAAK4E,OAAT,EAAkB;AACd,WAAKA,OAAL,CAAajD,oBAAb;;AACAxE,mBAAK0H,QAAL,CAAc,KAAK/C,KAAnB,EAA0B3E,aAAK8L,SAAL,CAAe,KAAKnH,KAApB,EAA2B,KAAK8C,OAAL,CAAa5E,IAAxC,CAA1B,EAAyE,KAAKA,IAA9E;AACH,KAHD,MAGO;AACH7C,mBAAK4H,IAAL,CAAU,KAAKjD,KAAf,EAAsB,KAAK9B,IAA3B;AACH;;AACD,SAAKQ,WAAL,GAAmB,IAAnB;AAEA,SAAKiC,kBAAL,CAAwBrC,uBAAasC,QAArC;;AACA,QAAI,KAAKC,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAasC,QAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACW2H,EAAAA,yBAAyB,CAAEnI,CAAF,EAAaC,CAAb,EAAwBC,CAAxB,EAAyC;AACrEjF,iBAAK2M,SAAL,CAAe,KAAK9J,IAApB,EAA0BkC,CAA1B,EAA6BC,CAA7B,EAAgCC,CAAhC;;AACA,QAAI,KAAKwC,OAAT,EAAkB;AACd,WAAKA,OAAL,CAAajD,oBAAb;;AACAxE,mBAAK0H,QAAL,CAAc,KAAK/C,KAAnB,EAA0B3E,aAAK8L,SAAL,CAAe,KAAKnH,KAApB,EAA2B,KAAK8C,OAAL,CAAa5E,IAAxC,CAA1B,EAAyE,KAAKA,IAA9E;AACH,KAHD,MAGO;AACH7C,mBAAK4H,IAAL,CAAU,KAAKjD,KAAf,EAAsB,KAAK9B,IAA3B;AACH;;AACD,SAAKQ,WAAL,GAAmB,IAAnB;AAEA,SAAKiC,kBAAL,CAAwBrC,uBAAasC,QAArC;;AACA,QAAI,KAAKC,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAasC,QAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACW4H,EAAAA,gBAAgB,CAAEX,GAAF,EAAoB;AACvC,SAAKhI,oBAAL;;AACA,QAAIgI,GAAJ,EAAS;AACL,aAAOxM,aAAK4H,IAAL,CAAU4E,GAAV,EAAe,KAAK3J,IAApB,CAAP;AACH;;AACD,WAAO7C,aAAK4H,IAAL,CAAU,IAAI5H,YAAJ,EAAV,EAAsB,KAAK6C,IAA3B,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;;;AAYWsD,EAAAA,aAAa,CAAE9B,GAAF,EAAsBW,CAAtB,EAAkCC,CAAlC,EAA8C;AAC9D,QAAID,CAAC,KAAKsH,SAAN,IAAmBrH,CAAC,KAAKqH,SAA7B,EAAwC;AACpCxM,mBAAK8H,IAAL,CAAU,KAAK9E,MAAf,EAAuBuB,GAAvB;AACH,KAFD,MAEO;AACHvE,mBAAK2D,GAAL,CAAS,KAAKX,MAAd,EAAsBuB,GAAtB,EAAqCW,CAArC,EAAwCC,CAAxC;AACH;;AACDzB,0BAAS2E,OAAT,CAAiB,KAAK7E,WAAtB,EAAmCI,sBAAS0E,WAA5C,EAAyD,KAAKtF,MAA9D;;AACA,UAAM0E,MAAM,GAAG,KAAKC,OAApB;;AACA,QAAID,MAAJ,EAAY;AACRA,MAAAA,MAAM,CAAChD,oBAAP;;AACApE,mBAAKyL,QAAL,CAAc1L,IAAd,EAAoBH,aAAK8L,SAAL,CAAe5L,IAAf,EAAqBsH,MAAM,CAAC3E,IAA5B,CAApB;;AACAzC,mBAAK2L,YAAL,CAAkB5L,IAAlB,EAAwBA,IAAxB,EAA8BqH,MAAM,CAACzE,IAArC;;AACA1C,MAAAA,UAAU,CAAC2L,GAAX,GAAiB,KAAKlJ,MAAL,CAAYiC,CAA7B;AACA1E,MAAAA,UAAU,CAAC4L,GAAX,GAAiB,KAAKnJ,MAAL,CAAYkC,CAA7B;AACA3E,MAAAA,UAAU,CAAC6L,GAAX,GAAiB,KAAKpJ,MAAL,CAAYmC,CAA7B;;AACA7E,mBAAKsH,QAAL,CAAcvH,IAAd,EAAoBE,UAApB,EAAgCD,aAAKuH,MAAL,CAAYxH,IAAZ,EAAkBA,IAAlB,CAAhC;;AACA,WAAK6F,OAAL,CAAajB,CAAb,GAAiBjF,aAAK2D,GAAL,CAAS5D,IAAT,EAAeM,IAAI,CAAC6L,GAApB,EAAyB7L,IAAI,CAACiN,GAA9B,EAAmCjN,IAAI,CAACkN,GAAxC,EAA6CpM,MAA7C,EAAjB;AACA,WAAK+E,OAAL,CAAahB,CAAb,GAAiBlF,aAAK2D,GAAL,CAAS5D,IAAT,EAAeM,IAAI,CAACmN,GAApB,EAAyBnN,IAAI,CAAC8L,GAA9B,EAAmC9L,IAAI,CAACoN,GAAxC,EAA6CtM,MAA7C,EAAjB;AACA,WAAK+E,OAAL,CAAaf,CAAb,GAAiBnF,aAAK2D,GAAL,CAAS5D,IAAT,EAAeM,IAAI,CAACqN,GAApB,EAAyBrN,IAAI,CAACsN,GAA9B,EAAmCtN,IAAI,CAAC+L,GAAxC,EAA6CjL,MAA7C,EAAjB;AACH,KAXD,MAWO;AACHnB,mBAAK8H,IAAL,CAAU,KAAK5B,OAAf,EAAwB,KAAKlD,MAA7B;AACH;;AAED,SAAKwC,kBAAL,CAAwBrC,uBAAakJ,KAArC;;AACA,QAAI,KAAK3G,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,WAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C3C,uBAAakJ,KAA1D;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWuB,EAAAA,aAAa,CAAElB,GAAF,EAAoB;AACpC,SAAKhI,oBAAL;;AACA,QAAIgI,GAAJ,EAAS;AACL,aAAO1M,aAAK8H,IAAL,CAAU4E,GAAV,EAAe,KAAK1J,MAApB,CAAP;AACH;;AACD,WAAOhD,aAAK8H,IAAL,CAAU,IAAI9H,YAAJ,EAAV,EAAsB,KAAKgD,MAA3B,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACW6K,EAAAA,cAAc,CAAEnB,GAAF,EAAoB;AACrC,SAAKhI,oBAAL;AACA,UAAMoJ,MAAM,GAAGpB,GAAG,IAAI,IAAIjM,YAAJ,EAAtB;AACA,WAAOA,aAAKqH,IAAL,CAAUgG,MAAV,EAAkB,KAAK7K,IAAvB,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACW8K,EAAAA,UAAU,CAAErB,GAAF,EAAoB;AACjC,SAAKhI,oBAAL;AACA,UAAMoJ,MAAM,GAAGpB,GAAG,IAAI,IAAIjM,YAAJ,EAAtB;;AACAA,iBAAKqH,IAAL,CAAUgG,MAAV,EAAkB,KAAK7K,IAAvB;;AACA6K,IAAAA,MAAM,CAACpC,GAAP,GAAa,CAAb;AAAgBoC,IAAAA,MAAM,CAACnC,GAAP,GAAa,CAAb;AAAgBmC,IAAAA,MAAM,CAAClC,GAAP,GAAa,CAAb;AAChC,WAAOkC,MAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWE,EAAAA,UAAU,CAAEtB,GAAF,EAAoB;AACjC,SAAKhI,oBAAL;AACA,UAAMoJ,MAAM,GAAGpB,GAAG,IAAI,IAAIjM,YAAJ,EAAtB;AACA,WAAOA,aAAKwN,MAAL,CAAYH,MAAZ,EAAoB,KAAK/K,IAAzB,EAA+B,KAAKD,IAApC,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACWoL,EAAAA,MAAM,CAAEhE,GAAF,EAAqBM,GAArB,EAAiCvE,KAAjC,EAA+C;AACxD,QAAI2E,QAAsB,GAAG,CAA7B;;AACA,QAAIV,GAAJ,EAAS;AACLU,MAAAA,QAAQ,IAAIzH,uBAAasC,QAAzB;;AACA,UAAKyE,GAAD,CAAcyC,CAAd,KAAoBH,SAAxB,EAAmC;AAC/BtM,qBAAK4H,IAAL,CAAU,KAAKjD,KAAf,EAAsBqF,GAAtB;;AACA,aAAK3G,WAAL,GAAmB,IAAnB;AACH,OAHD,MAGO;AACHvD,qBAAK8H,IAAL,CAAU,KAAKzC,MAAf,EAAuB6E,GAAvB;;AACAhK,qBAAK2M,SAAL,CAAe,KAAKhI,KAApB,EAA2BqF,GAAG,CAACjF,CAA/B,EAAkCiF,GAAG,CAAChF,CAAtC,EAAyCgF,GAAG,CAAC/E,CAA7C;;AACA,aAAK5B,WAAL,GAAmB,KAAnB;AACH;AACJ;;AACD,QAAIiH,GAAJ,EAAS;AACLxK,mBAAK8H,IAAL,CAAU,KAAKxD,KAAf,EAAsBkG,GAAtB;;AACAI,MAAAA,QAAQ,IAAIzH,uBAAa4G,QAAzB;AACH;;AACD,QAAI9D,KAAJ,EAAW;AACPjG,mBAAK8H,IAAL,CAAU,KAAK5B,OAAf,EAAwBD,KAAxB;;AACA2E,MAAAA,QAAQ,IAAIzH,uBAAakJ,KAAzB;AACH;;AACD,QAAIzB,QAAJ,EAAc;AACV,WAAKpF,kBAAL,CAAwBoF,QAAxB;;AACA,UAAI,KAAKlF,UAAL,GAAkBC,sBAAtB,EAAoC;AAChC,aAAKC,IAAL,CAAUC,2BAAgBC,iBAA1B,EAA6C8E,QAA7C;AACH;AACJ;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACWuD,EAAAA,iBAAiB,CAAEC,SAAF,EAA4B;AAChD/E,+BAAaE,WAAb,CAAyB,IAAzB,EAA+B6E,SAA/B;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACWC,EAAAA,kBAAkB,CAAED,SAAF,EAA4B;AACjD/E,+BAAaC,YAAb,CAA0B,IAA1B,EAAgC8E,SAAhC;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACsC,SAApBE,oBAAoB,GAAI;AAClC/L,IAAAA,YAAY,CAACb,KAAb;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACgC,SAAd6M,cAAc,GAAI;AAC5B,QAAI/L,IAAI,CAACgM,UAAL,GAAkBhM,IAAI,CAACiM,UAA3B,EAAuC;AACnCjM,MAAAA,IAAI,CAACgM,UAAL;AACH,KAFD,MAEO;AACHhM,MAAAA,IAAI,CAACgM,UAAL,GAAkB,CAAlB;AACA9N,MAAAA,OAAO,CAACS,MAAR,GAAiB,CAAjB;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWuN,EAAAA,qBAAqB,GAAI;AAC5B,UAAMC,CAAC,GAAG,KAAKvH,eAAf;;AACA,QAAIuH,CAAJ,EAAO;AACH,UAAIA,CAAC,GAAGxL,uBAAa4G,QAArB,EAA+B;AAAErG,8BAAS2E,OAAT,CAAiB,KAAK7E,WAAtB,EAAmCI,sBAASoG,cAA5C,EAA4D,KAAKvF,aAAjE;AAAkF;;AACnH,UAAIkK,CAAC,GAAGxL,uBAAasC,QAArB,EAA+B;AAAE/B,8BAAS2G,OAAT,CAAiB,KAAK7G,WAAtB,EAAmCI,sBAAS0G,cAA5C,EAA4D,KAAKvE,aAAjE;AAAkF;;AACnH,UAAI4I,CAAC,GAAGxL,uBAAakJ,KAArB,EAA4B;AAAE3I,8BAAS2E,OAAT,CAAiB,KAAK7E,WAAtB,EAAmCI,sBAAS0E,WAA5C,EAAyD,KAAKlC,UAA9D;AAA4E;AAC7G;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWwI,EAAAA,uBAAuB,GAAI;AAC9B,UAAMD,CAAC,GAAG,KAAKvH,eAAf;;AACA,QAAIuH,CAAJ,EAAO;AACH,UAAIA,CAAC,GAAGxL,uBAAa4G,QAArB,EAA+B;AAC3BrG,8BAASmL,OAAT,CAAiB,KAAKrL,WAAtB,EAAmCI,sBAASoG,cAA5C,EAA4DjK,IAA5D;;AACA,aAAK4E,gBAAL,CAAsB5E,IAAtB;AACH;;AACD,UAAI4O,CAAC,GAAGxL,uBAAasC,QAArB,EAA+B;AAC3B/B,8BAASoL,OAAT,CAAiB,KAAKtL,WAAtB,EAAmCI,sBAAS0G,cAA5C,EAA4DrK,GAA5D;;AACA,aAAK+F,gBAAL,CAAsB/F,GAAtB;AACH;;AACD,UAAI0O,CAAC,GAAGxL,uBAAakJ,KAArB,EAA4B;AACxB3I,8BAASmL,OAAT,CAAiB,KAAKrL,WAAtB,EAAmCI,sBAAS0E,WAA5C,EAAyDvI,IAAzD;;AACA,aAAKsG,aAAL,CAAmBtG,IAAnB;AACH;AACJ;AACJ;;AAnlC8B,C,UAKjBgP,S,GAAYlJ,0B,UAMZ+D,S,GAAYA,mB,UAOZoF,iB,GAAoB7L,sB,UAMpBA,Y,GAAeA,sB,UAMdqL,U,GAAa,C,UACbC,U,GAAa,I,gFAc3BQ,mB;;;;;WACiB,IAAIjP,YAAJ,E;;0EACjBiP,mB;;;;;WACiB,IAAI/O,YAAJ,E;;4EACjB+O,mB;;;;;WACmB,IAAIjP,YAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,C;;2EACnBiP,mB;;;;;WACkBC,eAAOC,IAAP,CAAYC,O;;2EAG9BH,mB;;;;;WACkB,IAAIjP,YAAJ,E;;uNAmGlBqP,e,2IAmGAA,e;;AAw1BLnL,wBAAS1B,IAAT,GAAgBA,IAAhB"}