{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/particle/renderer/particle-system-renderer-base.ts"],"names":["ParticleSystemRendererBase","constructor","info","_particleSystem","_model","_renderInfo","_vertAttrs","onInit","ps","onEnable","attachToScene","model","node","transform","enabled","enabledInHierarchy","onDisable","detachFromScene","onDestroy","legacyCC","director","root","destroyModel","scene","_getRenderScene","addModel","removeModel","setVertexAttributes","renderMode","RenderMode","Mesh","mesh","clear","_initModel","createModel","ParticleBatchModel","setCapacity","capacity","visFlags","visibility","updateTrailMaterial","getDefaultTrailMaterial"],"mappings":";;;;;;;AA2BA;;AAIA;;AACA;;;;AAhCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAmCO,MAAeA,0BAAf,CAA6E;AAMhFC,EAAAA,WAAW,CAAEC,IAAF,EAAgC;AAAA,SALjCC,eAKiC,GALV,IAKU;AAAA,SAJjCC,MAIiC,GAJG,IAIH;AAAA,SAHjCC,WAGiC,GAHY,IAGZ;AAAA,SAFjCC,UAEiC,GAFP,EAEO;AACvC,SAAKD,WAAL,GAAmBH,IAAnB;AACH;;AAEMK,EAAAA,MAAM,CAAEC,EAAF,EAAiB;AAC1B,SAAKL,eAAL,GAAuBK,EAAvB;AACH;;AAEMC,EAAAA,QAAQ,GAAI;AACf,QAAI,CAAC,KAAKN,eAAV,EAA2B;AACvB;AACH;;AACD,SAAKO,aAAL;AACA,UAAMC,KAAK,GAAG,KAAKP,MAAnB;;AACA,QAAIO,KAAJ,EAAW;AACPA,MAAAA,KAAK,CAACC,IAAN,GAAaD,KAAK,CAACE,SAAN,GAAkB,KAAKV,eAAL,CAAqBS,IAApD;AACAD,MAAAA,KAAK,CAACG,OAAN,GAAgB,KAAKX,eAAL,CAAqBY,kBAArC;AACH;AACJ;;AAEMC,EAAAA,SAAS,GAAI;AAChB,SAAKC,eAAL;AACH;;AAEMC,EAAAA,SAAS,GAAI;AAChB,QAAI,KAAKd,MAAT,EAAiB;AACbe,8BAASC,QAAT,CAAkBC,IAAlB,CAAuBC,YAAvB,CAAoC,KAAKlB,MAAzC;;AACA,WAAKA,MAAL,GAAc,IAAd;AACH;AACJ;;AAEMM,EAAAA,aAAa,GAAI;AACpB,QAAI,KAAKN,MAAT,EAAiB;AACb,UAAI,KAAKA,MAAL,CAAYmB,KAAhB,EAAuB;AACnB,aAAKN,eAAL;AACH;;AACD,WAAKd,eAAL,CAAqBqB,eAArB,GAAuCC,QAAvC,CAAgD,KAAKrB,MAArD;AACH;AACJ;;AAEMa,EAAAA,eAAe,GAAI;AACtB,QAAI,KAAKb,MAAL,IAAe,KAAKA,MAAL,CAAYmB,KAA/B,EAAsC;AAClC,WAAKnB,MAAL,CAAYmB,KAAZ,CAAkBG,WAAlB,CAA8B,KAAKtB,MAAnC;AACH;AACJ;;AAEMuB,EAAAA,mBAAmB,GAAI;AAC1B,QAAI,KAAKvB,MAAT,EAAiB;AACb,WAAKA,MAAL,CAAYuB,mBAAZ,CAAgC,KAAKtB,WAAL,CAAkBuB,UAAlB,KAAiCC,iBAAWC,IAA5C,GAAmD,KAAKzB,WAAL,CAAkB0B,IAArE,GAA4E,IAA5G,EAAkH,KAAKzB,UAAvH;AACH;AACJ;;AAEM0B,EAAAA,KAAK,GAAI;AACZ,QAAI,KAAK5B,MAAT,EAAiB,KAAKA,MAAL,CAAYU,OAAZ,GAAsB,KAAtB;AACpB;;AAESmB,EAAAA,UAAU,GAAI;AACpB,QAAI,CAAC,KAAK7B,MAAV,EAAkB;AACd,WAAKA,MAAL,GAAce,wBAASC,QAAT,CAAkBC,IAAlB,CAAuBa,WAAvB,CAAmCC,2BAAnC,CAAd;;AACA,WAAK/B,MAAL,CAAagC,WAAb,CAAyB,KAAKjC,eAAL,CAAqBkC,QAA9C;;AACA,WAAKjC,MAAL,CAAakC,QAAb,GAAwB,KAAKnC,eAAL,CAAqBoC,UAA7C;AACH;AACJ;;AAEMC,EAAAA,mBAAmB,GAAI,CAAE;;AACzBC,EAAAA,uBAAuB,GAAI;AAAE,WAAO,IAAP;AAAc;;AAvE8B"}