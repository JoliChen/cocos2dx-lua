{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/tiledmap/tiled-layer.ts"],"names":["_mat4_temp","Mat4","_vec2_temp","Vec2","_vec3_temp","Vec3","_vec3_temp2","_tempRowCol","row","col","TiledUserNodeData","Component","constructor","_index","_row","_col","_tiledLayer","TiledLayer","Renderable2D","cullingRect","_cullingRect","rightTop","_rightTop","layerSize","_layerSize","meshRenderDataArray","_meshRenderDataArray","leftDownToCenterX","_leftDownToCenterX","leftDownToCenterY","_leftDownToCenterY","_userNodeGrid","_userNodeMap","_userNodeDirty","tiledTiles","_viewPort","x","y","width","height","leftDown","_cullingDirty","_layerInfo","_mapInfo","_topOffset","_downOffset","_leftOffset","_rightOffset","tiles","vertices","_verticesDirty","_layerName","_minGID","_maxGID","_layerOrientation","_opacity","_tintColor","texGrids","_textures","_tilesets","_hasTiledNodeGrid","_hasAniGrid","_animations","_enableCulling","colorChanged","_properties","renderOrder","_staggerAxis","_staggerIndex","_hexSideLength","_mapTileSize","_odd_even","_diffX1","_diffY1","_useAutomaticVertexZ","_vertexZvalue","_offset","_meshRenderDataArrayIdx","hasTiledNode","hasAnimation","enableCulling","value","markForUpdateRenderData","addUserNode","node","dataComp","getComponent","addComponent","parent","uuid","_nodeLocalPosToLayerPos","getPosition","_positionToRowCol","_addUserNodeToGrid","_updateCullingOffsetByUserNode","on","SystemEventType","TRANSFORM_CHANGED","_userNodePosChange","SIZE_CHANGED","_userNodeSizeChange","removeUserNode","off","_removeUserNodeFromGrid","_removeComponent","destroy","removeFromParent","destroyUserNode","nodePos","out","getNodesByRowCol","rowData","getNodesCountByRow","count","_updateAllUserNode","dataId","node_","_uiProps","uiTransformComp","contentSize","self","_limitInLayer","index","colData","list","length","rowCol","tempRowCol","push","isUserNodeDirty","setUserNodeDirty","onEnable","ANCHOR_CHANGED","_syncAnchorPoint","updateCulling","scheduleOnce","bind","onDisable","trans","scale","getScale","anchorX","anchorY","onDestroy","getLayerName","setLayerName","layerName","getProperty","propertyName","getPositionAt","pos","undefined","Math","floor","Orientation","ORTHO","_positionForOrthoAt","ISO","_positionForIsoAt","HEX","_positionForHexAt","isInvalidPosition","offsetX","offsetY","gidAndFlags","gid","TileFlag","FLIPPED_MASK","tileset","get","offset","tileOffset","tileWidth","tileHeight","rows","odd_even","StaggerIndex","STAGGERINDEX_ODD","diffX","diffY","StaggerAxis","STAGGERAXIS_Y","STAGGERAXIS_X","setTilesGIDAt","gids","beginCol","beginRow","totalCols","gidsIdx","endCol","_updateTileForGID","setTileGIDAt","flags","ugid","Error","firstGid","idx","oldGIDAndFlags","grid","_updateVertex","getTileGIDAt","tile","getTileFlagsAt","FLIPPED_ALL","setCullingDirty","isCullingDirty","updateViewPort","reserveLine","vpx","vpy","leftDownX","leftDownY","rightTopX","rightTopY","result","maptw","mapth","maptw2","mapth2","diffX2","diffY2","axis","EDITOR","updateWorldTransform","invert","getWorldMatrix","camera","director","root","batcher2D","getFirstRenderCamera","z","screenToWorld","transformMat4","getLayerOrientation","getProperties","layerOrientation","cols","grids","left","bottom","diffX1","diffY1","cullingCol","cullingRow","gridGID","topBorder","downBorder","leftBorder","rightBorder","minCol","maxCol","_tileSize","_updateVertices","getTiledTileAt","forceCreate","Node","TiledTile","_x","_y","_layer","updateInfo","setTiledTileAt","tiledTile","some","tiledNode","getTexture","getTextures","setTexture","texture","setTextures","textures","getLayerSize","getMapTileSize","getTileSet","getTileSets","setTileSet","setTileSets","tilesets","clear","i","sourceImage","l","tilesetInfo","_prepareToRender","init","layerInfo","mapInfo","size","name","properties","minGID","maxGID","opacity","tintColor","getStaggerAxis","getStaggerIndex","getHexSideLength","getTileAnimations","orientation","getTileSize","layerW","layerH","setContentSize","wh","requestMeshRenderData","arr","subNodes","pop","last","renderData","byteCount","MeshRenderData","comb","Object","defineProperty","getRenderMaterial","requestSubNodesData","destroyRenderData","forEach","rd","reset","_flushAssembler","assembler","Assembler","getAssembler","_assembler","createData","_updateColor","_render","ui","m","c","walk","commitComp","_static"],"mappings":"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"}