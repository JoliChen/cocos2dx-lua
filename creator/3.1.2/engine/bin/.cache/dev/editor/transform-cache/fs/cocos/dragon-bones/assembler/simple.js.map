{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/dragon-bones/assembler/simple.ts"],"names":["NEED_COLOR","NEED_BATCH","STRIDE_FLOAT","STRIDE_BYTES","_boneColor","Color","_slotColor","_originColor","_nodeR","_nodeG","_nodeB","_nodeA","_premultipliedAlpha","_multiply","_mustFlush","_buffer","_node","_batcher","_comp","_vfOffset","_indexOffset","_vertexOffset","_vertexCount","_indexCount","_x","_y","_c","Float32Array","_handleVal","_m00","_m04","_m12","_m01","_m05","_m13","_vec3u_temp","Vec3","_getSlotMaterial","tex","blendMode","src","dst","BlendFactor","ONE","SRC_ALPHA","DST_COLOR","ONE_MINUS_SRC_ALPHA","ONE_MINUS_SRC_COLOR","setBlendHash","getMaterialForBlend","_handleColor","color","parentOpacity","_a","a","_r","r","_g","g","_b","b","_intToColor","v","simple","createData","updateRenderData","comp","ui","updateComponentRenderData","updateColor","markForUpdateRenderData","fillBuffers","renderer","meshRenderDataArray","length","dataArray","node","buffer","acquireBufferBatch","floatOffset","byteOffset","indicesOffset","vertexOffset","data","_meshRenderDataArrayIdx","renderData","isRecreate","request","vertexCount","indicesCount","currBufferBatch","vBuf","vData","iBuf","iData","matrix","worldMatrix","srcVBuf","srcVIdx","vertexStart","srcIBuf","set","slice","_enableBatch","i","pOffset","transformMat4","x","y","z","srcIOffset","indicesStart","realTimeTraverse","armature","parentMat","slots","_slots","vbuf","ibuf","material","vertices","indices","slotColor","slot","slotMat","Mat4","l","_color","_visible","_displayData","_mulMat","_worldMatrix","_matrix","copy","childArmature","getTexture","_blendMode","texture","requestMeshRenderData","_localVertices","_indices","rd","reserve","vDataOffset","m00","m04","m12","m01","m05","m13","vi","vl","ii","il","advance","cacheTraverse","frame","segments","colorArray","Uint32Array","frameVFOffset","frameIndexOffset","segVFCount","justTranslate","needBatch","calcTranslate","colorOffset","colors","nowColor","maxVFOffset","vfOffset","n","segInfo","indexCount","vfCount","jj","frameColorOffset","batcher","_armature","destroyRenderData","premultipliedAlpha","nodeColor","_val","worldMat","isAnimationCached","_curFrame","graphics","_debugDraw","debugBones","clear","lineWidth","strokeColor","fillColor","bones","getBones","bone","boneLength","Math","max","boneData","startX","globalTransformMatrix","tx","startY","ty","endX","endY","moveTo","lineTo","stroke","circle","PI","fill","attachUtil","_syncAttachedNode","undefined","legacyCC","internal","DragonBonesAssembler"],"mappings":"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"}