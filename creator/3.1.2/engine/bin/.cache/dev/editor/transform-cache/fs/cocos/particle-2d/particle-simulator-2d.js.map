{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/particle-2d/particle-simulator-2d.ts"],"names":["ZERO_VEC2","Vec2","_pos","_tpa","_tpb","_tpc","formatBytes","vfmtPosUvColor","getWorldRotation","node","rotation","tempNode","eulerAngles","z","parent","Particle","pos","startPos","color","Color","deltaColor","r","g","b","a","size","deltaSize","deltaRotation","timeToLive","drawPos","aspectRatio","dir","radialAccel","tangentialAccel","angle","degreesPerSecond","radius","deltaRadius","ParticlePool","Pool","get","_get","pool","par","set","_val","Simulator","constructor","system","particles","active","uvFilled","finished","readyToPlay","elapsed","emitCounter","_worldRotation","sys","stop","duration","reset","id","length","put","emitParticle","psys","particle","push","life","lifeVar","Math","random","max","x","sourcePos","posVar","y","sr","sg","sb","sa","startColor","startColorVar","endColor","endColorVar","startS","startSize","startSizeVar","endSize","START_SIZE_EQUAL_TO_END_SIZE","endS","endSizeVar","startA","startSpin","startSpinVar","endA","endSpin","endSpinVar","angleVar","emitterMode","EmitterMode","GRAVITY","s","speed","speedVar","cos","sin","multiplyScalar","radialAccelVar","tangentialAccelVar","rotationIsDir","atan2","startRadius","startRadiusVar","endRadius","endRadiusVar","START_RADIUS_EQUAL_TO_END_RADIUS","rotatePerS","rotatePerSVar","updateUVs","force","renderData","_renderSpriteFrame","vbuf","vData","uv","start","particleCount","i","offset","updateParticleBuffer","buffer","width","height","halfWidth","halfHeight","x1","y1","x2","y2","rad","cr","toArray","step","dt","assembler","maxParticleDeltaTime","updateWorldTransform","positionType","PositionType","FREE","m","worldMatrix","m12","m13","RELATIVE","position","emissionRate","rate","totalParticles","stopSystem","requestData","particleIdx","tmp","radial","tangential","normalize","newy","add","gravity","newPos","GROUPED","deadParticle","indicesCount","vertexCount","_finishedSimulation","request","count","iData","vId"],"mappings":"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"}