{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/physics-2d/box2d/rigid-body.ts"],"names":["tempVec3","Vec3","tempVec2_1","b2","Vec2","b2RigidBody2D","_animatedPos","_animatedAngle","_body","_inited","impl","_imp","v","rigidBody","_rigidBody","isAwake","IsAwake","isSleeping","initialize","com","PhysicsSystem2D","instance","_callAfterStep","_init","onDestroy","_destroy","onEnable","setActive","onDisable","_registerNodeEvents","node","on","Node","EventType","TRANSFORM_CHANGED","_onNodeTransformChanged","_unregisterNodeEvents","off","type","stepping","TransformBit","SCALE","colliders","getComponents","Collider2D","i","length","apply","POSITION","syncPositionToPhysics","ROTATION","syncRotationToPhysics","physicsWorld","addBody","removeBody","animate","dt","b2body","b2Pos","GetPosition","SetAwake","timeStep","x","y","SetLinearVelocity","b2Rotation","GetAngle","SetAngularVelocity","enableAnimated","pos","worldPosition","temp","bodyType","ERigidBody2DType","Animated","GetLinearVelocity","PHYSICS_2D_PTM_RATIO","set","SetTransformVec","rotation","eulerAngles","z","resetVelocity","m_linearVelocity","Set","setType","SetType","setLinearDamping","SetLinearDamping","setAngularDamping","SetAngularDamping","setGravityScale","SetGravityScale","setFixedRotation","SetFixedRotation","setAllowSleep","SetSleepingAllowed","isActive","IsActive","SetActive","wakeUp","sleep","getMass","GetMass","setLinearVelocity","getLinearVelocity","out","velocity","getLinearVelocityFromWorldPoint","worldPoint","GetLinearVelocityFromWorldPoint","setAngularVelocity","getAngularVelocity","GetAngularVelocity","getLocalVector","worldVector","GetLocalVector","getWorldVector","localVector","GetWorldVector","getLocalPoint","GetLocalPoint","getWorldPoint","localPoint","GetWorldPoint","getLocalCenter","GetLocalCenter","getWorldCenter","GetWorldCenter","getInertia","GetInertia","applyForce","force","point","wake","ApplyForce","applyForceToCenter","ApplyForceToCenter","applyTorque","torque","ApplyTorque","applyLinearImpulse","impulse","ApplyLinearImpulse","applyLinearImpulseToCenter","applyAngularImpulse","ApplyAngularImpulse"],"mappings":"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"}