{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/game.ts"],"names":["Game","EventTarget","frame","container","canvas","renderType","eventTargetOn","on","eventTargetOnce","once","config","onStart","collisionMatrix","groupList","_persistRootNodes","_paused","_configLoaded","_isCloning","_inited","_engineInited","_rendererInitialized","_gfxDevice","_intervalId","inited","frameTime","_frameTime","setFrameRate","frameRate","parseInt","Number","isNaN","_setAnimFrame","_runMainLoop","getFrameRate","step","legacyCC","director","mainLoop","pause","window","cAF","resume","isPaused","restart","afterDrawPromise","Promise","resolve","Director","EVENT_AFTER_DRAW","then","id","removePersistRootNode","getScene","destroy","Object","_deferredDestroy","reset","_setRenderPipelineNShowSplash","_safeEmit","EVENT_RESTART","end","close","type","callback","target","EVENT_ENGINE_INITED","EVENT_GAME_INITED","EVENT_RENDERER_INITED","call","init","_initConfig","assetOptions","assetManager","_initEngine","EDITOR","_initEvents","root","dataPoolManager","jointTexturePool","registerCustomTextureLayouts","customJointTextureLayouts","run","configOrCallback","initPromise","game","registerSystemEvent","inputManager","addPersistRootNode","node","Node","isNode","uuid","debug","warnID","scene","_scene","isValid","parent","Scene","_originalSceneId","_persistNode","_releaseManager","_addPersistNodeRef","_removePersistNodeRef","isPersistRootNode","_initDevice","_init","log","VERSION","emit","internal","dynamicAtlasManager","enabled","macro","CLEANUP_IMAGE_CACHE","_lastTime","performance","now","JSB","jsb","setPreferredFramesPerSecond","rAF","requestAnimationFrame","cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","_stTimeWithRAF","_stTime","_ctTime","cancelRequestAnimationFrame","msCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","webkitCancelRequestAnimationFrame","msCancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","ocancelAnimationFrame","currTime","elapseTime","Math","max","timeToCall","setTimeout","clearTimeout","GAME_VIEW","setDisplayStats","showFPS","startAnimation","RUNTIME_BASED","skip","time","debugMode","DebugMode","NONE","exposeClassName","renderMode","_resetDebugSetting","_determineRenderType","userRenderMode","RENDER_TYPE_CANVAS","supportRender","sys","capabilities","opengl","RENDER_TYPE_WEBGL","Error","getError","adapter","ctors","gfx","deviceInstance","useWebGL2","WebGL2RenderingContext","userAgent","navigator","toLowerCase","indexOf","system","browserType","BrowserType","UC","WebGL2Device","push","WebGLDevice","opts","DeviceInfo","ENABLE_WEBGL_ANTIALIAS","devicePixelRatio","windowPixelResolution","width","height","bindingMappingInfo","i","length","initialize","error","oncontextmenu","onShow","_onShow","bind","onHide","_onHide","EVENT_HIDE","EVENT_SHOW","_setupRenderPipeline","_showSplashScreen","renderPipeline","_setRenderPipeline","reject","loadAny","err","asset","RenderPipeline","catch","reason","warn","PREVIEW","SplashScreen","splashScreen","instance","main","setOnFinish","loadFinish","rppl","setRenderPipeline","event","e","EVENT_LOW_MEMORY","RENDER_TYPE_OPENGL"],"mappings":"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"}