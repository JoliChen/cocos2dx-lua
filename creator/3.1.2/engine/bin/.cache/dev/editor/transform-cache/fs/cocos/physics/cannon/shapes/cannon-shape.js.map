{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/physics/cannon/shapes/cannon-shape.ts"],"names":["TriggerEventObject","type","selfCollider","otherCollider","impl","cannonQuat_0","CANNON","Quaternion","cannonVec3_0","Vec3","cannonVec3_1","CannonShape","_offset","_orient","_index","onTriggerListener","_onTrigger","bind","_isBinding","updateEventListener","_shape","collider","_collider","attachedRigidBody","_sharedBody","wrappedBody","rigidBody","sharedBody","setMaterial","mat","material","idToMaterial","id","Material","smat","friction","restitution","coef","CC_CONFIG","correctInelastic","setAsTrigger","v","collisionResponse","_body","updateHasTrigger","setCenter","_setCenter","setAttachedBody","body","reference","PhysicsSystem","instance","physicsWorld","getSharedBody","node","getAABB","Quat","copy","worldRotation","calculateWorldAABB","ZERO","subtract","halfExtents","multiplyScalar","add","center","worldPosition","getBoundingSphere","radius","boundingSphereRadius","initialize","comp","onComponentSet","addEventListener","onLoad","sharedMaterial","isTrigger","onEnable","addShape","enabled","onDisable","removeShape","onDestroy","removeEventListener","World","idToShapeMap","getGroup","collisionFilterGroup","setGroup","isAwake","wakeUp","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask","setScale","scale","setIndex","index","setOffsetAndOrient","offset","orient","lpos","multiply","worldScale","event","self","selfShape","other","otherShape","needTriggerEvent","emit"],"mappings":"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"}