{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/ui/widget-manager.ts"],"names":["_tempPos","Vec3","_defaultAnchor","Vec2","tInverseTranslate","tInverseScale","_tempVec2_1","_tempVec2_2","align","node","widget","_hadAlignOnce","EDITOR","alignMode","AlignMode","ONCE","hasTarget","target","inverseTranslate","inverseScale","parent","targetSize","useGlobal","Scene","getComponent","UITransform","targetAnchor","anchorPoint","isRoot","getPosition","uiTrans","_uiProps","uiTransformComp","x","y","anchor","scale","getScale","alignFlags","AlignFlags","HORIZONTAL","localLeft","localRight","targetWidth","width","visibleRect","left","right","isAbsoluteLeft","isAbsoluteRight","anchorX","scaleX","isStretchWidth","isAlignHorizontalCenter","localHorizontalCenter","isAbsoluteHorizontalCenter","horizontalCenter","targetCenter","isAlignLeft","_lastSize","VERTICAL","localTop","localBottom","targetHeight","height","bottom","top","isAbsoluteBottom","isAbsoluteTop","anchorY","scaleY","isStretchHeight","isAlignVerticalCenter","localVerticalCenter","isAbsoluteVerticalCenter","verticalCenter","targetMiddle","isAlignBottom","setPosition","z","set","_lastPos","visitNode","Widget","enabled","DEV","_validateTargetInDEV","legacyCC","isValid","activeWidgets","push","children","child","active","refreshScene","scene","director","getScene","widgetManager","isAligning","_nodesOrderDirty","length","i","iterator","_activeWidgetsIterator","_dirty","animationState","animatedSinceLastFrame","updateAlignment","Node","isNode","_widgetManager","array","MutableForwardIterator","previewing","time","init","on","Director","EVENT_AFTER_UPDATE","View","instance","onResized","thisOnResized","bind","system","onOrientationChange","add","remove","refreshWidgetOnResized","ON_WINDOW_RESIZE","ALWAYS","setDirty","updateOffsetsToStayPut","e","t","c","Math","abs","widgetNode","widgetParent","zero","one","parentTrans","parentAP","trans","matchSize","myAP","pos","widgetNodeScale","temp","LEFT","l","RIGHT","r","TOP","BOT","b","EVENT_INIT"],"mappings":"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"}