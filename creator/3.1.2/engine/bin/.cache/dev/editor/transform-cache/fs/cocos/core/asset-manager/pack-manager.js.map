{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/asset-manager/pack-manager.ts"],"names":["PackManager","_loading","Cache","_unpackers","unpackJson","pack","json","options","onComplete","out","js","createMap","err","Array","isArray","length","i","textureType","_getClassId","Texture2D","imageAssetType","ImageAsset","type","data","datas","base","mipmaps","Error","init","clear","register","handler","mixin","unpack","unpacker","load","item","isNative","info","packs","downloader","download","id","url","ext","files","has","get","find","val","uuid","push","add","bundle","config","name","remove","message","stack","packedUuids","err2","result","callbacks","l","cb","unpackedData"],"mappings":"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"}