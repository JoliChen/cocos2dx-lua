{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/animation/animation-state.ts"],"names":["EventType","ICurveInstance","constructor","runtimeCurve","target","boundTarget","commonTargetIndex","_curve","_boundTarget","_curveDetail","curve","_shouldLerp","hasLerp","applySample","ratio","index","inBetween","samplerResultCache","weight","value","valueAt","valueBetween","from","fromRatio","to","toRatio","_setValue","setValue","propertyName","curveDetail","makeSamplerSharedGroup","sampler","curves","InvalidIndex","AnimationState","Playable","clip","_clip","name","_name","length","duration","wrapMode","_wrapMode","EDITOR","legacyCC","GAME_VIEW","time","WrapModeMask","Loop","repeatCount","Infinity","_repeatCount","shouldWrap","ShouldWrap","reverse","Reverse","_useSimpleProcess","delay","_delay","_delayTime","playbackRange","_playbackRange","max","min","Math","_playbackDuration","setTime","current","getWrappedInfo","_weight","_blendStateWriterHost","speed","frameRate","_targetNode","_curveLoaded","_samplerSharedGroups","_target","_ignoreIndex","_commonTargetStatuses","WrapMode","Normal","_currentFramePlayed","_lastIterations","NaN","_lastWrapInfo","_lastWrapInfoEvent","_wrappedInfo","WrappedInfo","_blendStateBuffer","_blendStateWriters","_allowLastFrame","_invDuration","_clipHasEvent","curveLoaded","initialize","root","propertyCurves","_destroyBlendStateWriters","director","getAnimationManager","blendState","sample","hasEvents","createBoundTargetOptimized","rootTarget","path","valueAdapter","isConstant","enableTrsBlending","isTargetingTRS","targetNode","slice","Node","blendStateWriter","createWriter","push","commonTargets","map","commonTarget","modifiers","changed","getPropertyCurves","iPropertyCurve","propertyCurve","empty","samplerSharedGroup","find","commonTargetStatus","peek","constant","curveInstance","destroy","emit","args","pushDelayEvent","_emit","on","type","callback","isValid","once","off","allowLastFrameEvent","allowed","_setEventTarget","info","direction","frameIndex","getEventGroupIndexAtRatio","update","delta","_process","_sampleCurves","_sampleEvents","onPlay","_onReplayOrResume","PLAY","onStop","isPaused","_onPauseOrStop","STOP","onResume","RESUME","onPause","PAUSE","commonTargetStatuses","iCommonTarget","pull","samplerSharedGroups","forEach","lerpRequired","ratios","iCurveInstance","szCurves","simpleProcess","process","lastInfo","iterations","LASTFRAME","set","stopped","stop","FINISHED","playbackStart","playbackDuration","Number","isNaN","cache","frames","_needReverse","currentIterations","needReverse","PingPong","isEnd","isOddIteration","_getPlaybackStart","playbackEnd","_getPlaybackEnd","tempRatio","tempTime","wrapInfo","eventGroups","eventIndex","_fireEvent","wrapIterations","lastWrappedInfo","lastIterations","lastIndex","lastDirection","iterationsChanged","state","eventGroup","components","event","events","functionName","component","fx","apply","parameters","addAnimation","removeAnimation","iBlendStateWriter","destroyWriter","prs","i","HierarchyPath"],"mappings":"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"}