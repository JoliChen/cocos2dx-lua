{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/particle/renderer/trail.ts"],"names":["PRE_TRIANGLE_INDEX","NEXT_TRIANGLE_INDEX","DIRECTION_THRESHOLD","Math","cos","_temp_trailEle","position","Vec3","velocity","_temp_quat","Quat","_temp_xform","Mat4","_temp_vec3","_temp_vec3_1","_temp_color","Color","TrailSegment","constructor","maxTrailElementNum","start","end","trailElements","push","lifetime","width","direction","color","getElement","idx","length","addElement","splice","newEleLoc","iterateElement","target","f","p","dt","i","count","clear","TrailModule","TrailMode","CurveRange","Space","TextureMode","GradientRange","enable","_enable","val","_trailModel","_particleSystem","processor","updateTrailMaterial","_createModel","rebuild","enabled","onEnable","onDisable","minParticleDistance","_minParticleDistance","_minSquaredDistance","space","_space","ps","_vertSize","_trailNum","_trailLifetime","vbOffset","ibOffset","_trailSegments","_particleTrail","_iaInfo","_iaInfoBuffer","_subMeshData","_vertAttrs","_vbF32","_vbUint32","_iBuffer","_needTransform","_material","IndirectBuffer","DrawInfo","Attribute","AttributeName","ATTR_POSITION","Format","RGB32F","ATTR_TEX_COORD","RGBA32F","ATTR_TEX_COORD1","ATTR_COLOR","RGBA8","a","FormatInfos","format","size","Map","onInit","burstCount","psTime","startLifetime","getMax","psRate","rateOverTime","duration","len","bursts","b","getMaxCount","ceil","lifeTime","Pool","_attachToScene","_detachFromScene","scene","_getRenderScene","addModel","removeModel","destroy","destroySubMeshData","director","root","destroyModel","obj","play","trailIter","values","trail","next","done","value","updateRenderData","updateMaterial","getMaterialInstance","_defaultTrailMat","setSubModelMaterial","update","evaluate","_time","World","_simulationSpace","Local","node","getWorldMatrix","getWorldRotation","animate","scaledDt","get","alloc","set","lastSeg","transformMat4","copy","_updateTrailElement","squaredDistance","widthFromParticle","x","widthRatio","trailNum","lastSecondTrail","subtract","lastThirdTrail","equals","ZERO","normalize","_checkDirectionReverse","colorFromParticle","colorOvertime","removeParticle","free","delete","keys","trailSeg","indexOffset","textCoordSeg","startSegEle","_fillVertexBuffer","colorOverTrail","segEle","j","y","z","updateIA","subModels","subModel","inputAssembler","vertexBuffers","indexBuffer","drawInfos","firstIndex","indexCount","beforeRender","legacyCC","createModel","Model","device","vertexBuffer","createBuffer","BufferInfo","BufferUsageBit","VERTEX","TRANSFER_DST","MemoryUsageBit","HOST","DEVICE","vBuffer","ArrayBuffer","Float32Array","Uint32Array","INDEX","Uint16Array","BYTES_PER_ELEMENT","INDIRECT","DRAW_INFO_SIZE","vertexCount","RenderingSubMesh","PrimitiveMode","TRIANGLE_LIST","trailModel","transform","visFlags","visibility","initSubModel","module","trailEle","multiply","remainingLifetime","colorModifer","xTexCoord","trailEleIdx","indexSet","_val","currElement","prevElement","dot","serializable","Particles","Stretch"],"mappings":"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"}