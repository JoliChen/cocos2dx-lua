{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/primitive/capsule.ts"],"names":["temp1","Vec3","temp2","capsule","radiusTop","radiusBottom","height","opts","torsoHeight","sides","heightSegments","bottomProp","torProp","topProp","bottomSegments","Math","floor","topSegments","torSegments","topOffset","torOffset","bottomOffset","arc","PI","positions","normals","uvs","indices","maxRadius","max","minPos","maxPos","boundingRadius","index","indexArray","generateBottom","generateTorso","generateTop","slope","y","indexRow","lat","radius","x","u","v","theta","sinTheta","sin","cosTheta","cos","push","normalize","set","z","i1","i2","i3","i4","lon","phi","sinPhi","cosPhi","seg1","a","b","c","d"],"mappings":"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"}