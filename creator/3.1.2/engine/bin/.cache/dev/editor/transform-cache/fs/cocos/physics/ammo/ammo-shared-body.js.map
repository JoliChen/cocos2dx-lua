{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/physics/ammo/ammo-shared-body.ts"],"names":["v3_0","CC_V3_0","quat_0","CC_QUAT_0","sharedIDCounter","AmmoSharedBody","getSharedBody","node","wrappedWorld","wrappedBody","key","uuid","newSB","sharedBodesMap","has","get","g","PhysicsGroup","DEFAULT","m","PhysicsSystem","instance","collisionMatrix","_collisionFilterGroup","_collisionFilterMask","set","_wrappedBody","rigidBody","_group","bodyCompoundShape","bodyStruct","shape","ghostCompoundShape","ghostStruct","body","ghost","collisionFilterGroup","v","dirty","EAmmoSharedBodyDirty","BODY_RE_ADD","GHOST_RE_ADD","collisionFilterMask","_instantiateBodyStruct","_bodyStruct","_instantiateGhostStruct","_ghostStruct","bodyEnabled","bodyIndex","wrappedShapes","length","isDynamic","bodies","addSharedBody","syncInitialBody","isRemoveBody","isEnabled","enabledInHierarchy","clearState","removeSharedBody","ghostEnabled","ghostIndex","addGhostObject","syncInitialGhost","isRemoveGhost","removeGhostObject","reference","ref","destroy","constructor","id","wrappedJoints0","wrappedJoints1","idCounter","st","Ammo","btTransform","setIdentity","getOrigin","worldPosition","bodyQuat","btQuaternion","worldRotation","setRotation","motionState","btDefaultMotionState","localInertia","btVector3","bodyShape","btCompoundShape","mass","enabled","setValue","rbInfo","btRigidBodyConstructionInfo","AmmoConstant","EMPTY_SHAPE","btRigidBody","sleepTd","sleepThreshold","setSleepingThresholds","startTransform","worldQuat","useCompound","AmmoInstance","bodyStructs","setUserIndex2","setUserIndex","CC_CONFIG","ignoreSelfBody","setIgnoreCollisionCheck","setBodyType","type","btCollisionObject","ghostShape","setCollisionShape","setCollisionFlags","AmmoCollisionFlags","CF_STATIC_OBJECT","CF_NO_CONTACT_RESPONSE","ghostStructs","setGhostType","setType","wrap","com","m_bcf","getCollisionFlags","VECTOR3_0","ERigidBodyType","DYNAMIC","CF_KINEMATIC_OBJECT","setMass","useGravity","setAllowSleep","allowSleep","KINEMATIC","setMassProps","forceActivationState","AmmoCollisionObjectStates","DISABLE_DEACTIVATION","STATIC","ISLAND_SLEEPING","m_gcf","addShape","isTrigger","switchShape","that","index","indexOf","push","setCompound","l","needCompound","impl","i","childShape","removeShape","activate","addJoint","removeJoint","updateDirty","updateBodyByReAdd","updateGhostByReAdd","syncSceneToPhysics","hasChangedFlags","wt","getWorldTransform","TransformBit","SCALE","syncBodyScale","isKinematicObject","ms","getMotionState","setWorldTransform","isBodySleeping","syncPhysicsToScene","isStaticOrKinematicObject","wt0","getBasis","getRotation","wt1","syncSceneToGhost","syncGhostScale","setScale","updateScale0","updateScale1","ghosts","delete","btCollisionShape","castObject","wrapped","state","getActivationState","Map"],"mappings":";;;;;;;AA0BA;;AACA;;AAKA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;;;AAxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAiBA;AACA;AACA;AACA;AAEA,MAAMA,IAAI,GAAGC,kBAAb;AACA,MAAMC,MAAM,GAAGC,oBAAf;AACA,IAAIC,eAAe,GAAG,CAAtB;AAEA;AACA;AACA;AACA;AACA;;AACO,MAAMC,cAAN,CAAqB;AAIJ,SAAbC,aAAa,CAAEC,IAAF,EAAcC,YAAd,EAAuCC,WAAvC,EAAoE;AACpF,UAAMC,GAAG,GAAGH,IAAI,CAACI,IAAjB;AACA,QAAIC,KAAJ;;AACA,QAAIP,cAAc,CAACQ,cAAf,CAA8BC,GAA9B,CAAkCJ,GAAlC,CAAJ,EAA4C;AACxCE,MAAAA,KAAK,GAAGP,cAAc,CAACQ,cAAf,CAA8BE,GAA9B,CAAkCL,GAAlC,CAAR;AACH,KAFD,MAEO;AACHE,MAAAA,KAAK,GAAG,IAAIP,cAAJ,CAAmBE,IAAnB,EAAyBC,YAAzB,CAAR;AACA,YAAMQ,CAAC,GAAGC,0BAAaC,OAAvB;AACA,YAAMC,CAAC,GAAGC,qBAAcC,QAAd,CAAuBC,eAAvB,CAAuCN,CAAvC,CAAV;AACAJ,MAAAA,KAAK,CAACW,qBAAN,GAA8BP,CAA9B;AACAJ,MAAAA,KAAK,CAACY,oBAAN,GAA6BL,CAA7B;AACAd,MAAAA,cAAc,CAACQ,cAAf,CAA8BY,GAA9B,CAAkClB,IAAI,CAACI,IAAvC,EAA6CC,KAA7C;AACH;;AACD,QAAIH,WAAJ,EAAiB;AACbG,MAAAA,KAAK,CAACc,YAAN,GAAqBjB,WAArB;AACA,YAAMO,CAAC,GAAIP,WAAW,CAACkB,SAAb,CAA+BC,MAAzC;AACA,YAAMT,CAAC,GAAGC,qBAAcC,QAAd,CAAuBC,eAAvB,CAAuCN,CAAvC,CAAV;AACAJ,MAAAA,KAAK,CAACW,qBAAN,GAA8BP,CAA9B;AACAJ,MAAAA,KAAK,CAACY,oBAAN,GAA6BL,CAA7B;AACH;;AACD,WAAOP,KAAP;AACH;;AAEc,MAAXH,WAAW,GAAI;AACf,WAAO,KAAKiB,YAAZ;AACH;;AAEoB,MAAjBG,iBAAiB,GAAI;AACrB,WAAO,KAAKC,UAAL,CAAgBC,KAAvB;AACH;;AAEqB,MAAlBC,kBAAkB,GAAI;AACtB,WAAO,KAAKC,WAAL,CAAiBF,KAAxB;AACH;;AAEO,MAAJG,IAAI,GAAI;AACR,WAAO,KAAKJ,UAAL,CAAgBI,IAAvB;AACH;;AAEQ,MAALC,KAAK,GAAI;AACT,WAAO,KAAKF,WAAL,CAAiBE,KAAxB;AACH;;AAEuB,MAApBC,oBAAoB,GAAI;AAAE,WAAO,KAAKb,qBAAZ;AAAoC;;AAC1C,MAApBa,oBAAoB,CAAEC,CAAF,EAAa;AACjC,QAAIA,CAAC,KAAK,KAAKd,qBAAf,EAAsC;AAClC,WAAKA,qBAAL,GAA6Bc,CAA7B;AACA,WAAKC,KAAL,IAAcC,+BAAqBC,WAAnC;AACA,WAAKF,KAAL,IAAcC,+BAAqBE,YAAnC;AACH;AACJ;;AAEsB,MAAnBC,mBAAmB,GAAI;AAAE,WAAO,KAAKlB,oBAAZ;AAAmC;;AACzC,MAAnBkB,mBAAmB,CAAEL,CAAF,EAAa;AAChC,QAAIA,CAAC,KAAK,KAAKb,oBAAf,EAAqC;AACjC,WAAKA,oBAAL,GAA4Ba,CAA5B;AACA,WAAKC,KAAL,IAAcC,+BAAqBC,WAAnC;AACA,WAAKF,KAAL,IAAcC,+BAAqBE,YAAnC;AACH;AACJ;;AAEa,MAAVX,UAAU,GAAI;AACd,SAAKa,sBAAL;;AACA,WAAO,KAAKC,WAAZ;AACH;;AAEc,MAAXX,WAAW,GAAI;AACf,SAAKY,uBAAL;;AACA,WAAO,KAAKC,YAAZ;AACH;;AAmBD;AACJ;AACA;AACA;AACA;AACmB,MAAXC,WAAW,CAAEV,CAAF,EAAc;AACzB,QAAIA,CAAJ,EAAO;AACH,UAAI,KAAKW,SAAL,GAAiB,CAArB,EAAwB;AACpB;AACA,YAAI,KAAKlB,UAAL,CAAgBmB,aAAhB,CAA8BC,MAA9B,KAAyC,CAA7C,EAAgD;AAC5C,cAAI,CAAC,KAAKzC,WAAV,EAAuB;AACvB,cAAI,CAAC,KAAKA,WAAL,CAAiBkB,SAAjB,CAA2BwB,SAAhC,EAA2C;AAC9C;;AACD,aAAKH,SAAL,GAAiB,KAAKxC,YAAL,CAAkB4C,MAAlB,CAAyBF,MAA1C;AACA,aAAK1C,YAAL,CAAkB6C,aAAlB,CAAgC,IAAhC;AACA,aAAKC,eAAL;AACH;AACJ,KAXD,MAWO,IAAI,KAAKN,SAAL,IAAkB,CAAtB,EAAyB;AAC5B,YAAMO,YAAY,GAAI,KAAKzB,UAAL,CAAgBmB,aAAhB,CAA8BC,MAA9B,KAAyC,CAAzC,IAA8C,KAAKzC,WAAL,IAAoB,IAAnE,IACb,KAAKqB,UAAL,CAAgBmB,aAAhB,CAA8BC,MAA9B,KAAyC,CAAzC,IAA8C,KAAKzC,WAAL,IAAoB,IAAlE,IAA0E,CAAC,KAAKA,WAAL,CAAiB+C,SAD/E,IAEb,KAAK1B,UAAL,CAAgBmB,aAAhB,CAA8BC,MAA9B,KAAyC,CAAzC,IAA8C,KAAKzC,WAAL,IAAoB,IAAlE,IAA0E,CAAC,KAAKA,WAAL,CAAiBkB,SAAjB,CAA2B8B,kBAF9G;;AAIA,UAAIF,YAAJ,EAAkB;AACd,aAAKrB,IAAL,CAAUwB,UAAV,GADc,CACU;;AACxB,aAAKV,SAAL,GAAiB,CAAC,CAAlB;AACA,aAAKxC,YAAL,CAAkBmD,gBAAlB,CAAmC,IAAnC;AACH;AACJ;AACJ;;AAEe,MAAZC,YAAY,CAAEvB,CAAF,EAAc;AAC1B,QAAIA,CAAJ,EAAO;AACH,UAAI,KAAKwB,UAAL,GAAkB,CAAlB,IAAuB,KAAK5B,WAAL,CAAiBgB,aAAjB,CAA+BC,MAA/B,GAAwC,CAAnE,EAAsE;AAClE,aAAKW,UAAL,GAAkB,CAAlB;AACA,aAAKrD,YAAL,CAAkBsD,cAAlB,CAAiC,IAAjC;AACA,aAAKC,gBAAL;AACH;AACJ,KAND,MAMO,IAAI,KAAKF,UAAL,IAAmB,CAAvB,EAA0B;AAC7B;AACA,YAAMG,aAAa,GAAI,KAAK/B,WAAL,CAAiBgB,aAAjB,CAA+BC,MAA/B,KAA0C,CAA1C,IAA+C,KAAKf,KAA3E;;AAEA,UAAI6B,aAAJ,EAAmB;AACf,aAAKH,UAAL,GAAkB,CAAC,CAAnB;AACA,aAAKrD,YAAL,CAAkByD,iBAAlB,CAAoC,IAApC;AACH;AACJ;AACJ;;AAEY,MAATC,SAAS,CAAE7B,CAAF,EAAc;AACvB;AACAA,IAAAA,CAAC,GAAG,KAAK8B,GAAL,EAAH,GAAgB,KAAKA,GAAL,EAAjB;;AACA,QAAI,KAAKA,GAAL,KAAa,CAAjB,EAAoB;AAAE,WAAKC,OAAL;AAAiB;AAC1C;;AAEOC,EAAAA,WAAW,CAAE9D,IAAF,EAAcC,YAAd,EAAuC;AAAA,SAvEjD8D,EAuEiD;AAAA,SAtEjD/D,IAsEiD;AAAA,SArEjDC,YAqEiD;AAAA,SApEjD+D,cAoEiD,GApEd,EAoEc;AAAA,SAnEjDC,cAmEiD,GAnEd,EAmEc;AAAA,SAlE1DlC,KAkE0D,GAlE5B,CAkE4B;AAAA,SAhElDf,qBAgEkD,GAhElBH,qBAAcH,YAAd,CAA2BC,OAgET;AAAA,SA/DlDM,oBA+DkD,GA/D3B,CAAC,CA+D0B;AAAA,SA7DlD2C,GA6DkD,GA7D5C,CA6D4C;AAAA,SA5DlDnB,SA4DkD,GA5DtC,CAAC,CA4DqC;AAAA,SA3DlDa,UA2DkD,GA3DrC,CAAC,CA2DoC;AAAA,SAxDlDnC,YAwDkD,GAxDb,IAwDa;AACtD,SAAK4C,EAAL,GAAUjE,cAAc,CAACoE,SAAf,EAAV;AACA,SAAKjE,YAAL,GAAoBA,YAApB;AACA,SAAKD,IAAL,GAAYA,IAAZ;AACH;;AAEOoC,EAAAA,sBAAsB,GAAI;AAC9B,QAAI,KAAKC,WAAT,EAAsB;AACtB;;AACA,UAAM8B,EAAE,GAAG,IAAIC,0BAAKC,WAAT,EAAX;AACAF,IAAAA,EAAE,CAACG,WAAH;AACA,kCAAeH,EAAE,CAACI,SAAH,EAAf,EAA+B,KAAKvE,IAAL,CAAUwE,aAAzC;AACA,UAAMC,QAAQ,GAAG,IAAIL,0BAAKM,YAAT,EAAjB;AACA,kCAAeD,QAAf,EAAyB,KAAKzE,IAAL,CAAU2E,aAAnC;AACAR,IAAAA,EAAE,CAACS,WAAH,CAAeH,QAAf;AACA,UAAMI,WAAW,GAAG,IAAIT,0BAAKU,oBAAT,CAA8BX,EAA9B,CAApB;AACA,UAAMY,YAAY,GAAG,IAAIX,0BAAKY,SAAT,CAAmB,kBAAnB,EAAuC,kBAAvC,EAA2D,kBAA3D,CAArB;AACA,UAAMC,SAAS,GAAG,IAAIb,0BAAKc,eAAT,EAAlB;AACA,QAAIC,IAAI,GAAG,CAAX;;AACA,QAAI,KAAKhE,YAAL,IAAqB,KAAKA,YAAL,CAAkBC,SAAlB,CAA4BgE,OAAjD,IAA4D,KAAKjE,YAAL,CAAkBC,SAAlB,CAA4BwB,SAA5F,EAAuG;AACnGuC,MAAAA,IAAI,GAAG,KAAKhE,YAAL,CAAkBC,SAAlB,CAA4B+D,IAAnC;AACH;;AACD,QAAIA,IAAI,KAAK,CAAb,EAAgBJ,YAAY,CAACM,QAAb,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B;AAChB,UAAMC,MAAM,GAAG,IAAIlB,0BAAKmB,2BAAT,CAAqCJ,IAArC,EAA2CN,WAA3C,EAAwDW,wBAAa1E,QAAb,CAAsB2E,WAA9E,EAA2FV,YAA3F,CAAf;AACA,UAAMpD,IAAI,GAAG,IAAIyC,0BAAKsB,WAAT,CAAqBJ,MAArB,CAAb;AACA,UAAMK,OAAO,GAAG9E,qBAAcC,QAAd,CAAuB8E,cAAvC;AACAjE,IAAAA,IAAI,CAACkE,qBAAL,CAA2BF,OAA3B,EAAoCA,OAApC;AACA,SAAKtD,WAAL,GAAmB;AACf0B,MAAAA,EAAE,EAAElE,eAAe,EADJ;AAEf8B,MAAAA,IAFe;AAGfoD,MAAAA,YAHe;AAIfF,MAAAA,WAJe;AAKfiB,MAAAA,cAAc,EAAE3B,EALD;AAMf3C,MAAAA,KAAK,EAAEyD,SANQ;AAOfK,MAAAA,MAPe;AAQfS,MAAAA,SAAS,EAAEtB,QARI;AASf/B,MAAAA,aAAa,EAAE,EATA;AAUfsD,MAAAA,WAAW,EAAE;AAVE,KAAnB;AAYAC,+BAAaC,WAAb,CAAyB,KAAK7D,WAAL,CAAiB0B,EAA1C,IAAgD,KAAK1B,WAArD;AACA,SAAKV,IAAL,CAAUwE,aAAV,CAAwB,CAAxB;AACA,SAAKxE,IAAL,CAAUyE,YAAV,CAAuB,KAAK/D,WAAL,CAAiB0B,EAAxC;AACA,QAAKK,yBAAD,CAAciC,SAAd,CAAwBC,cAAxB,IAA0C,KAAK/D,YAAnD,EAAiE,KAAKX,KAAL,CAAW2E,uBAAX,CAAmC,KAAK5E,IAAxC,EAA8C,IAA9C;AACjE,QAAI,KAAKzB,WAAT,EAAsB,KAAKsG,WAAL,CAAiB,KAAKtG,WAAL,CAAiBkB,SAAjB,CAA2BqF,IAA5C;AACzB;;AAEOnE,EAAAA,uBAAuB,GAAI;AAC/B,QAAI,KAAKC,YAAT,EAAuB;AACvB;;AACA,UAAMX,KAAK,GAAG,IAAIwC,0BAAKsC,iBAAT,EAAd;AACA,UAAMC,UAAU,GAAG,IAAIvC,0BAAKc,eAAT,EAAnB;AACAtD,IAAAA,KAAK,CAACgF,iBAAN,CAAwBD,UAAxB;AACA/E,IAAAA,KAAK,CAACiF,iBAAN,CAAwBC,6BAAmBC,gBAAnB,GAAsCD,6BAAmBE,sBAAjF;AACA,SAAKzE,YAAL,GAAoB;AAChBwB,MAAAA,EAAE,EAAElE,eAAe,EADH;AAEhB+B,MAAAA,KAFgB;AAGhBJ,MAAAA,KAAK,EAAEmF,UAHS;AAIhBZ,MAAAA,SAAS,EAAE,IAAI3B,0BAAKM,YAAT,EAJK;AAKhBhC,MAAAA,aAAa,EAAE;AALC,KAApB;AAOAuD,+BAAagB,YAAb,CAA0B,KAAK1E,YAAL,CAAkBwB,EAA5C,IAAkD,KAAKxB,YAAvD;AACA,SAAKX,KAAL,CAAWuE,aAAX,CAAyB,CAAzB;AACA,SAAKvE,KAAL,CAAWwE,YAAX,CAAwB,KAAK7D,YAAL,CAAkBwB,EAA1C;AACA,QAAKK,yBAAD,CAAciC,SAAd,CAAwBC,cAAxB,IAA0C,KAAKjE,WAAnD,EAAgE,KAAKT,KAAL,CAAW2E,uBAAX,CAAmC,KAAK5E,IAAxC,EAA8C,IAA9C;AAChE,QAAI,KAAKzB,WAAT,EAAsB,KAAKgH,YAAL,CAAkB,KAAKhH,WAAL,CAAiBkB,SAAjB,CAA2BqF,IAA7C;AACzB;;AAEDU,EAAAA,OAAO,CAAErF,CAAF,EAAoB;AACvB,SAAK0E,WAAL,CAAiB1E,CAAjB;AACA,SAAKoF,YAAL,CAAkBpF,CAAlB;AACH;;AAED0E,EAAAA,WAAW,CAAE1E,CAAF,EAAoB;AAC3B,QAAI,KAAKO,WAAL,IAAoB,KAAKlB,YAA7B,EAA2C;AACvC,YAAMQ,IAAI,GAAG,KAAKU,WAAL,CAAiBV,IAA9B;AACA,YAAMyF,IAAI,GAAG,KAAKjG,YAAlB;AACA,YAAMkG,GAAG,GAAGD,IAAI,CAAChG,SAAjB;AACA,UAAIkG,KAAK,GAAG3F,IAAI,CAAC4F,iBAAL,EAAZ;AACA,YAAMxC,YAAY,GAAGS,wBAAa1E,QAAb,CAAsB0G,SAA3C;;AACA,cAAQ1F,CAAR;AACA,aAAK2F,4BAAeC,OAApB;AACIJ,UAAAA,KAAK,IAAK,CAACR,6BAAmBa,mBAA9B;AACAL,UAAAA,KAAK,IAAK,CAACR,6BAAmBC,gBAA9B;AACApF,UAAAA,IAAI,CAACkF,iBAAL,CAAuBS,KAAvB;AACAF,UAAAA,IAAI,CAACQ,OAAL,CAAaP,GAAG,CAAClC,IAAjB;AACAiC,UAAAA,IAAI,CAACS,UAAL,CAAgBR,GAAG,CAACQ,UAApB;AACAT,UAAAA,IAAI,CAACU,aAAL,CAAmBT,GAAG,CAACU,UAAvB;AACA;;AACJ,aAAKN,4BAAeO,SAApB;AACIjD,UAAAA,YAAY,CAACM,QAAb,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B;AACA1D,UAAAA,IAAI,CAACsG,YAAL,CAAkB,CAAlB,EAAqBlD,YAArB;AACAuC,UAAAA,KAAK,IAAIR,6BAAmBa,mBAA5B;AACAL,UAAAA,KAAK,IAAK,CAACR,6BAAmBC,gBAA9B;AACApF,UAAAA,IAAI,CAACkF,iBAAL,CAAuBS,KAAvB;AACA3F,UAAAA,IAAI,CAACuG,oBAAL,CAA0BC,oCAA0BC,oBAApD;AACA;;AACJ,aAAKX,4BAAeY,MAApB;AACA;AACItD,UAAAA,YAAY,CAACM,QAAb,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B;AACA1D,UAAAA,IAAI,CAACsG,YAAL,CAAkB,CAAlB,EAAqBlD,YAArB;AACAuC,UAAAA,KAAK,IAAIR,6BAAmBC,gBAA5B;AACAO,UAAAA,KAAK,IAAK,CAACR,6BAAmBa,mBAA9B;AACAhG,UAAAA,IAAI,CAACkF,iBAAL,CAAuBS,KAAvB;AACA3F,UAAAA,IAAI,CAACuG,oBAAL,CAA0BC,oCAA0BG,eAApD;AACA;AAzBJ;;AA2BA,WAAKvG,KAAL,IAAcC,+BAAqBC,WAAnC;AACH;AACJ;;AAEDiF,EAAAA,YAAY,CAAEpF,CAAF,EAAoB;AAC5B,QAAI,KAAKS,YAAT,EAAuB;AACnB,YAAMX,KAAK,GAAG,KAAKW,YAAL,CAAkBX,KAAhC;AACA,UAAI2G,KAAK,GAAG3G,KAAK,CAAC2F,iBAAN,EAAZ;;AACA,cAAQzF,CAAR;AACA,aAAK2F,4BAAeC,OAApB;AACA,aAAKD,4BAAeO,SAApB;AACIO,UAAAA,KAAK,IAAK,CAACzB,6BAAmBC,gBAA9B;AACAwB,UAAAA,KAAK,IAAIzB,6BAAmBa,mBAA5B;AACA/F,UAAAA,KAAK,CAACiF,iBAAN,CAAwB0B,KAAxB;AACA3G,UAAAA,KAAK,CAACsG,oBAAN,CAA2BC,oCAA0BC,oBAArD;AACA;;AACJ,aAAKX,4BAAeY,MAApB;AACA;AACIE,UAAAA,KAAK,IAAK,CAACzB,6BAAmBa,mBAA9B;AACAY,UAAAA,KAAK,IAAIzB,6BAAmBC,gBAA5B;AACAnF,UAAAA,KAAK,CAACiF,iBAAN,CAAwB0B,KAAxB;AACA3G,UAAAA,KAAK,CAACsG,oBAAN,CAA2BC,oCAA0BG,eAArD;AACA;AAdJ;;AAgBA,WAAKvG,KAAL,IAAcC,+BAAqBE,YAAnC;AACH;AACJ;;AAEDsG,EAAAA,QAAQ,CAAE1G,CAAF,EAAgB2G,SAAhB,EAAoC;AACxC,aAASC,WAAT,CAAsBC,IAAtB,EAA4CnH,KAA5C,EAA0E;AACtEmH,MAAAA,IAAI,CAAChH,IAAL,CAAUiF,iBAAV,CAA4BpF,KAA5B;AACAmH,MAAAA,IAAI,CAAC5G,KAAL,IAAcC,+BAAqBC,WAAnC;;AACA,UAAI0G,IAAI,CAACxH,YAAL,IAAqBwH,IAAI,CAACxH,YAAL,CAAkB8B,SAA3C,EAAsD;AAClD0F,QAAAA,IAAI,CAACxH,YAAL,CAAkByG,OAAlB,CAA0Be,IAAI,CAACxH,YAAL,CAAkBC,SAAlB,CAA4B+D,IAAtD;AACH;AACJ;;AAED,QAAIsD,SAAJ,EAAe;AACX,YAAMG,KAAK,GAAG,KAAKlH,WAAL,CAAiBgB,aAAjB,CAA+BmG,OAA/B,CAAuC/G,CAAvC,CAAd;;AACA,UAAI8G,KAAK,GAAG,CAAZ,EAAe;AACX,aAAKlH,WAAL,CAAiBgB,aAAjB,CAA+BoG,IAA/B,CAAoChH,CAApC;AACAA,QAAAA,CAAC,CAACiH,WAAF,CAAc,KAAKtH,kBAAnB;AACA,aAAK4B,YAAL,GAAoB,IAApB;AACH;AACJ,KAPD,MAOO;AACH,YAAMuF,KAAK,GAAG,KAAKrH,UAAL,CAAgBmB,aAAhB,CAA8BmG,OAA9B,CAAsC/G,CAAtC,CAAd;;AACA,UAAI8G,KAAK,GAAG,CAAZ,EAAe;AACX,aAAKrH,UAAL,CAAgBmB,aAAhB,CAA8BoG,IAA9B,CAAmChH,CAAnC;;AACA,YAAI,KAAKP,UAAL,CAAgByE,WAApB,EAAiC;AAC7BlE,UAAAA,CAAC,CAACiH,WAAF,CAAc,KAAKzH,iBAAnB;AACH,SAFD,MAEO;AACH,gBAAM0H,CAAC,GAAG,KAAKzH,UAAL,CAAgBmB,aAAhB,CAA8BC,MAAxC;;AACA,cAAIqG,CAAC,KAAK,CAAN,IAAW,CAAClH,CAAC,CAACmH,YAAF,EAAhB,EAAkC;AAC9BP,YAAAA,WAAW,CAAC,IAAD,EAAO5G,CAAC,CAACoH,IAAT,CAAX;AACH,WAFD,MAEO;AACH,iBAAK3H,UAAL,CAAgByE,WAAhB,GAA8B,IAA9B;;AACA,iBAAK,IAAImD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AACxB,oBAAMC,UAAU,GAAG,KAAK7H,UAAL,CAAgBmB,aAAhB,CAA8ByG,CAA9B,CAAnB;AACAC,cAAAA,UAAU,CAACL,WAAX,CAAuB,KAAKzH,iBAA5B;AACH;;AACDoH,YAAAA,WAAW,CAAC,IAAD,EAAO,KAAKnH,UAAL,CAAgBC,KAAvB,CAAX;AACH;AACJ;;AACD,aAAKgB,WAAL,GAAmB,IAAnB;AACH;AACJ;AACJ;;AAED6G,EAAAA,WAAW,CAAEvH,CAAF,EAAgB2G,SAAhB,EAAoC;AAC3C,QAAIA,SAAJ,EAAe;AACX,YAAMG,KAAK,GAAG,KAAKlH,WAAL,CAAiBgB,aAAjB,CAA+BmG,OAA/B,CAAuC/G,CAAvC,CAAd;;AACA,UAAI8G,KAAK,IAAI,CAAb,EAAgB;AACZ,iCAAa,KAAKlH,WAAL,CAAiBgB,aAA9B,EAA6CkG,KAA7C;AACA9G,QAAAA,CAAC,CAACiH,WAAF,CAAc,IAAd;AACA,aAAK1F,YAAL,GAAoB,KAApB;AACH;AACJ,KAPD,MAOO;AACH,YAAMuF,KAAK,GAAG,KAAKrH,UAAL,CAAgBmB,aAAhB,CAA8BmG,OAA9B,CAAsC/G,CAAtC,CAAd;;AACA,UAAI8G,KAAK,IAAI,CAAb,EAAgB;AACZ,YAAI,KAAKrH,UAAL,CAAgByE,WAApB,EAAiC;AAC7BlE,UAAAA,CAAC,CAACiH,WAAF,CAAc,IAAd;AACH,SAFD,MAEO;AACH,eAAKpH,IAAL,CAAUiF,iBAAV,CAA4BpB,wBAAa1E,QAAb,CAAsB2E,WAAlD;AACH;;AACD,aAAK9D,IAAL,CAAU2H,QAAV,CAAmB,IAAnB;AACA,aAAKvH,KAAL,IAAcC,+BAAqBC,WAAnC;AACA,iCAAa,KAAKV,UAAL,CAAgBmB,aAA7B,EAA4CkG,KAA5C;AACA,aAAKpG,WAAL,GAAmB,KAAnB;AACH;AACJ;AACJ;;AAED+G,EAAAA,QAAQ,CAAEzH,CAAF,EAAqB2E,IAArB,EAAkC;AACtC,QAAIA,IAAJ,EAAU;AACN,YAAM0C,CAAC,GAAG,KAAKlF,cAAL,CAAoB4E,OAApB,CAA4B/G,CAA5B,CAAV;AACA,UAAIqH,CAAC,GAAG,CAAR,EAAW,KAAKlF,cAAL,CAAoB6E,IAApB,CAAyBhH,CAAzB;AACd,KAHD,MAGO;AACH,YAAMqH,CAAC,GAAG,KAAKnF,cAAL,CAAoB6E,OAApB,CAA4B/G,CAA5B,CAAV;AACA,UAAIqH,CAAC,GAAG,CAAR,EAAW,KAAKnF,cAAL,CAAoB8E,IAApB,CAAyBhH,CAAzB;AACd;AACJ;;AAED0H,EAAAA,WAAW,CAAE1H,CAAF,EAAqB2E,IAArB,EAAkC;AACzC,QAAIA,IAAJ,EAAU;AACN,YAAM0C,CAAC,GAAG,KAAKlF,cAAL,CAAoB4E,OAApB,CAA4B/G,CAA5B,CAAV;AACA,UAAIqH,CAAC,IAAI,CAAT,EAAY,yBAAa,KAAKlF,cAAlB,EAAkCkF,CAAlC;AACf,KAHD,MAGO;AACH,YAAMA,CAAC,GAAG,KAAKnF,cAAL,CAAoB6E,OAApB,CAA4B/G,CAA5B,CAAV;AACA,UAAIqH,CAAC,IAAI,CAAT,EAAY,yBAAa,KAAKnF,cAAlB,EAAkCmF,CAAlC;AACf;AACJ;;AAEDM,EAAAA,WAAW,GAAI;AACX,QAAI,KAAK1H,KAAT,EAAgB;AACZ,UAAI,KAAKU,SAAL,IAAkB,CAAlB,IAAuB,KAAKV,KAAL,GAAaC,+BAAqBC,WAA7D,EAA0E,KAAKyH,iBAAL;AAC1E,UAAI,KAAKpG,UAAL,IAAmB,CAAnB,IAAwB,KAAKvB,KAAL,GAAaC,+BAAqBE,YAA9D,EAA4E,KAAKyH,kBAAL;AAC5E,WAAK5H,KAAL,GAAa,CAAb;AACH;AACJ;;AAED6H,EAAAA,kBAAkB,GAAI;AAClB,QAAI,KAAK5J,IAAL,CAAU6J,eAAd,EAA+B;AAC3B,YAAMC,EAAE,GAAG,KAAKnI,IAAL,CAAUoI,iBAAV,EAAX;AACA,oCAAeD,EAAE,CAACvF,SAAH,EAAf,EAA+B,KAAKvE,IAAL,CAAUwE,aAAzC;AACA,oCAAe,KAAKjD,UAAL,CAAgBwE,SAA/B,EAA0C,KAAK/F,IAAL,CAAU2E,aAApD;AACAmF,MAAAA,EAAE,CAAClF,WAAH,CAAe,KAAKrD,UAAL,CAAgBwE,SAA/B;;AAEA,UAAI,KAAK/F,IAAL,CAAU6J,eAAV,GAA4BG,uBAAaC,KAA7C,EAAoD;AAChD,aAAKC,aAAL;AACH;;AAED,UAAI,KAAKvI,IAAL,CAAUwI,iBAAV,EAAJ,EAAmC;AAC/B;AACA,cAAMC,EAAE,GAAG,KAAKzI,IAAL,CAAU0I,cAAV,EAAX;AACA,YAAID,EAAJ,EAAQA,EAAE,CAACE,iBAAH,CAAqBR,EAArB;AACX,OAJD,MAIO,IAAI,KAAKS,cAAL,EAAJ,EAA2B,KAAK5I,IAAL,CAAU2H,QAAV;AACrC;AACJ;AAED;AACJ;AACA;;;AACIkB,EAAAA,kBAAkB,GAAI;AAClB,QAAI,KAAK7I,IAAL,CAAU8I,yBAAV,MAAyC,KAAKF,cAAL,EAA7C,EAAoE;AAChE;AACH;;AAED,UAAMG,GAAG,GAAG,KAAKnJ,UAAL,CAAgBuE,cAA5B;AACA,SAAKnE,IAAL,CAAU0I,cAAV,GAA2BN,iBAA3B,CAA6CW,GAA7C;AACA,SAAK1K,IAAL,CAAUwE,aAAV,GAA0B,8BAAe/E,IAAf,EAAqBiL,GAAG,CAACnG,SAAJ,EAArB,CAA1B;AACAmG,IAAAA,GAAG,CAACC,QAAJ,GAAeC,WAAf,CAA2B,KAAKrJ,UAAL,CAAgBwE,SAA3C;AACA,SAAK/F,IAAL,CAAU2E,aAAV,GAA0B,8BAAehF,MAAf,EAAuB,KAAK4B,UAAL,CAAgBwE,SAAvC,CAA1B,CATkB,CAWlB;;AACA,QAAI,KAAKxD,YAAT,EAAuB;AACnB,YAAMsI,GAAG,GAAG,KAAKjJ,KAAL,CAAWmI,iBAAX,EAAZ;AACA,oCAAec,GAAG,CAACtG,SAAJ,EAAf,EAAgC,KAAKvE,IAAL,CAAUwE,aAA1C;AACA,oCAAe,KAAK9C,WAAL,CAAiBqE,SAAhC,EAA2C,KAAK/F,IAAL,CAAU2E,aAArD;AACAkG,MAAAA,GAAG,CAACjG,WAAJ,CAAgB,KAAKlD,WAAL,CAAiBqE,SAAjC;AACH;AACJ;;AAED+E,EAAAA,gBAAgB,GAAI;AAChB,QAAI,KAAK9K,IAAL,CAAU6J,eAAd,EAA+B;AAC3B,YAAMgB,GAAG,GAAG,KAAKjJ,KAAL,CAAWmI,iBAAX,EAAZ;AACA,oCAAec,GAAG,CAACtG,SAAJ,EAAf,EAAgC,KAAKvE,IAAL,CAAUwE,aAA1C;AACA,oCAAe,KAAK9C,WAAL,CAAiBqE,SAAhC,EAA2C,KAAK/F,IAAL,CAAU2E,aAArD;AACAkG,MAAAA,GAAG,CAACjG,WAAJ,CAAgB,KAAKlD,WAAL,CAAiBqE,SAAjC;AACA,UAAI,KAAK/F,IAAL,CAAU6J,eAAV,GAA4BG,uBAAaC,KAA7C,EAAoD,KAAKc,cAAL;AACpD,WAAKnJ,KAAL,CAAW0H,QAAX;AACH;AACJ;;AAEDvG,EAAAA,eAAe,GAAI;AACf,UAAM+G,EAAE,GAAG,KAAKnI,IAAL,CAAUoI,iBAAV,EAAX;AACA,kCAAeD,EAAE,CAACvF,SAAH,EAAf,EAA+B,KAAKvE,IAAL,CAAUwE,aAAzC;AACA,kCAAe,KAAKjD,UAAL,CAAgBwE,SAA/B,EAA0C,KAAK/F,IAAL,CAAU2E,aAApD;AACAmF,IAAAA,EAAE,CAAClF,WAAH,CAAe,KAAKrD,UAAL,CAAgBwE,SAA/B;AACA,SAAKmE,aAAL;AACA,SAAKvI,IAAL,CAAU2H,QAAV;AACH;;AAED9F,EAAAA,gBAAgB,GAAI;AAChB,UAAMqH,GAAG,GAAG,KAAKjJ,KAAL,CAAWmI,iBAAX,EAAZ;AACA,kCAAec,GAAG,CAACtG,SAAJ,EAAf,EAAgC,KAAKvE,IAAL,CAAUwE,aAA1C;AACA,kCAAe,KAAK9C,WAAL,CAAiBqE,SAAhC,EAA2C,KAAK/F,IAAL,CAAU2E,aAArD;AACAkG,IAAAA,GAAG,CAACjG,WAAJ,CAAgB,KAAKlD,WAAL,CAAiBqE,SAAjC;AACA,SAAKgF,cAAL;AACA,SAAKnJ,KAAL,CAAW0H,QAAX;AACH;;AAEDY,EAAAA,aAAa,GAAI;AACb,SAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK5H,UAAL,CAAgBmB,aAAhB,CAA8BC,MAAlD,EAA0DwG,CAAC,EAA3D,EAA+D;AAC3D,WAAK5H,UAAL,CAAgBmB,aAAhB,CAA8ByG,CAA9B,EAAiC6B,QAAjC;AACH;;AACD,SAAK,IAAI7B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKnF,cAAL,CAAoBrB,MAAxC,EAAgDwG,CAAC,EAAjD,EAAqD;AACjD,WAAKnF,cAAL,CAAoBmF,CAApB,EAAuB8B,YAAvB;AACH;;AACD,SAAK,IAAI9B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKlF,cAAL,CAAoBtB,MAAxC,EAAgDwG,CAAC,EAAjD,EAAqD;AACjD,WAAKlF,cAAL,CAAoBkF,CAApB,EAAuB+B,YAAvB;AACH;AACJ;;AAEDH,EAAAA,cAAc,GAAI;AACd,SAAK,IAAI5B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKzH,WAAL,CAAiBgB,aAAjB,CAA+BC,MAAnD,EAA2DwG,CAAC,EAA5D,EAAgE;AAC5D,WAAKzH,WAAL,CAAiBgB,aAAjB,CAA+ByG,CAA/B,EAAkC6B,QAAlC;AACH;AACJ;AAED;AACJ;AACA;;;AACItB,EAAAA,iBAAiB,GAAI;AACjB,QAAI,KAAKjH,SAAL,IAAkB,CAAtB,EAAyB;AACrB,WAAKxC,YAAL,CAAkBmD,gBAAlB,CAAmC,IAAnC;AACA,WAAKX,SAAL,GAAiB,KAAKxC,YAAL,CAAkB4C,MAAlB,CAAyBF,MAA1C;AACA,WAAK1C,YAAL,CAAkB6C,aAAlB,CAAgC,IAAhC;AACH;AACJ;;AAED6G,EAAAA,kBAAkB,GAAI;AAClB,QAAI,KAAKrG,UAAL,IAAmB,CAAvB,EAA0B;AACtB,WAAKrD,YAAL,CAAkByD,iBAAlB,CAAoC,IAApC;AACA,WAAKJ,UAAL,GAAkB,KAAKrD,YAAL,CAAkBkL,MAAlB,CAAyBxI,MAA3C;AACA,WAAK1C,YAAL,CAAkBsD,cAAlB,CAAiC,IAAjC;AACH;AACJ;;AAEOM,EAAAA,OAAO,GAAI;AACf/D,IAAAA,cAAc,CAACQ,cAAf,CAA8B8K,MAA9B,CAAqC,KAAKpL,IAAL,CAAUI,IAA/C;AACC,SAAKJ,IAAN,GAAqB,IAArB;AACC,SAAKC,YAAN,GAA6B,IAA7B;;AACA,QAAI,KAAKoC,WAAT,EAAsB;AAClB,YAAMd,UAAU,GAAG,KAAKc,WAAxB;;AACA+B,gCAAKP,OAAL,CAAatC,UAAU,CAACwD,YAAxB;;AACAX,gCAAKP,OAAL,CAAatC,UAAU,CAACwE,SAAxB;;AACA3B,gCAAKP,OAAL,CAAatC,UAAU,CAACuE,cAAxB;;AACA1B,gCAAKP,OAAL,CAAatC,UAAU,CAACsD,WAAxB;;AACAT,gCAAKP,OAAL,CAAatC,UAAU,CAAC+D,MAAxB;;AACAlB,gCAAKP,OAAL,CAAatC,UAAU,CAACC,KAAxB;;AACA,mCAAcD,UAAU,CAACC,KAAzB,EAAgC4C,0BAAKiH,gBAArC;;AACA,YAAM1J,IAAI,GAAGyC,0BAAKkH,UAAL,CAAgB/J,UAAU,CAACI,IAA3B,EAAiCyC,0BAAKsB,WAAtC,CAAb;;AACC/D,MAAAA,IAAD,CAAc4J,OAAd,GAAwB,IAAxB,CAVkB,CAWlB;;AACA,mCAAchK,UAAU,CAACI,IAAzB,EAA+ByC,0BAAKsB,WAApC;AACA,mCAAcnE,UAAU,CAACI,IAAzB,EAA+ByC,0BAAKsC,iBAApC;AACA,aAAOT,2BAAaC,WAAb,CAAyB3E,UAAU,CAACwC,EAApC,CAAP;AACC,WAAK1B,WAAN,GAA4B,IAA5B;AACH;;AAED,QAAI,KAAKE,YAAT,EAAuB;AACnB,YAAMb,WAAW,GAAG,KAAKa,YAAzB;;AACA6B,gCAAKP,OAAL,CAAanC,WAAW,CAACqE,SAAzB;;AACA3B,gCAAKP,OAAL,CAAanC,WAAW,CAACF,KAAzB;;AACA,mCAAcE,WAAW,CAACF,KAA1B,EAAiC4C,0BAAKiH,gBAAtC;;AACAjH,gCAAKP,OAAL,CAAanC,WAAW,CAACE,KAAzB;;AACA,aAAOqE,2BAAaC,WAAb,CAAyBxE,WAAW,CAACqC,EAArC,CAAP;AACC,WAAKxB,YAAN,GAA6B,IAA7B;AACH;AACJ;;AAEOgI,EAAAA,cAAc,GAAI;AACtB,UAAMiB,KAAK,GAAG,KAAK7J,IAAL,CAAU8J,kBAAV,EAAd;AACA,WAAOD,KAAK,KAAKrD,oCAA0BG,eAA3C;AACH;;AApgBuB;;;AAAfxI,c,CACMoE,S,GAAY,C;AADlBpE,c,CAEeQ,c,GAAiB,IAAIoL,GAAJ,E"}