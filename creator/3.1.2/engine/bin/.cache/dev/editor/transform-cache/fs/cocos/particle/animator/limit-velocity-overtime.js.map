{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/particle/animator/limit-velocity-overtime.ts"],"names":["LIMIT_VELOCITY_RAND_OFFSET","ModuleRandSeed","LIMIT","_temp_v3","Vec3","_temp_v3_1","LimitVelocityOvertimeModule","CurveRange","Space","ParticleModuleBase","enable","_enable","val","target","enableModule","name","constructor","drag","multiplyDragByParticleSize","multiplyDragByParticleVelocity","PARTICLE_MODULE_NAME","rotation","needTransform","Quat","needUpdate","update","space","worldTransform","animate","p","dt","normalizedTime","remainingLifetime","startLifetime","dampedVel","separateAxes","set","limitX","evaluate","randomSeed","limitY","limitZ","transformQuat","dampenBeyondLimit","ultimateVelocity","x","dampen","y","z","normalize","multiplyScalar","length","limit","copy","serializable","Local","vel","sgn","Math","sign","abs"],"mappings":";;;;;;;AA8BA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;AAEA,MAAMA,0BAA0B,GAAGC,qBAAeC,KAAlD;;AAEA,MAAMC,QAAQ,GAAG,IAAIC,YAAJ,EAAjB;;AACA,MAAMC,UAAU,GAAG,IAAID,YAAJ,EAAnB;;IAGqBE,2B,WADpB,oBAAQ,gCAAR,C,UAOI,yBAAa,CAAb,C,UAeA,iBAAKC,mBAAL,C,UAEA,kBAAM,CAAC,CAAC,CAAF,EAAK,CAAL,CAAN,C,UACA,yBAAa,CAAb,C,UACA,oBAAQ,yCAAR,C,UAMA,iBAAKA,mBAAL,C,UAEA,kBAAM,CAAC,CAAC,CAAF,EAAK,CAAL,CAAN,C,UACA,yBAAa,CAAb,C,WACA,oBAAQ,yCAAR,C,WAMA,iBAAKA,mBAAL,C,WAEA,kBAAM,CAAC,CAAC,CAAF,EAAK,CAAL,CAAN,C,WACA,yBAAa,CAAb,C,WACA,oBAAQ,yCAAR,C,WAMA,iBAAKA,mBAAL,C,WAEA,kBAAM,CAAC,CAAC,CAAF,EAAK,CAAL,CAAN,C,WACA,yBAAa,CAAb,C,WACA,oBAAQ,wCAAR,C,WAOA,yBAAa,CAAb,C,WACA,oBAAQ,yCAAR,C,WAOA,yBAAa,CAAb,C,WACA,oBAAQ,+CAAR,C,WAMA,iBAAKC,WAAL,C,WAEA,yBAAa,CAAb,C,WACA,oBAAQ,wCAAR,C,oCAjFL,MACqBF,2BADrB,SACyDG,4BADzD,CAC4E;AAGxE;AACJ;AACA;AAEqB,MAANC,MAAM,GAAI;AACjB,WAAO,KAAKC,OAAZ;AACH;;AAEgB,MAAND,MAAM,CAAEE,GAAF,EAAO;AACpB,QAAI,KAAKD,OAAL,KAAiBC,GAArB,EAA0B;AAC1B,SAAKD,OAAL,GAAeC,GAAf;AACA,QAAI,CAAC,KAAKC,MAAV,EAAkB;AAClB,SAAKA,MAAL,CAAYC,YAAZ,CAAyB,KAAKC,IAA9B,EAAoCH,GAApC,EAAyC,IAAzC;AACH;AAED;AACJ;AACA;;;AAuEII,EAAAA,WAAW,GAAI;AACX;;AADW;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,SAPRC,IAOQ,GAPD,IAOC;AAAA,SANRC,0BAMQ,GANqB,KAMrB;AAAA,SALRC,8BAKQ,GALyB,KAKzB;AAAA,SAJRJ,IAIQ,GAJDK,+BAAqBlB,KAIpB;AAAA,SAHPmB,QAGO;AAAA,SAFPC,aAEO;AAEX,SAAKD,QAAL,GAAgB,IAAIE,YAAJ,EAAhB;AACA,SAAKD,aAAL,GAAqB,KAArB;AACA,SAAKE,UAAL,GAAkB,IAAlB;AACH;;AAEMC,EAAAA,MAAM,CAAEC,KAAF,EAAiBC,cAAjB,EAAuC;AAChD,SAAKL,aAAL,GAAqB,iDAAmBI,KAAnB,EAA0B,KAAKA,KAA/B,EAAsCC,cAAtC,EAAsD,KAAKN,QAA3D,CAArB;AACH;;AAEMO,EAAAA,OAAO,CAAEC,CAAF,EAAeC,EAAf,EAA2B;AACrC,UAAMC,cAAc,GAAG,IAAIF,CAAC,CAACG,iBAAF,GAAsBH,CAAC,CAACI,aAAnD;AACA,UAAMC,SAAS,GAAG/B,QAAlB;;AACA,QAAI,KAAKgC,YAAT,EAAuB;AACnB/B,mBAAKgC,GAAL,CAAS/B,UAAT,EAAqB,KAAKgC,MAAL,CAAYC,QAAZ,CAAqBP,cAArB,EAAqC,0BAAaF,CAAC,CAACU,UAAF,GAAevC,0BAA5B,CAArC,CAArB,EACI,KAAKwC,MAAL,CAAYF,QAAZ,CAAqBP,cAArB,EAAqC,0BAAaF,CAAC,CAACU,UAAF,GAAevC,0BAA5B,CAArC,CADJ,EAEI,KAAKyC,MAAL,CAAYH,QAAZ,CAAqBP,cAArB,EAAqC,0BAAaF,CAAC,CAACU,UAAF,GAAevC,0BAA5B,CAArC,CAFJ;;AAGA,UAAI,KAAKsB,aAAT,EAAwB;AACpBlB,qBAAKsC,aAAL,CAAmBrC,UAAnB,EAA+BA,UAA/B,EAA2C,KAAKgB,QAAhD;AACH;;AACDjB,mBAAKgC,GAAL,CAASF,SAAT,EACIS,iBAAiB,CAACd,CAAC,CAACe,gBAAF,CAAmBC,CAApB,EAAuBxC,UAAU,CAACwC,CAAlC,EAAqC,KAAKC,MAA1C,CADrB,EAEIH,iBAAiB,CAACd,CAAC,CAACe,gBAAF,CAAmBG,CAApB,EAAuB1C,UAAU,CAAC0C,CAAlC,EAAqC,KAAKD,MAA1C,CAFrB,EAGIH,iBAAiB,CAACd,CAAC,CAACe,gBAAF,CAAmBI,CAApB,EAAuB3C,UAAU,CAAC2C,CAAlC,EAAqC,KAAKF,MAA1C,CAHrB;AAIH,KAXD,MAWO;AACH1C,mBAAK6C,SAAL,CAAef,SAAf,EAA0BL,CAAC,CAACe,gBAA5B;;AACAxC,mBAAK8C,cAAL,CAAoBhB,SAApB,EAA+BA,SAA/B,EAA0CS,iBAAiB,CAACd,CAAC,CAACe,gBAAF,CAAmBO,MAAnB,EAAD,EAA8B,KAAKC,KAAL,CAAWd,QAAX,CAAoBP,cAApB,EAAoC,0BAAaF,CAAC,CAACU,UAAF,GAAevC,0BAA5B,CAApC,CAA9B,EAA6H,KAAK8C,MAAlI,CAA3D;AACH;;AACD1C,iBAAKiD,IAAL,CAAUxB,CAAC,CAACe,gBAAZ,EAA8BV,SAA9B;AACH;;AAzHuE,C,kFACvEoB,mB;;;;;WACS,K;;oOAoBTA,mB;;;;;WAIe,IAAI/C,mBAAJ,E;;kFAMf+C,mB;;;;;WAIe,IAAI/C,mBAAJ,E;;mFAMf+C,mB;;;;;WAIe,IAAI/C,mBAAJ,E;;kFAMf+C,mB;;;;;WAIc,IAAI/C,mBAAJ,E;;2EAKd+C,mB;;;;;WAGe,C;;iFAKfA,mB;;;;;WAGqB,K;;kFAMrBA,mB;;;;;WAGc9C,YAAM+C,K;;;;;AA2CzB,SAASZ,iBAAT,CAA4Ba,GAA5B,EAAyCJ,KAAzC,EAAwDN,MAAxD,EAAwE;AACpE,QAAMW,GAAG,GAAGC,IAAI,CAACC,IAAL,CAAUH,GAAV,CAAZ;AACA,MAAII,GAAG,GAAGF,IAAI,CAACE,GAAL,CAASJ,GAAT,CAAV;;AACA,MAAII,GAAG,GAAGR,KAAV,EAAiB;AACbQ,IAAAA,GAAG,GAAG,kBAAKA,GAAL,EAAUR,KAAV,EAAiBN,MAAjB,CAAN;AACH;;AACD,SAAOc,GAAG,GAAGH,GAAb;AACH"}