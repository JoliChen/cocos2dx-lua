{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/ui/sub-context-view.ts"],"names":["SubContextView","UITransform","Component","designResolutionSize","_designResolutionSize","value","EDITOR","equals","set","fps","_fps","_updateInterval","constructor","_sprite","_imageAsset","_updatedTime","_openDataContext","_content","Node","hideFlags","CCObject","Flags","DontSave","HideInHierarchy","ImageAsset","performance","now","onLoad","minigame","getOpenDataContext","_initSharedCanvas","_initContentNode","_updateSubContextView","_updateContentLayer","enabled","onEnable","_registerNodeEvent","onDisable","_unregisterNodeEvent","sharedCanvas","canvas","width","height","image","reset","_texture","create","getComponent","Sprite","addComponent","spriteFrame","texture","sp","SpriteFrame","parent","node","getSystemInfoSync","nodeTrans","contentTrans","scaleX","scaleY","scale","systemInfo","box","getBoundingBoxToWorld","visibleSize","view","getVisibleSize","x","screenWidth","y","screenHeight","postMessage","fromEngine","type","event","_updateSubContextTexture","img","uploadData","on","EventType","TRANSFORM_CHANGED","SIZE_CHANGED","SystemEventType","LAYER_CHANGED","off","layer","update","dt","calledUpdateManually","undefined","deltaTime","serializable","Size","legacyCC"],"mappings":"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"}