{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/asset-manager/url-transformer.ts"],"names":["infos","parse","task","options","input","Array","isArray","output","i","length","item","out","RequestItem","create","config","info","Object","__requestType__","RequestType","UUID","js","addon","preset","presets","key","uuid","bundle","bundles","find","getAssetInfo","name","has","get","redirect","Error","ext","DIR","getDirWithPath","dir","type","assetInfo","push","__isNative__","recycle","PATH","getInfoWithPath","path","SCENE","getSceneInfo","scene","isNative","URL","url","extname","undefined","JSON","stringify","combine","base","nativeBase","legacyCC","assetManager","generalNativeBase","importBase","generalImportBase","ver","nativeVer","slice","__nativeName__"],"mappings":"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"}