{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/physics-2d/framework/utils/polygon-separator.ts"],"names":["At","i","vertices","s","length","Copy","j","p","push","ConvexPartition","ForceCounterClockWise","list","d","lowerDist","upperDist","lowerInt","Vec2","upperInt","lowerIndex","upperIndex","lowerPoly","upperPoly","Reflex","Left","RightOn","LineIntersect","Right","SquareDist","sp","add","multiplyScalar","highestScore","bestIndex","CanSee","score","LeftOn","concat","splice","k","intersectionPoint","LineIntersect2","a","b","c","Area","dx","x","dy","y","IsCounterClockWise","reverse","GetSignedArea","area","p1","p2","q1","q2","a1","b1","c1","a2","b2","c2","det","FloatEquals","a0","b0","x1","y1","x2","y2","x3","y3","x4","y4","Math","max","min","ua","ub","denom","abs","value1","value2"],"mappings":"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"}