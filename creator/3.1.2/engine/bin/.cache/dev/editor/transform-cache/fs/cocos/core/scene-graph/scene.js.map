{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/scene-graph/scene.ts"],"names":["Scene","BaseNode","renderScene","_renderScene","globals","_globals","_updateScene","_scene","constructor","name","dependAssets","_inited","_prefabSyncedInLiveReload","_pos","Vec3","ZERO","_rot","Quat","IDENTITY","_scale","ONE","_mat","Mat4","_dirtyFlags","_activeInHierarchy","legacyCC","director","root","createScene","game","_isCloning","destroy","success","CCObject","prototype","call","children","_children","i","length","active","destroyScene","_active","addComponent","Error","_onHierarchyChanged","_onBatchCreated","dontSyncChildPrefab","len","_siblingIndex","getPosition","out","copy","getRotation","getScale","getWorldPosition","getWorldRotation","getWorldScale","getWorldMatrix","getWorldRS","getWorldRT","position","worldPosition","rotation","worldRotation","scale","worldScale","eulerAngles","worldMatrix","updateWorldTransform","_instantiate","_load","TEST","EDITOR","walk","_setScene","_activate","_registerIfAttached","_nodeActivator","activateNode","activate","editable","serializable","SceneGlobals"],"mappings":";;;;;;;AA8BA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAEaA,K,WADZ,oBAAQ,UAAR,C,oCAAD,MACaA,KADb,SAC2BC,kBAD3B,CACoC;AAChC;AACJ;AACA;AACA;AACmB,MAAXC,WAAW,GAAI;AACf,WAAO,KAAKC,YAAZ;AACH;;AAGU,MAAPC,OAAO,GAAI;AACX,WAAO,KAAKC,QAAZ;AACH;AAED;AACJ;AACA;AACA;;;AA+BcC,EAAAA,YAAY,GAAI;AACtB,SAAKC,MAAL,GAAc,IAAd;AACH;;AAEDC,EAAAA,WAAW,CAAEC,IAAF,EAAgB;AACvB,UAAMA,IAAN;;AADuB;;AAAA;;AAAA,SAvBpBN,YAuBoB,GAvBe,IAuBf;AAAA,SArBpBO,YAqBoB,GArBL,IAqBK;AAAA,SAnBjBC,OAmBiB;AAAA,SAjBjBC,yBAiBiB,GAjBW,KAiBX;AAAA,SAdjBC,IAciB,GAdVC,aAAKC,IAcK;AAAA,SAZjBC,IAYiB,GAZVC,aAAKC,QAYK;AAAA,SAVjBC,MAUiB,GAVRL,aAAKM,GAUG;AAAA,SARjBC,IAQiB,GARVC,aAAKJ,QAQK;AAAA,SANjBK,WAMiB,GANH,CAMG;AAEvB,SAAKC,kBAAL,GAA0B,KAA1B;;AACA,QAAIC,wBAASC,QAAT,IAAqBD,wBAASC,QAAT,CAAkBC,IAA3C,EAAiD;AAC7C,WAAKxB,YAAL,GAAoBsB,wBAASC,QAAT,CAAkBC,IAAlB,CAAuBC,WAAvB,CAAmC,EAAnC,CAApB;AACH;;AACD,SAAKjB,OAAL,GAAec,wBAASI,IAAT,GAAgB,CAACJ,wBAASI,IAAT,CAAcC,UAA/B,GAA4C,IAA3D;AACH;AAED;AACJ;AACA;AACA;;;AACWC,EAAAA,OAAO,GAAI;AACd,UAAMC,OAAO,GAAGC,iBAASC,SAAT,CAAmBH,OAAnB,CAA2BI,IAA3B,CAAgC,IAAhC,CAAhB;;AACA,QAAIH,OAAJ,EAAa;AACT,YAAMI,QAAQ,GAAG,KAAKC,SAAtB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACG,MAA7B,EAAqC,EAAED,CAAvC,EAA0C;AACtCF,QAAAA,QAAQ,CAACE,CAAD,CAAR,CAAYE,MAAZ,GAAqB,KAArB;AACH;AACJ;;AACDf,4BAASC,QAAT,CAAkBC,IAAlB,CAAuBc,YAAvB,CAAoC,KAAKtC,YAAzC;;AACA,SAAKuC,OAAL,GAAe,KAAf;AACA,SAAKlB,kBAAL,GAA0B,KAA1B;AACA,WAAOQ,OAAP;AACH;AAED;AACJ;AACA;AACA;;;AAGI;AACJ;AACA;AACA;AACWW,EAAAA,YAAY,GAAe;AAC9B,UAAM,IAAIC,KAAJ,CAAU,qBAAS,IAAT,CAAV,CAAN;AACH;;AAEMC,EAAAA,mBAAmB,GAAI,CAAG;;AAE1BC,EAAAA,eAAe,CAAEC,mBAAF,EAAgC;AAClD,UAAMD,eAAN,CAAsBC,mBAAtB;;AACA,UAAMC,GAAG,GAAG,KAAKX,SAAL,CAAeE,MAA3B;;AACA,SAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,GAApB,EAAyB,EAAEV,CAA3B,EAA8B;AAC1B,WAAKF,QAAL,CAAcE,CAAd,EAAiBW,aAAjB,GAAiCX,CAAjC;;AACA,WAAKD,SAAL,CAAeC,CAAf,EAAkBQ,eAAlB,CAAkCC,mBAAlC;AACH;;AAED,qCAAqB,IAArB;AACH,GAxG+B,CA0GhC;;AAEA;AACJ;AACA;;;AACWG,EAAAA,WAAW,CAAEC,GAAF,EAAoB;AAAE,WAAOrC,aAAKsC,IAAL,CAAUD,GAAG,IAAI,IAAIrC,YAAJ,EAAjB,EAA6BA,aAAKC,IAAlC,CAAP;AAAiD;AAEzF;AACJ;AACA;;;AACWsC,EAAAA,WAAW,CAAEF,GAAF,EAAoB;AAAE,WAAOlC,aAAKmC,IAAL,CAAUD,GAAG,IAAI,IAAIlC,YAAJ,EAAjB,EAA6BA,aAAKC,QAAlC,CAAP;AAAqD;AAE7F;AACJ;AACA;;;AACWoC,EAAAA,QAAQ,CAAEH,GAAF,EAAoB;AAAE,WAAOrC,aAAKsC,IAAL,CAAUD,GAAG,IAAI,IAAIrC,YAAJ,EAAjB,EAA6BA,aAAKM,GAAlC,CAAP;AAAgD;AAErF;AACJ;AACA;;;AACWmC,EAAAA,gBAAgB,CAAEJ,GAAF,EAAc;AAAE,WAAOrC,aAAKsC,IAAL,CAAUD,GAAG,IAAI,IAAIrC,YAAJ,EAAjB,EAA6BA,aAAKC,IAAlC,CAAP;AAAiD;AAExF;AACJ;AACA;;;AACWyC,EAAAA,gBAAgB,CAAEL,GAAF,EAAc;AAAE,WAAOlC,aAAKmC,IAAL,CAAUD,GAAG,IAAI,IAAIlC,YAAJ,EAAjB,EAA6BA,aAAKC,QAAlC,CAAP;AAAqD;AAE5F;AACJ;AACA;;;AACWuC,EAAAA,aAAa,CAAEN,GAAF,EAAc;AAAE,WAAOrC,aAAKsC,IAAL,CAAUD,GAAG,IAAI,IAAIrC,YAAJ,EAAjB,EAA6BA,aAAKM,GAAlC,CAAP;AAAgD;AAEpF;AACJ;AACA;;;AACWsC,EAAAA,cAAc,CAAEP,GAAF,EAAoB;AAAE,WAAO7B,aAAK8B,IAAL,CAAUD,GAAG,IAAI,IAAI7B,YAAJ,EAAjB,EAA6BA,aAAKJ,QAAlC,CAAP;AAAqD;AAEhG;AACJ;AACA;;;AACWyC,EAAAA,UAAU,CAAER,GAAF,EAAoB;AAAE,WAAO7B,aAAK8B,IAAL,CAAUD,GAAG,IAAI,IAAI7B,YAAJ,EAAjB,EAA6BA,aAAKJ,QAAlC,CAAP;AAAqD;AAE5F;AACJ;AACA;;;AACW0C,EAAAA,UAAU,CAAET,GAAF,EAAoB;AAAE,WAAO7B,aAAK8B,IAAL,CAAUD,GAAG,IAAI,IAAI7B,YAAJ,EAAjB,EAA6BA,aAAKJ,QAAlC,CAAP;AAAqD;AAE5F;AACJ;AACA;;;AACuB,MAAR2C,QAAQ,GAAoB;AAAE,WAAO/C,aAAKC,IAAZ;AAAmB;AAE5D;AACJ;AACA;;;AAC4B,MAAb+C,aAAa,GAAoB;AAAE,WAAOhD,aAAKC,IAAZ;AAAmB;AAEjE;AACJ;AACA;;;AACuB,MAARgD,QAAQ,GAAoB;AAAE,WAAO9C,aAAKC,QAAZ;AAAuB;AAEhE;AACJ;AACA;;;AAC4B,MAAb8C,aAAa,GAAoB;AAAE,WAAO/C,aAAKC,QAAZ;AAAuB;AAErE;AACJ;AACA;;;AACoB,MAAL+C,KAAK,GAAoB;AAAE,WAAOnD,aAAKM,GAAZ;AAAkB;AAExD;AACJ;AACA;;;AACyB,MAAV8C,UAAU,GAAoB;AAAE,WAAOpD,aAAKM,GAAZ;AAAkB;AAE7D;AACJ;AACA;;;AAC0B,MAAX+C,WAAW,GAAoB;AAAE,WAAOrD,aAAKC,IAAZ;AAAmB;AAE/D;AACJ;AACA;;;AAC0B,MAAXqD,WAAW,GAAoB;AAAE,WAAO9C,aAAKJ,QAAZ;AAAuB;AAEnE;AACJ;AACA;;;AACWmD,EAAAA,oBAAoB,GAAI,CAAE,CApMD,CAsMhC;;;AAEUC,EAAAA,YAAY,GAAI,CAAG;;AAEnBC,EAAAA,KAAK,GAAI;AACf,QAAI,CAAC,KAAK5D,OAAV,EAAmB;AACf,UAAI6D,2BAAJ,EAAU;AACN,2BAAO,CAAC,KAAKhD,kBAAb,EAAiC,6DAAjC;AACH;;AACD,WAAKsB,eAAL,CAAqB2B,iCAAU,KAAK7D,yBAApC;;AACA,WAAKD,OAAL,GAAe,IAAf;AACH,KAPc,CAQf;;;AACA,SAAK+D,IAAL,CAAUzE,mBAAS0E,SAAnB;AACH;;AAESC,EAAAA,SAAS,CAAEpC,MAAF,EAAmB;AAClCA,IAAAA,MAAM,GAAIA,MAAM,KAAK,KAArB;;AACA,QAAIiC,iCAAUD,2BAAd,EAAoB;AAChB;AACA,WAAKK,mBAAL,CAA0BrC,MAA1B;AACH;;AACDf,4BAASC,QAAT,CAAkBoD,cAAlB,CAAiCC,YAAjC,CAA8C,IAA9C,EAAoDvC,MAApD;;AACA,SAAKnC,QAAL,CAAc2E,QAAd;AACH;;AA9N+B,C,oEAS/BC,e,uKASAC,mB,EACAD,e;;;;;WAC0B,K;;6EAM1BC,mB;;;;;WACiB,IAAIC,0BAAJ,E;;;;AAsMtB1D,wBAASzB,KAAT,GAAiBA,KAAjB"}