{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/core/director.ts"],"names":["Director","EventTarget","constructor","_compScheduler","_nodeActivator","_invalid","_paused","_purgeDirectorInNextLoop","_root","_loadingScene","_scene","_totalFrames","_lastUpdate","_deltaTime","_startTime","_scheduler","_systems","Scheduler","ComponentScheduler","NodeActivator","legacyCC","game","once","Game","EVENT_RENDERER_INITED","_initOnRendererInitialized","calculateDeltaTime","now","performance","DEBUG","convertToGL","uiPoint","container","view","box","getBoundingClientRect","left","window","pageXOffset","clientLeft","top","pageYOffset","clientTop","x","_devicePixelRatio","y","height","_isRotated","_viewportRect","width","convertToUI","glPoint","end","getWinSize","winSize","getWinSizeInPixels","pause","purgeCachedData","assetManager","releaseAll","purgeDirector","unscheduleAll","reset","eventManager","setEnabled","EDITOR","isValid","destroy","stopAnimation","emit","EVENT_RESET","startAnimation","runSceneImmediate","scene","onBeforeLoadScene","onLaunched","SceneAsset","Scene","BUILD","console","time","_load","timeEnd","persistNodeList","Object","keys","_persistRootNodes","map","i","length","node","Node","SCENE_CHANGED_FOR_PERSISTS","renderScene","existNode","uuid","_originalSceneId","getChildByUuid","index","getSiblingIndex","_destroyImmediate","insertChild","parent","oldScene","_releaseManager","_autoRelease","CCObject","_deferredDestroy","EVENT_BEFORE_SCENE_LAUNCH","_activate","resetCumulativeTime","EVENT_AFTER_SCENE_LAUNCH","runScene","EVENT_AFTER_DRAW","loadScene","sceneName","onUnloaded","bundle","bundles","find","getSceneInfo","EVENT_BEFORE_SCENE_LOADING","err","preloadScene","onProgress","onLoaded","Error","resume","setDepthTest","value","Camera","main","depth","setClearColor","clearColor","backgroundColor","root","getRunningScene","getScene","getAnimationInterval","getFrameRate","setAnimationInterval","setFrameRate","Math","round","getDeltaTime","getTotalTime","getCurrentTime","getTotalFrames","isPaused","getScheduler","setScheduler","scheduler","unregisterSystem","registerSystem","ID","name","sys","priority","id","init","push","sort","System","sortByPriority","js","array","fastRemove","getSystem","getAnimationManager","AnimationManager","mainLoop","GAME_VIEW","dt","EVENT_BEFORE_UPDATE","startPhase","updatePhase","update","lateUpdatePhase","EVENT_AFTER_UPDATE","postUpdate","EVENT_BEFORE_DRAW","frameMove","frameUpdateListeners","resetHasChangedFlags","clearNodeArray","EVENT_INIT","_init","Root","_gfxDevice","rootInfo","initialize","catch","error","Promise","reject","EVENT_BEFORE_COMMIT","EVENT_BEFORE_PHYSICS","EVENT_AFTER_PHYSICS","instance","director"],"mappings":";;;;;;;AAkCA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMA,QAAN,SAAuBC,wBAAvB,CAAmC;AACtC;AACJ;AACA;AACA;AACA;;AACI;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;;AACI;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;AACA;;AACI;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;AACA;;AACI;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;AACA;;AACI;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;;AACI;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;;AACI;AACJ;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;;AAGI;AACJ;AACA;AACA;AACA;AAoBIC,EAAAA,WAAW,GAAI;AACX;AADW,SAfRC,cAeQ;AAAA,SAdRC,cAcQ;AAAA,SAbPC,QAaO;AAAA,SAZPC,OAYO;AA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"}