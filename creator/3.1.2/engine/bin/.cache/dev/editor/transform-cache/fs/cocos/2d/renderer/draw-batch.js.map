{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/2d/renderer/draw-batch.ts"],"names":["UI_VIS_FLAG","Layers","Enum","NONE","UI_3D","DrawBatch2D","handle","_handle","hInputAssembler","BatchPool2D","get","BatchView2D","INPUT_ASSEMBLER","set","hDescriptorSet","DESCRIPTOR_SET","visFlags","VIS_FLAGS","vis","passes","_passes","constructor","bufferBatch","camera","renderScene","model","texture","sampler","useLocalData","isStatic","textureHash","samplerHash","NULL_HANDLE","alloc","destroy","ui","length","i","_destroyHandle","free","clear","fillPasses","mat","dss","dssHash","bs","bsHash","patches","PASS_COUNT","passOffset","PASS_0","shaderOffset","SHADER_0","hashFactor","Pass","legacyCC","director","root","PassPool","mtlPass","passInUse","depthStencilState","blendState","update","_initPassFromTarget","getShaderVariant"],"mappings":"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"}