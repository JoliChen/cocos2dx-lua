{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/3d/skeletal-animation/skeletal-animation-blending.ts"],"names":["BlendStateBuffer","_nodeBlendStates","Map","createWriter","node","property","host","constants","propertyBlendState","ref","BlendStateWriterInternal","destroyWriter","writer","internal","deRef","nodeBlendState","get","NodeBlendState","set","refProperty","deRefProperty","empty","delete","apply","forEach","constructor","_node","_property","_propertyBlendState","_host","_constants","getValue","setValue","value","weight","blend","PropertyBlendState","blendedWeight","blendedValue","refCount","Vec3PropertyBlendState","Vec3","copy","scaleAndAdd","reset","zero","QuatPropertyBlendState","Quat","t","slerp","identity","_properties","properties","position","rotation","eulerAngles","scale","s","r","tFlags","sFlags","rFlags","eFlags","setRTS"],"mappings":"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"}