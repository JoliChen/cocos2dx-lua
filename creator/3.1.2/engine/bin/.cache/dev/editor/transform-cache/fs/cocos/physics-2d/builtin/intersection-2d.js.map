{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/physics-2d/builtin/intersection-2d.ts"],"names":["lineLine","a1","a2","b1","b2","ua_t","x","y","ub_t","u_b","ua","ub","tempR1","Vec2","tempR2","tempR3","tempR4","lineRect","b","r0","set","r1","yMax","r2","xMax","r3","linePolygon","length","i","rectRect","a","a_min_x","a_min_y","a_max_x","width","a_max_y","height","b_min_x","b_min_y","b_max_x","b_max_y","rectPolygon","l","contains","pointInPolygon","polygonPolygon","circleCircle","c1p","c1r","c2p","c2r","distance","polygonCircle","polygon","cp","cr","position","start","end","pointLineDistance","rectCircle","rect","cx","cy","rx","ry","rw","rh","testX","testY","distX","distY","Math","sqrt","point","inside","j","xi","yi","xj","yj","intersect","isSegment","dx","dy","d","t","p","Intersection2D"],"mappings":"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"}