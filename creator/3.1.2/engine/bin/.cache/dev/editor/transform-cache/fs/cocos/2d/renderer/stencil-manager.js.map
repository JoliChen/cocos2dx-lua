{"version":3,"sources":["file:///Users/mac/jenkins/workspace/Creator_3D/daily_build_mac/resources/3d/engine/cocos/2d/renderer/stencil-manager.ts"],"names":["Stage","StencilManager","stage","DISABLED","_maskStack","_stencilPattern","stencilTest","func","ComparisonFunc","ALWAYS","stencilMask","writeMask","failOp","StencilOp","KEEP","zFailOp","passOp","ref","stencilStateMap","Map","stencilStateMapWithDepth","pattern","pushMask","mask","push","clear","comp","stencilStage","inverted","CLEAR_INVERTED","CLEAR","enterLevel","graphics","ENTER_LEVEL_INVERTED","ENTER_LEVEL","enableMask","ENABLED","exitMask","length","pop","getWriteMask","getExitWriteMask","getStencilRef","result","i","reset","destroy","forEach","value","key","getStencilStage","mat","depthTest","depthWrite","depthFunc","LESS","cacheMap","passes","pass","dss","depthStencilState","depthTestValue","depthWriteValue","has","get","setStateFromStage","DepthStencilState","set","getStencilHash","EQUAL","NEVER","ZERO","REPLACE","sharedManager"],"mappings":"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"}