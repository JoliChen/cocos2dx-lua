System.register(["./fog-01fb8507.js","./index-7f8a4e60.js","./screen-3553948d.js","./renderable-component-a695dbe3.js","./camera-component-262e4a52.js","./mesh-ffbbac2d.js","./skeleton-7e3103f3.js","./collision-matrix-92326fa0.js","./terrain-asset-5c0e5c6f.js","./capsule-13549038.js"],(function(t){"use strict";var e,i,r,n,o,s,a,l,p,c,u,h,y,_,d,f,g,b,m,C,w,v,S,O,k,T,P,D,E,M,A,x,L,I,B,F,j,z,N,G,R,H,q,V,W,Y,X,U,K;return{setters:[function(t){e=t.l,i=t.w,r=t.f,n=t.eu,o=t.ev,s=t.ew,a=t.e1,l=t.ex,p=t.eB,c=t.eE,u=t.eN,h=t.dd,y=t.eF,_=t.cY,d=t.dy,f=t.R,g=t.eA,b=t.gn,m=t.gW,C=t.go,w=t.gp,v=t.gD,S=t.eJ,O=t.gl,k=t.eG,T=t.e,P=t.eq,D=t.e0,E=t.h8,M=t.gt,A=t.eZ,x=t.e_,L=t.dw,I=t.gX,B=t.gR},function(t){F=t.f,j=t.D,z=t.n},function(t){N=t.o},function(){},function(){},function(t){G=t.M},function(){},function(t){R=t.b,H=t.c,q=t.P,V=t.C,W=t.a,Y=t.E,X=t.d},function(t){U=t.T},function(t){K=t.c}],execute:function(){t({k:Xn,m:Un,n:Qn,s:Yn});var Z,J=t("l",{id:"",select:function(t,r){e._global.CC_PHYSICS_BUILTIN="builtin"===t,e._global.CC_PHYSICS_CANNON="cannon.js"===t,e._global.CC_PHYSICS_AMMO="ammo.js"===t,i("[PHYSICS]: Using "+t),J.id=t,J.wrapper=r,null!=t&&(J.backend[t]=r)},wrapper:{},backend:{}}),Q=function(){return 0},$={impl:null,setGravity:Q,setAllowSleep:Q,setDefaultMaterial:Q,step:Q,syncAfterEvents:Q,syncSceneToPhysics:Q,raycast:Q,raycastClosest:Q,emitEvents:Q,destroy:Q};function tt(t,n){return!e.GAME_VIEW&&null==t&&(J.id?i(J.id+" physics does not support "+Z[n]):r(9600),!0)}!function(t){t[t.World=0]="World",t[t.RigidBody=1]="RigidBody",t[t.BoxCollider=2]="BoxCollider",t[t.SphereCollider=3]="SphereCollider",t[t.CapsuleCollider=4]="CapsuleCollider",t[t.MeshCollider=5]="MeshCollider",t[t.CylinderCollider=6]="CylinderCollider",t[t.ConeCollider=7]="ConeCollider",t[t.TerrainCollider=8]="TerrainCollider",t[t.SimplexCollider=9]="SimplexCollider",t[t.PlaneCollider=10]="PlaneCollider",t[t.PointToPointConstraint=11]="PointToPointConstraint",t[t.HingeConstraint=12]="HingeConstraint",t[t.ConeTwistConstraint=13]="ConeTwistConstraint"}(Z||(Z={}));var et={impl:null,rigidBody:null,isAwake:!1,isSleepy:!1,isSleeping:!1,initialize:Q,onEnable:Q,onDisable:Q,onDestroy:Q,setType:Q,setMass:Q,setLinearDamping:Q,setAngularDamping:Q,useGravity:Q,setLinearFactor:Q,setAngularFactor:Q,setAllowSleep:Q,wakeUp:Q,sleep:Q,clearState:Q,clearForces:Q,clearVelocity:Q,setSleepThreshold:Q,getSleepThreshold:Q,getLinearVelocity:Q,setLinearVelocity:Q,getAngularVelocity:Q,setAngularVelocity:Q,applyForce:Q,applyLocalForce:Q,applyImpulse:Q,applyLocalImpulse:Q,applyTorque:Q,applyLocalTorque:Q,setGroup:Q,getGroup:Q,addGroup:Q,removeGroup:Q,setMask:Q,getMask:Q,addMask:Q,removeMask:Q},it={INITED:!1},rt={impl:null,collider:null,attachedRigidBody:null,initialize:Q,onLoad:Q,onEnable:Q,onDisable:Q,onDestroy:Q,setGroup:Q,getGroup:Q,addGroup:Q,removeGroup:Q,setMask:Q,getMask:Q,addMask:Q,removeMask:Q,setMaterial:Q,setAsTrigger:Q,setCenter:Q,getAABB:Q,getBoundingSphere:Q,setSize:Q,setRadius:Q,setCylinderHeight:Q,setDirection:Q,setHeight:Q,setShapeType:Q,setVertices:Q,setMesh:Q,setTerrain:Q,setNormal:Q,setConstant:Q,updateEventListener:Q};var nt,ot,st,at,lt,pt,ct,ut,ht={INITED:!1},yt={impl:null,initialize:Q,onLoad:Q,onEnable:Q,onDisable:Q,onDestroy:Q,setEnableCollision:Q,setConnectedBody:Q,setPivotA:Q,setPivotB:Q,setAxis:Q};var _t=t("d",n("cc.PhysicsMaterial")((ut=ct=function(t){function e(){var i;return(i=t.call(this)||this).id=void 0,c(i,"_friction",st,u(i)),c(i,"_rollingFriction",at,u(i)),c(i,"_spinningFriction",lt,u(i)),c(i,"_restitution",pt,u(i)),e.allMaterials.push(u(i)),i.id=e._idCounter++,i._uuid||(i._uuid="pm_"+i.id),i}o(e,t);var i=e.prototype;return i.clone=function(){var t=new e;return t._friction=this._friction,t._restitution=this._restitution,t._rollingFriction=this._rollingFriction,t._spinningFriction=this._spinningFriction,t},i.destroy=function(){if(t.prototype.destroy.call(this)){var i=e.allMaterials.indexOf(this);return i>=0&&e.allMaterials.splice(i,1),!0}return!1},s(e,[{key:"friction",get:function(){return this._friction},set:function(t){h(this._friction,t)||(this._friction=t,this.emit("physics_material_update"))}},{key:"rollingFriction",get:function(){return this._rollingFriction},set:function(t){h(this._rollingFriction,t)||(this._rollingFriction=t,this.emit("physics_material_update"))}},{key:"spinningFriction",get:function(){return this._spinningFriction},set:function(t){h(this._spinningFriction,t)||(this._spinningFriction=t,this.emit("physics_material_update"))}},{key:"restitution",get:function(){return this._restitution},set:function(t){h(this._restitution,t)||(this._restitution=t,this.emit("physics_material_update"))}}]),e}(a),ct.allMaterials=[],ct._idCounter=0,l((ot=ut).prototype,"friction",[p],Object.getOwnPropertyDescriptor(ot.prototype,"friction"),ot.prototype),l(ot.prototype,"rollingFriction",[p],Object.getOwnPropertyDescriptor(ot.prototype,"rollingFriction"),ot.prototype),l(ot.prototype,"spinningFriction",[p],Object.getOwnPropertyDescriptor(ot.prototype,"spinningFriction"),ot.prototype),l(ot.prototype,"restitution",[p],Object.getOwnPropertyDescriptor(ot.prototype,"restitution"),ot.prototype),st=l(ot.prototype,"_friction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),at=l(ot.prototype,"_rollingFriction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),lt=l(ot.prototype,"_spinningFriction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),pt=l(ot.prototype,"_restitution",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nt=ot))||nt),dt=t("f",function(){function t(){this._hitPoint=new _,this._hitNormal=new _,this._distance=0,this._collider=null}var e=t.prototype;return e._assign=function(t,e,i,r){_.copy(this._hitPoint,t),_.copy(this._hitNormal,r),this._distance=e,this._collider=i},e.clone=function(){var e=new t;return _.copy(e._hitPoint,this._hitPoint),_.copy(e._hitNormal,this._hitNormal),e._distance=this._distance,e._collider=this._collider,e},s(t,[{key:"hitPoint",get:function(){return this._hitPoint}},{key:"distance",get:function(){return this._distance}},{key:"collider",get:function(){return this._collider}},{key:"hitNormal",get:function(){return this._hitNormal}}]),t}());e.internal.PhysicsGroup=q;var ft,gt,bt,mt,Ct,wt,vt,St,Ot,kt,Tt,Pt,Dt,Et,Mt,At,xt,Lt,It,Bt,Ft,jt,zt,Nt,Gt,Rt,Ht,qt,Vt,Wt,Yt,Xt,Ut,Kt,Zt,Jt,Qt,$t,te,ee,ie,re,ne,oe,se=t("P",function(t){function e(){var e;(e=t.call(this)||this).physicsWorld=void 0,e.raycastClosestResult=new dt,e.raycastResults=[],e.collisionMatrix=new V(1),e.useNodeChains=void 0,e._enable=!0,e._allowSleep=!0,e._maxSubSteps=1,e._subStepCount=0,e._fixedTimeStep=1/60,e._autoSimulation=!0,e._accumulator=0,e._sleepThreshold=.1,e._gravity=new _(0,-10,0),e._material=new _t,e.raycastOptions={group:-1,mask:-1,queryTrigger:!0,maxDistance:1e7},e.raycastResultPool=new f((function(){return new dt}),1);var i=N.config?N.config.physics:null;if(i&&i.physicsEngine){if(_.copy(e._gravity,i.gravity),e._allowSleep=i.allowSleep,e._fixedTimeStep=i.fixedTimeStep,e._maxSubSteps=i.maxSubSteps,e._sleepThreshold=i.sleepThreshold,e.autoSimulation=i.autoSimulation,e.useNodeChains=i.useNodeChains,i.defaultMaterial&&(e._material.friction=i.defaultMaterial.friction,e._material.rollingFriction=i.defaultMaterial.rollingFriction,e._material.spinningFriction=i.defaultMaterial.spinningFriction,e._material.restitution=i.defaultMaterial.restitution),i.collisionMatrix)for(var r in i.collisionMatrix){var n=1<<parseInt(r);e.collisionMatrix[""+n]=i.collisionMatrix[r]}}else e.useNodeChains=!1;return e._material.on("physics_material_update",e._updateMaterial,u(e)),e.physicsWorld=tt(J.wrapper.PhysicsWorld,Z.World)?$:new J.wrapper.PhysicsWorld,e.physicsWorld.setGravity(e._gravity),e.physicsWorld.setAllowSleep(e._allowSleep),e.physicsWorld.setDefaultMaterial(e._material),e}o(e,t);var i=e.prototype;return i.postUpdate=function(t){if(this._enable){if(this._autoSimulation){for(this._subStepCount=0,this._accumulator+=t,F.emit(j.EVENT_BEFORE_PHYSICS);this._subStepCount<this._maxSubSteps;){if(!(this._accumulator>this._fixedTimeStep)){this.physicsWorld.syncSceneToPhysics();break}this.physicsWorld.syncSceneToPhysics(),this.physicsWorld.step(this._fixedTimeStep),this._accumulator-=this._fixedTimeStep,this._subStepCount++,this.physicsWorld.emitEvents(),this.physicsWorld.syncAfterEvents()}F.emit(j.EVENT_AFTER_PHYSICS)}}else this.physicsWorld.syncSceneToPhysics()},i.resetAccumulator=function(t){void 0===t&&(t=0),this._accumulator=t},i.step=function(t,e,i){this.physicsWorld.step(t,e,i)},i.syncSceneToPhysics=function(){this.physicsWorld.syncSceneToPhysics()},i.emitEvents=function(){this.physicsWorld.emitEvents()},i.raycast=function(t,e,i,r){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===r&&(r=!0),this.raycastResultPool.reset(),this.raycastResults.length=0,this.raycastOptions.mask=e>>>0,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=r,this.physicsWorld.raycast(t,this.raycastOptions,this.raycastResultPool,this.raycastResults)},i.raycastClosest=function(t,e,i,r){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===r&&(r=!0),this.raycastOptions.mask=e>>>0,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=r,this.physicsWorld.raycastClosest(t,this.raycastOptions,this.raycastClosestResult)},i._updateMaterial=function(){this.physicsWorld.setDefaultMaterial(this._material)},s(e,[{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this.physicsWorld.setAllowSleep(t)}},{key:"maxSubSteps",get:function(){return this._maxSubSteps},set:function(t){this._maxSubSteps=t}},{key:"fixedTimeStep",get:function(){return this._fixedTimeStep},set:function(t){this._fixedTimeStep=t}},{key:"gravity",get:function(){return this._gravity},set:function(t){this._gravity.set(t),this.physicsWorld.setGravity(t)}},{key:"sleepThreshold",get:function(){return this._sleepThreshold},set:function(t){this._sleepThreshold=t}},{key:"autoSimulation",get:function(){return this._autoSimulation},set:function(t){this._autoSimulation=t}},{key:"defaultMaterial",get:function(){return this._material}}],[{key:"PHYSICS_NONE",get:function(){return!J.id}},{key:"PHYSICS_BUILTIN",get:function(){return"builtin"===J.id}},{key:"PHYSICS_CANNON",get:function(){return"cannon.js"===J.id}},{key:"PHYSICS_AMMO",get:function(){return"ammo.js"===J.id}},{key:"PHYSICS_PHYSX",get:function(){return"physx"===J.id}},{key:"PhysicsGroup",get:function(){return q}},{key:"instance",get:function(){return e._instance}}]),e}(z));se.ID="PHYSICS",se._instance=void 0,F.once(j.EVENT_INIT,(function(){!function(){var t=N.config.physics;if(t){var i=t.collisionGroups;i instanceof Array&&(i.forEach((function(t){q[t.name]=1<<t.index})),d.update(q))}var r=se.instance;r&&(F.unregisterSystem(r),r.physicsWorld.destroy());var n=new e.PhysicsSystem;e.PhysicsSystem._instance=n,F.registerSystem(se.ID,n,0)}()}));var ae,le,pe,ce,ue,he,ye,_e,de,fe,ge,be,me,Ce,we,ve,Se,Oe,ke,Te,Pe,De,Ee=t("R",(ft=n("cc.RigidBody"),gt=C(),bt=w(),mt=v(-1),Ct=g(se.PhysicsGroup),wt=S(),vt=O(),St=g(W),Ot=S(),kt=O(),Tt=k(),Pt=S(),Dt=O(),Et=k(),Mt=S(),At=O(),xt=k(),Lt=S(),It=O(),Bt=k(),Ft=S(),jt=O(),zt=k(),Nt=S(),Gt=O(),Rt=k(),Ht=S(),qt=O(),Vt=k(),Wt=S(),Yt=O(),ft(Xt=gt(Xt=bt(Xt=b(Xt=m(Xt=mt((oe=ne=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this)._body=null,c(e,"_group",Kt,u(e)),c(e,"_type",Zt,u(e)),c(e,"_mass",Jt,u(e)),c(e,"_allowSleep",Qt,u(e)),c(e,"_linearDamping",$t,u(e)),c(e,"_angularDamping",te,u(e)),c(e,"_useGravity",ee,u(e)),c(e,"_linearFactor",ie,u(e)),c(e,"_angularFactor",re,u(e)),e}o(e,t);var i=e.prototype;return i.onLoad=function(){this._body=tt(J.wrapper.RigidBody,Z.RigidBody)?et:new J.wrapper.RigidBody,this._body.initialize(this)},i.onEnable=function(){this._body&&this._body.onEnable()},i.onDisable=function(){this._body&&this._body.onDisable()},i.onDestroy=function(){this._body&&this._body.onDestroy()},i.applyForce=function(t,e){this._assertOnLoadCalled&&this._body.applyForce(t,e)},i.applyLocalForce=function(t,e){this._assertOnLoadCalled&&this._body.applyLocalForce(t,e)},i.applyImpulse=function(t,e){this._assertOnLoadCalled&&this._body.applyImpulse(t,e)},i.applyLocalImpulse=function(t,e){this._assertOnLoadCalled&&this._body.applyLocalImpulse(t,e)},i.applyTorque=function(t){this._assertOnLoadCalled&&this._body.applyTorque(t)},i.applyLocalTorque=function(t){this._assertOnLoadCalled&&this._body.applyLocalTorque(t)},i.wakeUp=function(){this._assertOnLoadCalled&&this._body.wakeUp()},i.sleep=function(){this._assertOnLoadCalled&&this._body.sleep()},i.clearState=function(){this._assertOnLoadCalled&&this._body.clearState()},i.clearForces=function(){this._assertOnLoadCalled&&this._body.clearForces()},i.clearVelocity=function(){this._assertOnLoadCalled&&this._body.clearVelocity()},i.getLinearVelocity=function(t){this._assertOnLoadCalled&&this._body.getLinearVelocity(t)},i.setLinearVelocity=function(t){this._assertOnLoadCalled&&this._body.setLinearVelocity(t)},i.getAngularVelocity=function(t){this._assertOnLoadCalled&&this._body.getAngularVelocity(t)},i.setAngularVelocity=function(t){this._assertOnLoadCalled&&this._body.setAngularVelocity(t)},i.getGroup=function(){return this._assertOnLoadCalled?this._body.getGroup():0},i.setGroup=function(t){this._assertOnLoadCalled&&this._body.setGroup(t)},i.addGroup=function(t){this._assertOnLoadCalled&&this._body.addGroup(t)},i.removeGroup=function(t){this._assertOnLoadCalled&&this._body.removeGroup(t)},i.getMask=function(){return this._assertOnLoadCalled?this._body.getMask():0},i.setMask=function(t){this._assertOnLoadCalled&&this._body.setMask(t)},i.addMask=function(t){this._assertOnLoadCalled&&this._body.addMask(t)},i.removeMask=function(t){this._assertOnLoadCalled&&this._body.removeMask(t)},s(e,[{key:"group",get:function(){return this.getGroup()},set:function(t){this._group=t,this.getGroup()!==t&&this._body&&this._body.setGroup(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type!==t&&(this._type=t,this._body&&this._body.setType(t))}},{key:"mass",get:function(){return this._mass},set:function(t){this._mass!==t&&(t=t<=0?1e-4:t,this._mass=t,this._body&&this._body.setMass(t))}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this._body&&this._body.setAllowSleep(t)}},{key:"linearDamping",get:function(){return this._linearDamping},set:function(t){this._linearDamping=t,this._body&&this._body.setLinearDamping(t)}},{key:"angularDamping",get:function(){return this._angularDamping},set:function(t){this._angularDamping=t,this._body&&this._body.setAngularDamping(t)}},{key:"useGravity",get:function(){return this._useGravity},set:function(t){this._useGravity=t,this._body&&this._body.useGravity(t)}},{key:"linearFactor",get:function(){return this._linearFactor},set:function(t){_.copy(this._linearFactor,t),this._body&&this._body.setLinearFactor(this._linearFactor)}},{key:"angularFactor",get:function(){return this._angularFactor},set:function(t){_.copy(this._angularFactor,t),this._body&&this._body.setAngularFactor(this._angularFactor)}},{key:"sleepThreshold",get:function(){return this._assertOnLoadCalled?this._body.getSleepThreshold():0},set:function(t){this._assertOnLoadCalled&&this._body.setSleepThreshold(t)}},{key:"isAwake",get:function(){return!!this._assertOnLoadCalled&&this._body.isAwake}},{key:"isSleepy",get:function(){return!!this._assertOnLoadCalled&&this._body.isSleepy}},{key:"isSleeping",get:function(){return!!this._assertOnLoadCalled&&this._body.isSleeping}},{key:"isStatic",get:function(){return this._type===W.STATIC},set:function(t){t&&this.isStatic||!t&&!this.isStatic||(this.type=t?W.STATIC:W.DYNAMIC)}},{key:"isDynamic",get:function(){return this._type===W.DYNAMIC},set:function(t){t&&this.isDynamic||!t&&!this.isDynamic||(this.type=t?W.DYNAMIC:W.KINEMATIC)}},{key:"isKinematic",get:function(){return this._type===W.KINEMATIC},set:function(t){t&&this.isKinematic||!t&&!this.isKinematic||(this.type=t?W.KINEMATIC:W.DYNAMIC)}},{key:"body",get:function(){return this._body}},{key:"_assertOnLoadCalled",get:function(){var t=0===this._isOnLoadCalled;return t&&T("[Physics]: Please make sure that the node has been added to the scene"),!t}}]),e}(P),ne.Type=W,l((Ut=oe).prototype,"group",[Ct,wt,vt],Object.getOwnPropertyDescriptor(Ut.prototype,"group"),Ut.prototype),l(Ut.prototype,"type",[St,Ot,kt],Object.getOwnPropertyDescriptor(Ut.prototype,"type"),Ut.prototype),l(Ut.prototype,"mass",[Tt,Pt,Dt],Object.getOwnPropertyDescriptor(Ut.prototype,"mass"),Ut.prototype),l(Ut.prototype,"allowSleep",[Et,Mt,At],Object.getOwnPropertyDescriptor(Ut.prototype,"allowSleep"),Ut.prototype),l(Ut.prototype,"linearDamping",[xt,Lt,It],Object.getOwnPropertyDescriptor(Ut.prototype,"linearDamping"),Ut.prototype),l(Ut.prototype,"angularDamping",[Bt,Ft,jt],Object.getOwnPropertyDescriptor(Ut.prototype,"angularDamping"),Ut.prototype),l(Ut.prototype,"useGravity",[zt,Nt,Gt],Object.getOwnPropertyDescriptor(Ut.prototype,"useGravity"),Ut.prototype),l(Ut.prototype,"linearFactor",[Rt,Ht,qt],Object.getOwnPropertyDescriptor(Ut.prototype,"linearFactor"),Ut.prototype),l(Ut.prototype,"angularFactor",[Vt,Wt,Yt],Object.getOwnPropertyDescriptor(Ut.prototype,"angularFactor"),Ut.prototype),Kt=l(Ut.prototype,"_group",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return se.PhysicsGroup.DEFAULT}}),Zt=l(Ut.prototype,"_type",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.DYNAMIC}}),Jt=l(Ut.prototype,"_mass",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qt=l(Ut.prototype,"_allowSleep",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$t=l(Ut.prototype,"_linearDamping",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),te=l(Ut.prototype,"_angularDamping",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),ee=l(Ut.prototype,"_useGravity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ie=l(Ut.prototype,"_linearFactor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(1,1,1)}}),re=l(Ut.prototype,"_angularFactor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(1,1,1)}}),Xt=Ut))||Xt)||Xt)||Xt)||Xt)||Xt)||Xt));Ee||(Ee=t("R",{}));var Me,Ae,xe,Le,Ie,Be,Fe,je,ze,Ne=t("C",(ae=n("cc.Collider"),le=g(Ee),pe=M(),ce=S(),ue=O(),he=g(_t),ye=M(),_e=S(),de=O(),fe=S(),ge=O(),be=g(_),me=S(),Ce=O(),we=g(_t),ae((De=Pe=function(t){function e(e){var i;return(i=t.call(this)||this).type=void 0,i._shape=null,i._aabb=null,i._boundingSphere=null,i._isSharedMaterial=!0,i._needTriggerEvent=!1,i._needCollisionEvent=!1,c(i,"_material",Oe,u(i)),c(i,"_isTrigger",ke,u(i)),c(i,"_center",Te,u(i)),i.type=e,i}o(e,t);var i=e.prototype;return i.on=function(e,i,r,n){var o=t.prototype.on.call(this,e,i,r,n);return this._updateNeedEvent(e),o},i.off=function(e,i,r){t.prototype.off.call(this,e,i,r),this._updateNeedEvent()},i.once=function(e,i,r){var n=t.prototype.once.call(this,e,i,r);return this._updateNeedEvent(e),n},i.removeAll=function(e){t.prototype.removeAll.call(this,e),this._updateNeedEvent()},i.getGroup=function(){return this._assertOnLoadCalled?this._shape.getGroup():0},i.setGroup=function(t){this._assertOnLoadCalled&&this._shape.setGroup(t)},i.addGroup=function(t){this._assertOnLoadCalled&&this._shape.addGroup(t)},i.removeGroup=function(t){this._assertOnLoadCalled&&this._shape.removeGroup(t)},i.getMask=function(){return this._assertOnLoadCalled?this._shape.getMask():0},i.setMask=function(t){this._assertOnLoadCalled&&this._shape.setMask(t)},i.addMask=function(t){this._assertOnLoadCalled&&this._shape.addMask(t)},i.removeMask=function(t){this._assertOnLoadCalled&&this._shape.removeMask(t)},i.onLoad=function(){this.sharedMaterial=null==this._material?se.instance.defaultMaterial:this._material,this._shape=function(t){return it.INITED||(it.INITED=!0,it[R.BOX]=function(){return tt(J.wrapper.BoxShape,Z.BoxCollider)?rt:new J.wrapper.BoxShape},it[R.SPHERE]=function(){return tt(J.wrapper.SphereShape,Z.SphereCollider)?rt:new J.wrapper.SphereShape},it[R.CAPSULE]=function(){return tt(J.wrapper.CapsuleShape,Z.CapsuleCollider)?rt:new J.wrapper.CapsuleShape},it[R.CYLINDER]=function(){return tt(J.wrapper.CylinderShape,Z.CylinderCollider)?rt:new J.wrapper.CylinderShape},it[R.CONE]=function(){return tt(J.wrapper.ConeShape,Z.ConeCollider)?rt:new J.wrapper.ConeShape},it[R.MESH]=function(){return tt(J.wrapper.TrimeshShape,Z.MeshCollider)?rt:new J.wrapper.TrimeshShape},it[R.TERRAIN]=function(){return tt(J.wrapper.TerrainShape,Z.TerrainCollider)?rt:new J.wrapper.TerrainShape},it[R.SIMPLEX]=function(){return tt(J.wrapper.SimplexShape,Z.SimplexCollider)?rt:new J.wrapper.SimplexShape},it[R.PLANE]=function(){return tt(J.wrapper.PlaneShape,Z.PlaneCollider)?rt:new J.wrapper.PlaneShape}),it[t]()}(this.type),this._shape.initialize(this),this._shape.onLoad()},i.onEnable=function(){this._shape&&this._shape.onEnable()},i.onDisable=function(){this._shape&&this._shape.onDisable()},i.onDestroy=function(){this._shape&&(this._material&&this._material.off("physics_material_update",this._updateMaterial,this),this._shape.onDestroy()),this._boundingSphere&&this._boundingSphere.destroy()},i._updateMaterial=function(){this._shape&&this._shape.setMaterial(this._material)},i._updateNeedEvent=function(t){this.isValid&&(void 0!==t?("onCollisionEnter"!==t&&"onCollisionStay"!==t&&"onCollisionExit"!==t||(this._needCollisionEvent=!0),"onTriggerEnter"!==t&&"onTriggerStay"!==t&&"onTriggerExit"!==t||(this._needTriggerEvent=!0)):(this.hasEventListener("onTriggerEnter")||this.hasEventListener("onTriggerStay")||this.hasEventListener("onTriggerExit")||(this._needTriggerEvent=!1),this.hasEventListener("onCollisionEnter")||this.hasEventListener("onCollisionStay")||this.hasEventListener("onCollisionExit")||(this._needCollisionEvent=!1)),this._shape&&this._shape.updateEventListener())},s(e,[{key:"attachedRigidBody",get:function(){return t=this.node,(e=t.getComponent(Ee))&&e.isValid?e:null;var t,e}},{key:"sharedMaterial",get:function(){return this._material},set:function(t){this.material=t}},{key:"material",get:function(){return this._isSharedMaterial&&null!=this._material&&(this._material.off("physics_material_update",this._updateMaterial,this),this._material=this._material.clone(),this._material.on("physics_material_update",this._updateMaterial,this),this._isSharedMaterial=!1),this._material},set:function(t){this._shape?(null!=t&&null!=this._material?this._material.id!==t.id&&(this._material.off("physics_material_update",this._updateMaterial,this),t.on("physics_material_update",this._updateMaterial,this),this._isSharedMaterial=!1,this._material=t):null!=t&&null==this._material?(t.on("physics_material_update",this._updateMaterial,this),this._material=t):null==t&&null!=this._material&&(this._material.off("physics_material_update",this._updateMaterial,this),this._material=t),this._updateMaterial()):this._material=t}},{key:"isTrigger",get:function(){return this._isTrigger},set:function(t){this._isTrigger=t,this._shape&&this._shape.setAsTrigger(this._isTrigger)}},{key:"center",get:function(){return this._center},set:function(t){_.copy(this._center,t),this._shape&&this._shape.setCenter(this._center)}},{key:"shape",get:function(){return this._shape}},{key:"worldBounds",get:function(){return null==this._aabb&&(this._aabb=new A),this._shape&&this._shape.getAABB(this._aabb),this._aabb}},{key:"boundingSphere",get:function(){return null==this._boundingSphere&&(this._boundingSphere=new x),this._shape&&this._shape.getBoundingSphere(this._boundingSphere),this._boundingSphere}},{key:"needTriggerEvent",get:function(){return this._needTriggerEvent}},{key:"needCollisionEvent",get:function(){return this._needCollisionEvent}},{key:"_assertOnLoadCalled",get:function(){var t=0===this._isOnLoadCalled;return t&&T("[Physics]: Please make sure that the node has been added to the scene"),!t}}]),e}(D(P)),Pe.Type=R,Pe.Axis=Y,l((Se=De).prototype,"attachedRigidBody",[le,E,pe,ce,ue],Object.getOwnPropertyDescriptor(Se.prototype,"attachedRigidBody"),Se.prototype),l(Se.prototype,"sharedMaterial",[he,ye,_e,de],Object.getOwnPropertyDescriptor(Se.prototype,"sharedMaterial"),Se.prototype),l(Se.prototype,"isTrigger",[fe,ge],Object.getOwnPropertyDescriptor(Se.prototype,"isTrigger"),Se.prototype),l(Se.prototype,"center",[be,me,Ce],Object.getOwnPropertyDescriptor(Se.prototype,"center"),Se.prototype),Oe=l(Se.prototype,"_material",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=l(Se.prototype,"_isTrigger",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Te=l(Se.prototype,"_center",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),ve=Se))||ve));Ne||(Ne=t("C",{}));var Ge,Re,He,qe,Ve,We,Ye,Xe,Ue,Ke,Ze,Je,Qe,$e,ti,ei,ii,ri,ni,oi,si,ai,li,pi,ci,ui,hi,yi,_i,di,fi,gi,bi,mi,Ci,wi,vi,Si,Oi,ki,Ti,Pi,Di,Ei,Mi,Ai,xi,Li,Ii,Bi,Fi,ji,zi,Ni,Gi,Ri,Hi,qi,Vi,Wi,Yi,Xi,Ui,Ki,Zi,Ji,Qi,$i,tr,er,ir,rr,nr,or,sr,ar,lr,pr,cr,ur,hr,yr,_r,dr,fr,gr,br,mr,Cr,wr,vr,Sr,Or,kr,Tr,Pr,Dr,Er,Mr,Ar,xr,Lr,Ir,Br,Fr,jr,zr,Nr,Gr,Rr,Hr,qr,Vr,Wr,Yr,Xr=t("B",(Me=n("cc.BoxCollider"),Ae=C(),xe=w(),Le=g(_),Ie=O(),Me(Be=Ae(Be=xe(Be=b((ze=function(t){function e(){var e;return e=t.call(this,R.BOX)||this,c(e,"_size",je,u(e)),e}return o(e,t),s(e,[{key:"size",get:function(){return this._size},set:function(t){_.copy(this._size,t),this._shape&&this.shape.setSize(this._size)}},{key:"shape",get:function(){return this._shape}}]),e}(Ne),l((Fe=ze).prototype,"size",[Le,Ie],Object.getOwnPropertyDescriptor(Fe.prototype,"size"),Fe.prototype),je=l(Fe.prototype,"_size",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(1,1,1)}}),Be=Fe))||Be)||Be)||Be)||Be)),Ur=t("S",(Ge=n("cc.SphereCollider"),Re=C(),He=w(),qe=O(),Ge(Ve=Re(Ve=He(Ve=b((Xe=function(t){function e(){var e;return e=t.call(this,R.SPHERE)||this,c(e,"_radius",Ye,u(e)),e}return o(e,t),s(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this.shape.setRadius(this._radius)}},{key:"shape",get:function(){return this._shape}}]),e}(Ne),l((We=Xe).prototype,"radius",[qe],Object.getOwnPropertyDescriptor(We.prototype,"radius"),We.prototype),Ye=l(We.prototype,"_radius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Ve=We))||Ve)||Ve)||Ve)||Ve)),Kr=t("b",(Ue=n("cc.CapsuleCollider"),Ke=C(),Ze=w(),Je=O(),Qe=O(),$e=g(Y),ti=O(),Ue(ei=Ke(ei=Ze(ei=b((si=function(t){function e(){var e;return e=t.call(this,R.CAPSULE)||this,c(e,"_radius",ri,u(e)),c(e,"_cylinderHeight",ni,u(e)),c(e,"_direction",oi,u(e)),e}o(e,t);var i=e.prototype;return i._getRadiusScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction===Y.Y_AXIS?Math.abs(L(t.x,t.z)):this._direction===Y.X_AXIS?Math.abs(L(t.y,t.z)):Math.abs(L(t.x,t.y))},i._getHeightScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction===Y.Y_AXIS?Math.abs(t.y):this._direction===Y.X_AXIS?Math.abs(t.x):Math.abs(t.z)},s(e,[{key:"radius",get:function(){return this._radius},set:function(t){t<0&&(t=0),this._radius=t,this.shape.setRadius(t)}},{key:"cylinderHeight",get:function(){return this._cylinderHeight},set:function(t){t<0&&(t=0),this._cylinderHeight=t,this.shape.setCylinderHeight(t)}},{key:"direction",get:function(){return this._direction},set:function(t){(t=Math.floor(t))<Y.X_AXIS||t>Y.Z_AXIS||(this._direction=t,this.shape.setDirection(t))}},{key:"height",get:function(){return 2*this._radius+this._cylinderHeight},set:function(t){var e=t-2*this._radius;e<0&&(e=0),this.cylinderHeight=e}},{key:"worldHeight",get:function(){return 2*this._radius*this._getRadiusScale()+this._cylinderHeight*this._getHeightScale()}},{key:"shape",get:function(){return this._shape}}]),e}(Ne),l((ii=si).prototype,"radius",[Je],Object.getOwnPropertyDescriptor(ii.prototype,"radius"),ii.prototype),l(ii.prototype,"cylinderHeight",[Qe],Object.getOwnPropertyDescriptor(ii.prototype,"cylinderHeight"),ii.prototype),l(ii.prototype,"direction",[$e,ti],Object.getOwnPropertyDescriptor(ii.prototype,"direction"),ii.prototype),ri=l(ii.prototype,"_radius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),ni=l(ii.prototype,"_cylinderHeight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),oi=l(ii.prototype,"_direction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.Y_AXIS}}),ei=ii))||ei)||ei)||ei)||ei)),Zr=t("c",(ai=n("cc.CylinderCollider"),li=C(),pi=w(),ci=O(),ui=O(),hi=g(Y),yi=O(),ai(_i=li(_i=pi(_i=b((mi=function(t){function e(){var e;return e=t.call(this,R.CYLINDER)||this,c(e,"_radius",fi,u(e)),c(e,"_height",gi,u(e)),c(e,"_direction",bi,u(e)),e}return o(e,t),s(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(t<0&&(t=0),this._radius=t,this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(t<0&&(t=0),this._height=t,this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!==t&&(t<Y.X_AXIS||t>Y.Z_AXIS||(this._direction=t,this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(Ne),l((di=mi).prototype,"radius",[ci],Object.getOwnPropertyDescriptor(di.prototype,"radius"),di.prototype),l(di.prototype,"height",[ui],Object.getOwnPropertyDescriptor(di.prototype,"height"),di.prototype),l(di.prototype,"direction",[hi,yi],Object.getOwnPropertyDescriptor(di.prototype,"direction"),di.prototype),fi=l(di.prototype,"_radius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),gi=l(di.prototype,"_height",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),bi=l(di.prototype,"_direction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.Y_AXIS}}),_i=di))||_i)||_i)||_i)||_i)),Jr=t("g",(Ci=n("cc.ConeCollider"),wi=C(),vi=w(),Si=O(),Oi=O(),ki=g(Y),Ti=O(),Ci(Pi=wi(Pi=vi(Pi=b((xi=function(t){function e(){var e;return e=t.call(this,R.CONE)||this,c(e,"_radius",Ei,u(e)),c(e,"_height",Mi,u(e)),c(e,"_direction",Ai,u(e)),e}return o(e,t),s(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(t<0&&(t=0),this._radius=t,this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(t<0&&(t=0),this._height=t,this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!==t&&(t<Y.X_AXIS||t>Y.Z_AXIS||(this._direction=t,this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(Ne),l((Di=xi).prototype,"radius",[Si],Object.getOwnPropertyDescriptor(Di.prototype,"radius"),Di.prototype),l(Di.prototype,"height",[Oi],Object.getOwnPropertyDescriptor(Di.prototype,"height"),Di.prototype),l(Di.prototype,"direction",[ki,Ti],Object.getOwnPropertyDescriptor(Di.prototype,"direction"),Di.prototype),Ei=l(Di.prototype,"_radius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Mi=l(Di.prototype,"_height",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ai=l(Di.prototype,"_direction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.Y_AXIS}}),Pi=Di))||Pi)||Pi)||Pi)||Pi)),Qr=t("M",(Li=n("cc.MeshCollider"),Ii=C(),Bi=w(),Fi=g(G),ji=O(),zi=O(),Li(Ni=Ii(Ni=Bi(Ni=b((qi=function(t){function e(){var e;return e=t.call(this,R.MESH)||this,c(e,"_mesh",Ri,u(e)),c(e,"_convex",Hi,u(e)),e}return o(e,t),s(e,[{key:"mesh",get:function(){return this._mesh},set:function(t){this._mesh!==t&&(this._mesh=t,this.shape.setMesh(this._mesh))}},{key:"convex",get:function(){return this._convex},set:function(t){this._convex!==t&&(this._convex=t)}},{key:"shape",get:function(){return this._shape}}]),e}(Ne),l((Gi=qi).prototype,"mesh",[Fi,ji],Object.getOwnPropertyDescriptor(Gi.prototype,"mesh"),Gi.prototype),l(Gi.prototype,"convex",[p,zi],Object.getOwnPropertyDescriptor(Gi.prototype,"convex"),Gi.prototype),Ri=l(Gi.prototype,"_mesh",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hi=l(Gi.prototype,"_convex",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ni=Gi))||Ni)||Ni)||Ni)||Ni)),$r=t("e",(Vi=n("cc.ConstantForce"),Wi=C(),Yi=I(Ee),Xi=w(),Ui=S(),Ki=O(),Zi=S(),Ji=O(),Qi=S(),$i=O(),tr=S(),er=O(),Vi(ir=Wi(ir=Yi(ir=Xi(ir=m(ir=b((lr=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this)._rigidBody=null,c(e,"_force",nr,u(e)),c(e,"_localForce",or,u(e)),c(e,"_torque",sr,u(e)),c(e,"_localTorque",ar,u(e)),e._mask=0,e}o(e,t);var i=e.prototype;return i.onLoad=function(){this._rigidBody=this.node.getComponent(Ee),this._maskUpdate(this._force,1),this._maskUpdate(this._localForce,2),this._maskUpdate(this._torque,4),this._maskUpdate(this._localTorque,8)},i.lateUpdate=function(){null!=this._rigidBody&&0!==this._mask&&(1&this._mask&&this._rigidBody.applyForce(this._force),2&this._mask&&this._rigidBody.applyLocalForce(this.localForce),4&this._mask&&this._rigidBody.applyTorque(this._torque),8&this._mask&&this._rigidBody.applyLocalTorque(this._localTorque))},i._maskUpdate=function(t,e){t.strictEquals(_.ZERO)?this._mask&=~e:this._mask|=e},s(e,[{key:"force",get:function(){return this._force},set:function(t){_.copy(this._force,t),this._maskUpdate(this._force,1)}},{key:"localForce",get:function(){return this._localForce},set:function(t){_.copy(this._localForce,t),this._maskUpdate(this.localForce,2)}},{key:"torque",get:function(){return this._torque},set:function(t){_.copy(this._torque,t),this._maskUpdate(this._torque,4)}},{key:"localTorque",get:function(){return this._localTorque},set:function(t){_.copy(this._localTorque,t),this._maskUpdate(this._localTorque,8)}}]),e}(P),nr=l((rr=lr).prototype,"_force",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),or=l(rr.prototype,"_localForce",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),sr=l(rr.prototype,"_torque",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),ar=l(rr.prototype,"_localTorque",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),l(rr.prototype,"force",[Ui,Ki],Object.getOwnPropertyDescriptor(rr.prototype,"force"),rr.prototype),l(rr.prototype,"localForce",[Zi,Ji],Object.getOwnPropertyDescriptor(rr.prototype,"localForce"),rr.prototype),l(rr.prototype,"torque",[Qi,$i],Object.getOwnPropertyDescriptor(rr.prototype,"torque"),rr.prototype),l(rr.prototype,"localTorque",[tr,er],Object.getOwnPropertyDescriptor(rr.prototype,"localTorque"),rr.prototype),ir=rr))||ir)||ir)||ir)||ir)||ir)||ir)),tn=t("T",(pr=n("cc.TerrainCollider"),cr=C(),ur=w(),hr=g(U),yr=O(),pr(_r=cr(_r=ur(_r=b((gr=function(t){function e(){var e;return e=t.call(this,R.TERRAIN)||this,c(e,"_terrain",fr,u(e)),e}return o(e,t),s(e,[{key:"terrain",get:function(){return this._terrain},set:function(t){this._terrain=t,this.shape.setTerrain(this._terrain)}},{key:"shape",get:function(){return this._shape}}]),e}(Ne),l((dr=gr).prototype,"terrain",[hr,yr],Object.getOwnPropertyDescriptor(dr.prototype,"terrain"),dr.prototype),fr=l(dr.prototype,"_terrain",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_r=dr))||_r)||_r)||_r)||_r)),en=t("h",(br=n("cc.SimplexCollider"),mr=C(),Cr=w(),wr=g(X),vr=O(),Sr=O(),Or=k(),kr=O(),Tr=k(),Pr=O(),Dr=k(),Er=O(),br(Mr=mr(Mr=Cr(Mr=b((Br=Ir=function(t){function e(){var e;return e=t.call(this,R.SIMPLEX)||this,c(e,"_shapeType",xr,u(e)),c(e,"_vertices",Lr,u(e)),e}return o(e,t),e.prototype.updateVertices=function(){this.shape.setVertices(this._vertices)},s(e,[{key:"shapeType",get:function(){return this._shapeType},set:function(t){this._shapeType=t,this.shape.setShapeType(t)}},{key:"vertex0",get:function(){return this._vertices[0]},set:function(t){_.copy(this._vertices[0],t),this.updateVertices()}},{key:"vertex1",get:function(){return this._vertices[1]},set:function(t){_.copy(this._vertices[1],t),this.updateVertices()}},{key:"vertex2",get:function(){return this._vertices[2]},set:function(t){_.copy(this._vertices[2],t),this.updateVertices()}},{key:"vertex3",get:function(){return this._vertices[3]},set:function(t){_.copy(this._vertices[3],t),this.updateVertices()}},{key:"shape",get:function(){return this._shape}},{key:"vertices",get:function(){return this._vertices}}]),e}(Ne),Ir.ESimplexType=X,l((Ar=Br).prototype,"shapeType",[wr,vr],Object.getOwnPropertyDescriptor(Ar.prototype,"shapeType"),Ar.prototype),l(Ar.prototype,"vertex0",[p,Sr],Object.getOwnPropertyDescriptor(Ar.prototype,"vertex0"),Ar.prototype),l(Ar.prototype,"vertex1",[Or,kr],Object.getOwnPropertyDescriptor(Ar.prototype,"vertex1"),Ar.prototype),l(Ar.prototype,"vertex2",[Tr,Pr],Object.getOwnPropertyDescriptor(Ar.prototype,"vertex2"),Ar.prototype),l(Ar.prototype,"vertex3",[Dr,Er],Object.getOwnPropertyDescriptor(Ar.prototype,"vertex3"),Ar.prototype),xr=l(Ar.prototype,"_shapeType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.TETRAHEDRON}}),Lr=l(Ar.prototype,"_vertices",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new _(0,0,0),new _(0,0,1),new _(1,0,0),new _(0,1,0)]}}),Mr=Ar))||Mr)||Mr)||Mr)||Mr));en||(en=t("h",{}));var rn,nn,on,sn,an,ln,pn,cn,un,hn,yn,_n,dn,fn,gn,bn,mn,Cn,wn,vn,Sn,On,kn,Tn,Pn,Dn,En,Mn,An,xn=t("i",(Fr=n("cc.PlaneCollider"),jr=C(),zr=w(),Nr=g(_),Gr=O(),Rr=O(),Fr(Hr=jr(Hr=zr(Hr=b((Yr=function(t){function e(){var e;return e=t.call(this,R.PLANE)||this,c(e,"_normal",Vr,u(e)),c(e,"_constant",Wr,u(e)),e}return o(e,t),s(e,[{key:"normal",get:function(){return this._normal},set:function(t){_.copy(this._normal,t),this.shape.setNormal(this._normal)}},{key:"constant",get:function(){return this._constant},set:function(t){this._constant=t,this.shape.setConstant(this._constant)}},{key:"shape",get:function(){return this._shape}}]),e}(Ne),l((qr=Yr).prototype,"normal",[Nr,Gr],Object.getOwnPropertyDescriptor(qr.prototype,"normal"),qr.prototype),l(qr.prototype,"constant",[p,Rr],Object.getOwnPropertyDescriptor(qr.prototype,"constant"),qr.prototype),Vr=l(qr.prototype,"_normal",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(0,1,0)}}),Wr=l(qr.prototype,"_constant",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hr=qr))||Hr)||Hr)||Hr)||Hr)),Ln=t("a",(rn=n("cc.Constraint"),nn=I(Ee),on=g(Ee),sn=S(),an=g(Ee),ln=S(),pn=S(),cn=g(Ee),rn(un=nn((fn=dn=function(t){function e(e){var i;return(i=t.call(this)||this).TYPE=void 0,c(i,"_enableCollision",yn,u(i)),c(i,"_connectedBody",_n,u(i)),i._constraint=null,i.TYPE=e,i}o(e,t);var i=e.prototype;return i.onLoad=function(){this._constraint=function(t){return ht.INITED||(ht.INITED=!0,ht[H.POINT_TO_POINT]=function(){return tt(J.wrapper.PointToPointConstraint,Z.PointToPointConstraint)?yt:new J.wrapper.PointToPointConstraint},ht[H.HINGE]=function(){return tt(J.wrapper.HingeConstraint,Z.HingeConstraint)?yt:new J.wrapper.HingeConstraint},ht[H.CONE_TWIST]=function(){return tt(J.wrapper.ConeTwistConstraint,Z.ConeTwistConstraint)?yt:new J.wrapper.ConeTwistConstraint}),ht[t]()}(this.TYPE),this._constraint.initialize(this)},i.onEnable=function(){this._constraint&&this._constraint.onEnable()},i.onDisable=function(){this._constraint&&this._constraint.onDisable()},i.onDestroy=function(){this._constraint&&this._constraint.onDestroy()},s(e,[{key:"attachedBody",get:function(){return this.getComponent(Ee)}},{key:"connectedBody",get:function(){return this._connectedBody},set:function(t){this._connectedBody=t,this._constraint&&this._constraint.setConnectedBody(t)}},{key:"enableCollision",get:function(){return this._enableCollision},set:function(t){this._enableCollision=t,this._constraint&&this._constraint.setEnableCollision(t)}}]),e}(D(P)),dn.Type=H,l((hn=fn).prototype,"attachedBody",[on,E,sn],Object.getOwnPropertyDescriptor(hn.prototype,"attachedBody"),hn.prototype),l(hn.prototype,"connectedBody",[an,ln],Object.getOwnPropertyDescriptor(hn.prototype,"connectedBody"),hn.prototype),l(hn.prototype,"enableCollision",[pn],Object.getOwnPropertyDescriptor(hn.prototype,"enableCollision"),hn.prototype),yn=l(hn.prototype,"_enableCollision",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_n=l(hn.prototype,"_connectedBody",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=hn))||un)||un));Ln||(Ln=t("a",{}));var In,Bn,Fn,jn,zn,Nn,Gn,Rn,Hn,qn,Vn=t("H",(gn=n("cc.HingeConstraint"),bn=C(),mn=w(),Cn=g(_),wn=g(_),vn=g(_),Sn=B("axisA"),On=B("pivotA"),kn=B("pivotB"),gn(Tn=bn(Tn=mn((An=function(t){function e(){var e;return e=t.call(this,H.HINGE)||this,c(e,"_axis",Dn,u(e)),c(e,"_pivotA",En,u(e)),c(e,"_pivotB",Mn,u(e)),e}return o(e,t),s(e,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){_.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){_.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"axis",get:function(){return this._axis},set:function(t){_.copy(this._axis,t),this.constraint.setAxis(this._axis)}},{key:"constraint",get:function(){return this._constraint}}]),e}(Ln),l((Pn=An).prototype,"pivotA",[Cn],Object.getOwnPropertyDescriptor(Pn.prototype,"pivotA"),Pn.prototype),l(Pn.prototype,"pivotB",[wn],Object.getOwnPropertyDescriptor(Pn.prototype,"pivotB"),Pn.prototype),l(Pn.prototype,"axis",[vn],Object.getOwnPropertyDescriptor(Pn.prototype,"axis"),Pn.prototype),Dn=l(Pn.prototype,"_axis",[y,Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),En=l(Pn.prototype,"_pivotA",[y,On],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),Mn=l(Pn.prototype,"_pivotB",[y,kn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),Tn=Pn))||Tn)||Tn)||Tn)),Wn=t("j",(In=n("cc.PointToPointConstraint"),Bn=C(),Fn=w(),jn=g(_),zn=g(_),In(Nn=Bn(Nn=Fn((qn=function(t){function e(){var e;return e=t.call(this,H.POINT_TO_POINT)||this,c(e,"_pivotA",Rn,u(e)),c(e,"_pivotB",Hn,u(e)),e}return o(e,t),s(e,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){_.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){_.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"constraint",get:function(){return this._constraint}}]),e}(Ln),l((Gn=qn).prototype,"pivotA",[jn],Object.getOwnPropertyDescriptor(Gn.prototype,"pivotA"),Gn.prototype),l(Gn.prototype,"pivotB",[zn],Object.getOwnPropertyDescriptor(Gn.prototype,"pivotB"),Gn.prototype),Rn=l(Gn.prototype,"_pivotA",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),Hn=l(Gn.prototype,"_pivotB",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),Nn=Gn))||Nn)||Nn)||Nn));function Yn(t,e){t.__cc_wrapper__=e}function Xn(t){return t.__cc_wrapper__}function Un(t){return Math.max(t.x,Math.max(t.y,t.z))}var Kn=t("V",new _),Zn=t("o",{type:"onTriggerEnter",selfCollider:null,otherCollider:null,impl:null}),Jn=t("q",{type:"onCollisionEnter",selfCollider:null,otherCollider:null,contacts:[],impl:null});function Qn(t){var e=[];if(t.length>=3){e[0]=t[0],e[1]=t[1],e[2]=t[2];for(var i=t.length,r=3;r<i;r+=3){for(var n=t[r],o=t[r+1],s=t[r+2],a=e.length,l=!0,p=0;p<a;p+=3)if(h(n,e[p])&&h(o,e[p+1])&&h(s,e[p+2])){l=!1;break}l&&(e.push(n),e.push(o),e.push(s))}}return e}var $n=Object.freeze({__proto__:null,setWrap:Yn,getWrap:Xn,maxComponent:Un,VEC3_0:Kn,TriggerEventObject:Zn,CollisionEventObject:Jn,shrinkPositions:Qn,cylinder:K});e.PhysicsSystem=se,e.PhysicsMaterial=_t,e.PhysicsRayResult=dt,e.ConstantForce=$r,t("p",Object.freeze({__proto__:null,PhysicsSystem:se,PhysicsRayResult:dt,get Collider(){return Ne},BoxCollider:Xr,SphereCollider:Ur,CapsuleCollider:Kr,MeshCollider:Qr,CylinderCollider:Zr,ConeCollider:Jr,TerrainCollider:tn,get SimplexCollider(){return en},PlaneCollider:xn,get Constraint(){return Ln},HingeConstraint:Vn,PointToPointConstraint:Wn,get RigidBody(){return Ee},PhysicsMaterial:_t,ConstantForce:$r,selector:J,utils:$n,get ERigidBodyType(){return W},get EAxisDirection(){return Y},get ESimplexType(){return X},get EColliderType(){return R},get EConstraintType(){return H},get PhysicsGroup(){return q}}))}}}));
