System.register(["./fog-01fb8507.js","./json-asset-60ef8fb2.js","./create-mesh-b65f8c32.js","./mesh-ffbbac2d.js","./capsule-13549038.js"],(function(i){"use strict";var n,o,t,r,e,s,a,u,v,f,c,h,m,p,d,l,P,M,g;return{setters:[function(i){n=i.a2,o=i.cY,t=i.dz,r=i.eu,e=i.eA,s=i.ev,a=i.ex,u=i.l,v=i.eE,f=i.eN,c=i.eF,h=i.eB},function(){},function(i){m=i.c},function(i){p=i.M},function(i){d=i.c,l=i.a,P=i.b,M=i.p,g=i.d}],execute:function(){var x,y,b,E,I,L,z,A,R,N=Object.freeze({__proto__:null,box:P,cone:function(i,n,o){return void 0===i&&(i=.5),void 0===n&&(n=1),void 0===o&&(o={}),d(0,i,n,o)},cylinder:d,plane:M,quad:function(i){var n=l(i),o={positions:[-.5,-.5,0,-.5,.5,0,.5,.5,0,.5,-.5,0],indices:[0,3,1,3,2,1],minPos:{x:-.5,y:-.5,z:0},maxPos:{x:.5,y:.5,z:0},boundingRadius:Math.sqrt(.5)};return!1!==n.includeNormal&&(o.normals=[0,0,1,0,0,1,0,0,1,0,0,1]),!1!==n.includeUV&&(o.uvs=[0,0,0,1,1,1,1,0]),o},sphere:function(i,n){void 0===i&&(i=.5),void 0===n&&(n={});for(var t=void 0!==n.segments?n.segments:32,r=[],e=[],s=[],a=[],u=new o(-i,-i,-i),v=new o(i,i,i),f=i,c=0;c<=t;++c)for(var h=c*Math.PI/t,m=Math.sin(h),p=-Math.cos(h),d=0;d<=t;++d){var l=2*d*Math.PI/t-Math.PI/2,P=Math.sin(l)*m,M=p,g=Math.cos(l)*m,x=d/t,y=c/t;if(r.push(P*i,M*i,g*i),e.push(P,M,g),s.push(x,y),c<t&&d<t){var b=t+1,E=b*c+d,I=b*(c+1)+d,L=b*(c+1)+d+1,z=b*c+d+1;a.push(E,z,I),a.push(z,L,I)}}return{positions:r,indices:a,normals:e,uvs:s,minPos:u,maxPos:v,boundingRadius:f}},torus:function(i,n,t){void 0===i&&(i=.4),void 0===n&&(n=.1),void 0===t&&(t={});for(var r=t.radialSegments||32,e=t.tubularSegments||32,s=t.arc||2*Math.PI,a=[],u=[],v=[],f=[],c=new o(-i-n,-n,-i-n),h=new o(i+n,n,i+n),m=i+n,p=0;p<=r;p++)for(var d=0;d<=e;d++){var l=d/e,P=p/r,M=l*s,g=P*Math.PI*2,x=(i+n*Math.cos(g))*Math.sin(M),y=n*Math.sin(g),b=(i+n*Math.cos(g))*Math.cos(M),E=Math.sin(M)*Math.cos(g),I=Math.sin(g),L=Math.cos(M)*Math.cos(g);if(a.push(x,y,b),u.push(E,I,L),v.push(l,P),d<e&&p<r){var z=e+1,A=z*p+d,R=z*(p+1)+d,N=z*(p+1)+d+1,w=z*p+d+1;f.push(A,w,R),f.push(w,N,R)}}return{positions:a,normals:u,uvs:v,indices:f,minPos:c,maxPos:h,boundingRadius:m}},capsule:g,circle:function(i){var o=function(i){return(i=l(i)).segments=64,i}(i).segments,t=new Array(3*(o+1));t[0]=0,t[1]=0,t[2]=0;var r=new Array(1+2*o);r[0]=0;for(var e=2*Math.PI/o,s=0;s<o;++s){var a=e*s,u=Math.cos(a),v=Math.sin(a),f=3*(s+1);t[f+0]=u,t[f+1]=v,t[f+2]=0;var c=2*s;r[1+c]=s+1,r[1+(c+1)]=s+2}return o>0&&(r[r.length-1]=1),{positions:t,indices:r,minPos:{x:1,y:1,z:0},maxPos:{x:-1,y:-1,z:0},boundingRadius:1,primitiveMode:n.TRIANGLE_FAN}},translate:function(i,n){for(var o=n.x||0,t=n.y||0,r=n.z||0,e=Math.floor(i.positions.length/3),s=0;s<e;++s){var a=3*s,u=3*s+1,v=3*s+2;i.positions[a]+=o,i.positions[u]+=t,i.positions[v]+=r}return i.minPos&&(i.minPos.x+=o,i.minPos.y+=t,i.minPos.z+=r),i.maxPos&&(i.maxPos.x+=o,i.maxPos.y+=t,i.maxPos.z+=r),i},scale:function(i,n){for(var o=n.x||0,t=n.y||0,r=n.z||0,e=Math.floor(i.positions.length/3),s=0;s<e;++s){var a=3*s,u=3*s+1,v=3*s+2;i.positions[a]*=o,i.positions[u]*=t,i.positions[v]*=r}return i.minPos&&(i.minPos.x*=o,i.minPos.y*=t,i.minPos.z*=r),i.maxPos&&(i.maxPos.x*=o,i.maxPos.y*=t,i.maxPos.z*=r),i.boundingRadius=Math.max(Math.max(o,t),r),i},wireframed:function(i){var o=i.indices;if(!o)return i;if(i.primitiveMode&&i.primitiveMode!==n.TRIANGLE_LIST)return i;for(var t=[[0,1],[1,2],[2,0]],r=[],e={},s=0;s<o.length;s+=3)for(var a=0;a<3;++a){var u=o[s+t[a][0]],v=o[s+t[a][1]],f=u>v?v<<16|u:u<<16|v;void 0===e[f]&&(e[f]=0,r.push(u,v))}return i.indices=r,i.primitiveMode=n.LINE_LIST,i},wireframe:function(i){for(var n=[[0,1],[1,2],[2,0]],o=[],t={},r=0;r<i.length;r+=3)for(var e=0;e<3;++e){var s=i[r+n[e][0]],a=i[r+n[e][1]],u=s>a?a<<16|s:s<<16|a;void 0===t[u]&&(t[u]=0,o.push(s,a))}return o},invWinding:function(i){for(var n=[],o=0;o<i.length;o+=3)n.push(i[o],i[o+2],i[o+1]);return n},toWavefrontOBJ:function(i,o){if(void 0===o&&(o=1),!i.indices||!i.uvs||!i.normals||void 0!==i.primitiveMode&&i.primitiveMode!==n.TRIANGLE_LIST)return"";for(var t=i.positions,r=i.uvs,e=i.normals,s=i.indices,a=function(i){return s[i]+1+"/"+(s[i]+1)+"/"+(s[i]+1)},u="",v=0;v<t.length;v+=3)u+="v "+t[v]*o+" "+t[v+1]*o+" "+t[v+2]*o+"\n";for(var f=0;f<r.length;f+=2)u+="vt "+r[f]+" "+r[f+1]+"\n";for(var c=0;c<e.length;c+=3)u+="vn "+e[c]+" "+e[c+1]+" "+e[c+2]+"\n";for(var h=0;h<s.length;h+=3)u+="f "+a(h)+" "+a(h+1)+" "+a(h+2)+"\n";return u},normals:function(i,n,o){void 0===o&&(o=1);for(var t=new Array(2*i.length),r=0;r<i.length/3;++r){var e=3*r,s=6*r;t[s+0]=i[e+0],t[s+1]=i[e+1],t[s+2]=i[e+2],t[s+3]=i[e+0]+n[e+0]*o,t[s+4]=i[e+1]+n[e+1]*o,t[s+5]=i[e+2]+n[e+2]*o}return t},applyDefaultGeometryOptions:l});i("primitives",N),function(i){i[i.BOX=0]="BOX",i[i.SPHERE=1]="SPHERE",i[i.CYLINDER=2]="CYLINDER",i[i.CONE=3]="CONE",i[i.CAPSULE=4]="CAPSULE",i[i.TORUS=5]="TORUS",i[i.PLANE=6]="PLANE",i[i.QUAD=7]="QUAD"}(R||(R={})),t(R);var w=i("Primitive",(x=r("cc.Primitive"),y=e(R),x((A=z=function(i){function n(n){var o;return void 0===n&&(n=R.BOX),o=i.call(this)||this,v(o,"type",I,f(o)),v(o,"info",L,f(o)),o.type=n,o}return s(n,i),n.prototype.onLoaded=function(){m(N[R[this.type].toLowerCase()](this.info),this)},n}(p),z.PrimitiveType=R,I=a((E=A).prototype,"type",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.BOX}}),L=a(E.prototype,"info",[c,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=E))||b));u.Primitive=w,u.primitives=N}}}));
